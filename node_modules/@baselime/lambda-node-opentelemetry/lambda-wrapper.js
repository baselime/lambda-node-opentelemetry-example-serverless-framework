var m0=Object.create;var Sg=Object.defineProperty;var R0=Object.getOwnPropertyDescriptor;var P0=Object.getOwnPropertyNames;var N0=Object.getPrototypeOf,I0=Object.prototype.hasOwnProperty;var a=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var b0=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of P0(e))!I0.call(r,i)&&i!==t&&Sg(r,i,{get:()=>e[i],enumerable:!(n=R0(e,i))||n.enumerable});return r};var hg=(r,e,t)=>(t=r!=null?m0(N0(r)):{},b0(e||!r||!r.__esModule?Sg(t,"default",{value:r,enumerable:!0}):t,r));var gg=a(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga._globalThis=void 0;Ga._globalThis=typeof globalThis=="object"?globalThis:global});var Og=a(un=>{"use strict";var v0=un&&un.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),C0=un&&un.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&v0(e,r,t)};Object.defineProperty(un,"__esModule",{value:!0});C0(gg(),un)});var mg=a(cn=>{"use strict";var M0=cn&&cn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),y0=cn&&cn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&M0(e,r,t)};Object.defineProperty(cn,"__esModule",{value:!0});y0(Og(),cn)});var FE=a(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.VERSION=void 0;Ba.VERSION="1.3.0"});var Ng=a(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.isCompatible=vi._makeCompatibilityCheck=void 0;var L0=FE(),Rg=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Pg(r){let e=new Set([r]),t=new Set,n=r.match(Rg);if(!n)return()=>!1;let i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(c){return c===r};function s(u){return t.add(u),!1}function o(u){return e.add(u),!0}return function(c){if(e.has(c))return!0;if(t.has(c))return!1;let _=c.match(Rg);if(!_)return s(c);let l={major:+_[1],minor:+_[2],patch:+_[3],prerelease:_[4]};return l.prerelease!=null||i.major!==l.major?s(c):i.major===0?i.minor===l.minor&&i.patch<=l.patch?o(c):s(c):i.minor<=l.minor?o(c):s(c)}}vi._makeCompatibilityCheck=Pg;vi.isCompatible=Pg(L0.VERSION)});var _n=a(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.unregisterGlobal=mr.getGlobal=mr.registerGlobal=void 0;var D0=mg(),js=FE(),w0=Ng(),U0=js.VERSION.split(".")[0],Vs=Symbol.for(`opentelemetry.js.api.${U0}`),Hs=D0._globalThis;function G0(r,e,t,n=!1){var i;let s=Hs[Vs]=(i=Hs[Vs])!==null&&i!==void 0?i:{version:js.VERSION};if(!n&&s[r]){let o=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${r}`);return t.error(o.stack||o.message),!1}if(s.version!==js.VERSION){let o=new Error("@opentelemetry/api: All API registration versions must match");return t.error(o.stack||o.message),!1}return s[r]=e,t.debug(`@opentelemetry/api: Registered a global for ${r} v${js.VERSION}.`),!0}mr.registerGlobal=G0;function B0(r){var e,t;let n=(e=Hs[Vs])===null||e===void 0?void 0:e.version;if(!(!n||!(0,w0.isCompatible)(n)))return(t=Hs[Vs])===null||t===void 0?void 0:t[r]}mr.getGlobal=B0;function q0(r,e){e.debug(`@opentelemetry/api: Unregistering a global for ${r} v${js.VERSION}.`);let t=Hs[Vs];t&&delete t[r]}mr.unregisterGlobal=q0});var Ig=a(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.DiagComponentLogger=void 0;var j0=_n(),xE=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return Fs("debug",this._namespace,e)}error(...e){return Fs("error",this._namespace,e)}info(...e){return Fs("info",this._namespace,e)}warn(...e){return Fs("warn",this._namespace,e)}verbose(...e){return Fs("verbose",this._namespace,e)}};qa.DiagComponentLogger=xE;function Fs(r,e,t){let n=(0,j0.getGlobal)("diag");if(n)return t.unshift(e),n[r](...t)}});var ja=a(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.DiagLogLevel=void 0;var V0;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(V0=xs.DiagLogLevel||(xs.DiagLogLevel={}))});var bg=a(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.createLogLevelDiagLogger=void 0;var tr=ja();function H0(r,e){r<tr.DiagLogLevel.NONE?r=tr.DiagLogLevel.NONE:r>tr.DiagLogLevel.ALL&&(r=tr.DiagLogLevel.ALL),e=e||{};function t(n,i){let s=e[n];return typeof s=="function"&&r>=i?s.bind(e):function(){}}return{error:t("error",tr.DiagLogLevel.ERROR),warn:t("warn",tr.DiagLogLevel.WARN),info:t("info",tr.DiagLogLevel.INFO),debug:t("debug",tr.DiagLogLevel.DEBUG),verbose:t("verbose",tr.DiagLogLevel.VERBOSE)}}Va.createLogLevelDiagLogger=H0});var ln=a(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.DiagAPI=void 0;var F0=Ig(),x0=bg(),vg=ja(),Ha=_n(),K0="diag",Ks=class{constructor(){function e(i){return function(...s){let o=(0,Ha.getGlobal)("diag");if(o)return o[i](...s)}}let t=this,n=(i,s={logLevel:vg.DiagLogLevel.INFO})=>{var o,u,c;if(i===t){let d=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((o=d.stack)!==null&&o!==void 0?o:d.message),!1}typeof s=="number"&&(s={logLevel:s});let _=(0,Ha.getGlobal)("diag"),l=(0,x0.createLogLevelDiagLogger)((u=s.logLevel)!==null&&u!==void 0?u:vg.DiagLogLevel.INFO,i);if(_&&!s.suppressOverrideMessage){let d=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";_.warn(`Current logger will be overwritten from ${d}`),l.warn(`Current logger will overwrite one already registered from ${d}`)}return(0,Ha.registerGlobal)("diag",l,t,!0)};t.setLogger=n,t.disable=()=>{(0,Ha.unregisterGlobal)(K0,t)},t.createComponentLogger=i=>new F0.DiagComponentLogger(i),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new Ks),this._instance}};Fa.DiagAPI=Ks});var Cg=a(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.BaggageImpl=void 0;var Rr=class{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new Rr(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new Rr(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new Rr(this._entries);for(let n of e)t._entries.delete(n);return t}clear(){return new Rr}};xa.BaggageImpl=Rr});var Mg=a(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.baggageEntryMetadataSymbol=void 0;Ka.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var KE=a(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.baggageEntryMetadataFromString=Ci.createBaggage=void 0;var $0=ln(),X0=Cg(),Y0=Mg(),W0=$0.DiagAPI.instance();function k0(r={}){return new X0.BaggageImpl(new Map(Object.entries(r)))}Ci.createBaggage=k0;function z0(r){return typeof r!="string"&&(W0.error(`Cannot create baggage metadata from unknown type: ${typeof r}`),r=""),{__TYPE__:Y0.baggageEntryMetadataSymbol,toString(){return r}}}Ci.baggageEntryMetadataFromString=z0});var $s=a(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.ROOT_CONTEXT=yi.createContextKey=void 0;function Q0(r){return Symbol.for(r)}yi.createContextKey=Q0;var Mi=class{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=n=>t._currentContext.get(n),t.setValue=(n,i)=>{let s=new Mi(t._currentContext);return s._currentContext.set(n,i),s},t.deleteValue=n=>{let i=new Mi(t._currentContext);return i._currentContext.delete(n),i}}};yi.ROOT_CONTEXT=new Mi});var yg=a($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.DiagConsoleLogger=void 0;var $E=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],XE=class{constructor(){function e(t){return function(...n){if(console){let i=console[t];if(typeof i!="function"&&(i=console.log),typeof i=="function")return i.apply(console,n)}}}for(let t=0;t<$E.length;t++)this[$E[t].n]=e($E[t].c)}};$a.DiagConsoleLogger=XE});var YE=a(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.createNoopMeter=M.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=M.NOOP_OBSERVABLE_GAUGE_METRIC=M.NOOP_OBSERVABLE_COUNTER_METRIC=M.NOOP_UP_DOWN_COUNTER_METRIC=M.NOOP_HISTOGRAM_METRIC=M.NOOP_COUNTER_METRIC=M.NOOP_METER=M.NoopObservableUpDownCounterMetric=M.NoopObservableGaugeMetric=M.NoopObservableCounterMetric=M.NoopObservableMetric=M.NoopHistogramMetric=M.NoopUpDownCounterMetric=M.NoopCounterMetric=M.NoopMetric=M.NoopMeter=void 0;var Xa=class{constructor(){}createHistogram(e,t){return M.NOOP_HISTOGRAM_METRIC}createCounter(e,t){return M.NOOP_COUNTER_METRIC}createUpDownCounter(e,t){return M.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,t){return M.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,t){return M.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,t){return M.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}};M.NoopMeter=Xa;var Li=class{};M.NoopMetric=Li;var Ya=class extends Li{add(e,t){}};M.NoopCounterMetric=Ya;var Wa=class extends Li{add(e,t){}};M.NoopUpDownCounterMetric=Wa;var ka=class extends Li{record(e,t){}};M.NoopHistogramMetric=ka;var Di=class{addCallback(e){}removeCallback(e){}};M.NoopObservableMetric=Di;var za=class extends Di{};M.NoopObservableCounterMetric=za;var Qa=class extends Di{};M.NoopObservableGaugeMetric=Qa;var Za=class extends Di{};M.NoopObservableUpDownCounterMetric=Za;M.NOOP_METER=new Xa;M.NOOP_COUNTER_METRIC=new Ya;M.NOOP_HISTOGRAM_METRIC=new ka;M.NOOP_UP_DOWN_COUNTER_METRIC=new Wa;M.NOOP_OBSERVABLE_COUNTER_METRIC=new za;M.NOOP_OBSERVABLE_GAUGE_METRIC=new Qa;M.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new Za;function Z0(){return M.NOOP_METER}M.createNoopMeter=Z0});var Lg=a(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.ValueType=void 0;var J0;(function(r){r[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"})(J0=Xs.ValueType||(Xs.ValueType={}))});var WE=a(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.defaultTextMapSetter=wi.defaultTextMapGetter=void 0;wi.defaultTextMapGetter={get(r,e){if(r!=null)return r[e]},keys(r){return r==null?[]:Object.keys(r)}};wi.defaultTextMapSetter={set(r,e,t){r!=null&&(r[e]=t)}}});var Dg=a(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.NoopContextManager=void 0;var e1=$s(),kE=class{active(){return e1.ROOT_CONTEXT}with(e,t,n,...i){return t.call(n,...i)}bind(e,t){return t}enable(){return this}disable(){return this}};Ja.NoopContextManager=kE});var tu=a(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.ContextAPI=void 0;var t1=Dg(),zE=_n(),wg=ln(),QE="context",r1=new t1.NoopContextManager,Ys=class{constructor(){}static getInstance(){return this._instance||(this._instance=new Ys),this._instance}setGlobalContextManager(e){return(0,zE.registerGlobal)(QE,e,wg.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,n,...i){return this._getContextManager().with(e,t,n,...i)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,zE.getGlobal)(QE)||r1}disable(){this._getContextManager().disable(),(0,zE.unregisterGlobal)(QE,wg.DiagAPI.instance())}};eu.ContextAPI=Ys});var ZE=a(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.TraceFlags=void 0;var n1;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(n1=Ws.TraceFlags||(Ws.TraceFlags={}))});var ru=a(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.INVALID_SPAN_CONTEXT=Vt.INVALID_TRACEID=Vt.INVALID_SPANID=void 0;var i1=ZE();Vt.INVALID_SPANID="0000000000000000";Vt.INVALID_TRACEID="00000000000000000000000000000000";Vt.INVALID_SPAN_CONTEXT={traceId:Vt.INVALID_TRACEID,spanId:Vt.INVALID_SPANID,traceFlags:i1.TraceFlags.NONE}});var iu=a(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.NonRecordingSpan=void 0;var s1=ru(),JE=class{constructor(e=s1.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}};nu.NonRecordingSpan=JE});var rp=a(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.getSpanContext=tt.setSpanContext=tt.deleteSpan=tt.setSpan=tt.getActiveSpan=tt.getSpan=void 0;var o1=$s(),a1=iu(),u1=tu(),ep=(0,o1.createContextKey)("OpenTelemetry Context Key SPAN");function tp(r){return r.getValue(ep)||void 0}tt.getSpan=tp;function c1(){return tp(u1.ContextAPI.getInstance().active())}tt.getActiveSpan=c1;function Ug(r,e){return r.setValue(ep,e)}tt.setSpan=Ug;function _1(r){return r.deleteValue(ep)}tt.deleteSpan=_1;function l1(r,e){return Ug(r,new a1.NonRecordingSpan(e))}tt.setSpanContext=l1;function d1(r){var e;return(e=tp(r))===null||e===void 0?void 0:e.spanContext()}tt.getSpanContext=d1});var su=a(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.wrapSpanContext=Ht.isSpanContextValid=Ht.isValidSpanId=Ht.isValidTraceId=void 0;var Gg=ru(),E1=iu(),p1=/^([0-9a-f]{32})$/i,f1=/^[0-9a-f]{16}$/i;function Bg(r){return p1.test(r)&&r!==Gg.INVALID_TRACEID}Ht.isValidTraceId=Bg;function qg(r){return f1.test(r)&&r!==Gg.INVALID_SPANID}Ht.isValidSpanId=qg;function T1(r){return Bg(r.traceId)&&qg(r.spanId)}Ht.isSpanContextValid=T1;function A1(r){return new E1.NonRecordingSpan(r)}Ht.wrapSpanContext=A1});var sp=a(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.NoopTracer=void 0;var S1=tu(),jg=rp(),np=iu(),h1=su(),Vg=S1.ContextAPI.getInstance(),ip=class{startSpan(e,t,n){if(Boolean(t==null?void 0:t.root))return new np.NonRecordingSpan;let s=n&&(0,jg.getSpanContext)(n);return g1(s)&&(0,h1.isSpanContextValid)(s)?new np.NonRecordingSpan(s):new np.NonRecordingSpan}startActiveSpan(e,t,n,i){let s,o,u;if(arguments.length<2)return;arguments.length===2?u=t:arguments.length===3?(s=t,u=n):(s=t,o=n,u=i);let c=o??Vg.active(),_=this.startSpan(e,s,c),l=(0,jg.setSpan)(c,_);return Vg.with(l,u,void 0,_)}};ou.NoopTracer=ip;function g1(r){return typeof r=="object"&&typeof r.spanId=="string"&&typeof r.traceId=="string"&&typeof r.traceFlags=="number"}});var ap=a(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.ProxyTracer=void 0;var O1=sp(),m1=new O1.NoopTracer,op=class{constructor(e,t,n,i){this._provider=e,this.name=t,this.version=n,this.options=i}startSpan(e,t,n){return this._getTracer().startSpan(e,t,n)}startActiveSpan(e,t,n,i){let s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):m1}};au.ProxyTracer=op});var Hg=a(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.NoopTracerProvider=void 0;var R1=sp(),up=class{getTracer(e,t,n){return new R1.NoopTracer}};uu.NoopTracerProvider=up});var _p=a(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.ProxyTracerProvider=void 0;var P1=ap(),N1=Hg(),I1=new N1.NoopTracerProvider,cp=class{getTracer(e,t,n){var i;return(i=this.getDelegateTracer(e,t,n))!==null&&i!==void 0?i:new P1.ProxyTracer(this,e,t,n)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:I1}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(e,t,n)}};cu.ProxyTracerProvider=cp});var Fg=a(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.SamplingDecision=void 0;var b1;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(b1=ks.SamplingDecision||(ks.SamplingDecision={}))});var xg=a(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.SpanKind=void 0;var v1;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(v1=zs.SpanKind||(zs.SpanKind={}))});var Kg=a(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.SpanStatusCode=void 0;var C1;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(C1=Qs.SpanStatusCode||(Qs.SpanStatusCode={}))});var $g=a(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.validateValue=Ui.validateKey=void 0;var lp="[_0-9a-z-*/]",M1=`[a-z]${lp}{0,255}`,y1=`[a-z0-9]${lp}{0,240}@[a-z]${lp}{0,13}`,L1=new RegExp(`^(?:${M1}|${y1})$`),D1=/^[ -~]{0,255}[!-~]$/,w1=/,|=/;function U1(r){return L1.test(r)}Ui.validateKey=U1;function G1(r){return D1.test(r)&&!w1.test(r)}Ui.validateValue=G1});var zg=a(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.TraceStateImpl=void 0;var Xg=$g(),Yg=32,B1=512,Wg=",",kg="=",Zs=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+kg+this.get(t)),e),[]).join(Wg)}_parse(e){e.length>B1||(this._internalState=e.split(Wg).reverse().reduce((t,n)=>{let i=n.trim(),s=i.indexOf(kg);if(s!==-1){let o=i.slice(0,s),u=i.slice(s+1,n.length);(0,Xg.validateKey)(o)&&(0,Xg.validateValue)(u)&&t.set(o,u)}return t},new Map),this._internalState.size>Yg&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Yg))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new Zs;return e._internalState=new Map(this._internalState),e}};_u.TraceStateImpl=Zs});var Qg=a(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.createTraceState=void 0;var q1=zg();function j1(r){return new q1.TraceStateImpl(r)}lu.createTraceState=j1});var Zg=a(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.context=void 0;var V1=tu();du.context=V1.ContextAPI.getInstance()});var Jg=a(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.diag=void 0;var H1=ln();Eu.diag=H1.DiagAPI.instance()});var eO=a(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.NOOP_METER_PROVIDER=Gi.NoopMeterProvider=void 0;var F1=YE(),pu=class{getMeter(e,t,n){return F1.NOOP_METER}};Gi.NoopMeterProvider=pu;Gi.NOOP_METER_PROVIDER=new pu});var rO=a(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.MetricsAPI=void 0;var x1=eO(),dp=_n(),tO=ln(),Ep="metrics",Js=class{constructor(){}static getInstance(){return this._instance||(this._instance=new Js),this._instance}setGlobalMeterProvider(e){return(0,dp.registerGlobal)(Ep,e,tO.DiagAPI.instance())}getMeterProvider(){return(0,dp.getGlobal)(Ep)||x1.NOOP_METER_PROVIDER}getMeter(e,t,n){return this.getMeterProvider().getMeter(e,t,n)}disable(){(0,dp.unregisterGlobal)(Ep,tO.DiagAPI.instance())}};fu.MetricsAPI=Js});var nO=a(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.metrics=void 0;var K1=rO();Tu.metrics=K1.MetricsAPI.getInstance()});var iO=a(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.NoopTextMapPropagator=void 0;var pp=class{inject(e,t){}extract(e,t){return e}fields(){return[]}};Au.NoopTextMapPropagator=pp});var sO=a(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.deleteBaggage=Pr.setBaggage=Pr.getBaggage=void 0;var $1=$s(),fp=(0,$1.createContextKey)("OpenTelemetry Baggage Key");function X1(r){return r.getValue(fp)||void 0}Pr.getBaggage=X1;function Y1(r,e){return r.setValue(fp,e)}Pr.setBaggage=Y1;function W1(r){return r.deleteValue(fp)}Pr.deleteBaggage=W1});var uO=a(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.PropagationAPI=void 0;var Tp=_n(),k1=iO(),oO=WE(),Ap=sO(),z1=KE(),aO=ln(),Sp="propagation",Q1=new k1.NoopTextMapPropagator,eo=class{constructor(){this.createBaggage=z1.createBaggage,this.getBaggage=Ap.getBaggage,this.setBaggage=Ap.setBaggage,this.deleteBaggage=Ap.deleteBaggage}static getInstance(){return this._instance||(this._instance=new eo),this._instance}setGlobalPropagator(e){return(0,Tp.registerGlobal)(Sp,e,aO.DiagAPI.instance())}inject(e,t,n=oO.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,n)}extract(e,t,n=oO.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,n)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,Tp.unregisterGlobal)(Sp,aO.DiagAPI.instance())}_getGlobalPropagator(){return(0,Tp.getGlobal)(Sp)||Q1}};Su.PropagationAPI=eo});var cO=a(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.propagation=void 0;var Z1=uO();hu.propagation=Z1.PropagationAPI.getInstance()});var EO=a(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.TraceAPI=void 0;var hp=_n(),_O=_p(),lO=su(),Bi=rp(),dO=ln(),gp="trace",to=class{constructor(){this._proxyTracerProvider=new _O.ProxyTracerProvider,this.wrapSpanContext=lO.wrapSpanContext,this.isSpanContextValid=lO.isSpanContextValid,this.deleteSpan=Bi.deleteSpan,this.getSpan=Bi.getSpan,this.getActiveSpan=Bi.getActiveSpan,this.getSpanContext=Bi.getSpanContext,this.setSpan=Bi.setSpan,this.setSpanContext=Bi.setSpanContext}static getInstance(){return this._instance||(this._instance=new to),this._instance}setGlobalTracerProvider(e){let t=(0,hp.registerGlobal)(gp,this._proxyTracerProvider,dO.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,hp.getGlobal)(gp)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,hp.unregisterGlobal)(gp,dO.DiagAPI.instance()),this._proxyTracerProvider=new _O.ProxyTracerProvider}};gu.TraceAPI=to});var pO=a(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.trace=void 0;var J1=EO();Ou.trace=J1.TraceAPI.getInstance()});var f=a(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.trace=h.propagation=h.metrics=h.diag=h.context=h.INVALID_SPAN_CONTEXT=h.INVALID_TRACEID=h.INVALID_SPANID=h.isValidSpanId=h.isValidTraceId=h.isSpanContextValid=h.createTraceState=h.TraceFlags=h.SpanStatusCode=h.SpanKind=h.SamplingDecision=h.ProxyTracerProvider=h.ProxyTracer=h.defaultTextMapSetter=h.defaultTextMapGetter=h.ValueType=h.createNoopMeter=h.DiagLogLevel=h.DiagConsoleLogger=h.ROOT_CONTEXT=h.createContextKey=h.baggageEntryMetadataFromString=void 0;var ew=KE();Object.defineProperty(h,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return ew.baggageEntryMetadataFromString}});var fO=$s();Object.defineProperty(h,"createContextKey",{enumerable:!0,get:function(){return fO.createContextKey}});Object.defineProperty(h,"ROOT_CONTEXT",{enumerable:!0,get:function(){return fO.ROOT_CONTEXT}});var tw=yg();Object.defineProperty(h,"DiagConsoleLogger",{enumerable:!0,get:function(){return tw.DiagConsoleLogger}});var rw=ja();Object.defineProperty(h,"DiagLogLevel",{enumerable:!0,get:function(){return rw.DiagLogLevel}});var nw=YE();Object.defineProperty(h,"createNoopMeter",{enumerable:!0,get:function(){return nw.createNoopMeter}});var iw=Lg();Object.defineProperty(h,"ValueType",{enumerable:!0,get:function(){return iw.ValueType}});var TO=WE();Object.defineProperty(h,"defaultTextMapGetter",{enumerable:!0,get:function(){return TO.defaultTextMapGetter}});Object.defineProperty(h,"defaultTextMapSetter",{enumerable:!0,get:function(){return TO.defaultTextMapSetter}});var sw=ap();Object.defineProperty(h,"ProxyTracer",{enumerable:!0,get:function(){return sw.ProxyTracer}});var ow=_p();Object.defineProperty(h,"ProxyTracerProvider",{enumerable:!0,get:function(){return ow.ProxyTracerProvider}});var aw=Fg();Object.defineProperty(h,"SamplingDecision",{enumerable:!0,get:function(){return aw.SamplingDecision}});var uw=xg();Object.defineProperty(h,"SpanKind",{enumerable:!0,get:function(){return uw.SpanKind}});var cw=Kg();Object.defineProperty(h,"SpanStatusCode",{enumerable:!0,get:function(){return cw.SpanStatusCode}});var _w=ZE();Object.defineProperty(h,"TraceFlags",{enumerable:!0,get:function(){return _w.TraceFlags}});var lw=Qg();Object.defineProperty(h,"createTraceState",{enumerable:!0,get:function(){return lw.createTraceState}});var Op=su();Object.defineProperty(h,"isSpanContextValid",{enumerable:!0,get:function(){return Op.isSpanContextValid}});Object.defineProperty(h,"isValidTraceId",{enumerable:!0,get:function(){return Op.isValidTraceId}});Object.defineProperty(h,"isValidSpanId",{enumerable:!0,get:function(){return Op.isValidSpanId}});var mp=ru();Object.defineProperty(h,"INVALID_SPANID",{enumerable:!0,get:function(){return mp.INVALID_SPANID}});Object.defineProperty(h,"INVALID_TRACEID",{enumerable:!0,get:function(){return mp.INVALID_TRACEID}});Object.defineProperty(h,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return mp.INVALID_SPAN_CONTEXT}});var AO=Zg();Object.defineProperty(h,"context",{enumerable:!0,get:function(){return AO.context}});var SO=Jg();Object.defineProperty(h,"diag",{enumerable:!0,get:function(){return SO.diag}});var hO=nO();Object.defineProperty(h,"metrics",{enumerable:!0,get:function(){return hO.metrics}});var gO=cO();Object.defineProperty(h,"propagation",{enumerable:!0,get:function(){return gO.propagation}});var OO=pO();Object.defineProperty(h,"trace",{enumerable:!0,get:function(){return OO.trace}});h.default={context:AO.context,diag:SO.diag,metrics:hO.metrics,propagation:gO.propagation,trace:OO.trace}});var ro=a(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.isTracingSuppressed=Nr.unsuppressTracing=Nr.suppressTracing=void 0;var dw=f(),Rp=(0,dw.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Ew(r){return r.setValue(Rp,!0)}Nr.suppressTracing=Ew;function pw(r){return r.deleteValue(Rp)}Nr.unsuppressTracing=pw;function fw(r){return r.getValue(Rp)===!0}Nr.isTracingSuppressed=fw});var Pp=a(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.BAGGAGE_MAX_TOTAL_LENGTH=ye.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=ye.BAGGAGE_MAX_NAME_VALUE_PAIRS=ye.BAGGAGE_HEADER=ye.BAGGAGE_ITEMS_SEPARATOR=ye.BAGGAGE_PROPERTIES_SEPARATOR=ye.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;ye.BAGGAGE_KEY_PAIR_SEPARATOR="=";ye.BAGGAGE_PROPERTIES_SEPARATOR=";";ye.BAGGAGE_ITEMS_SEPARATOR=",";ye.BAGGAGE_HEADER="baggage";ye.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;ye.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;ye.BAGGAGE_MAX_TOTAL_LENGTH=8192});var Np=a(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.parseKeyPairsIntoRecord=Ft.parsePairKeyValue=Ft.getKeyPairs=Ft.serializeKeyPairs=void 0;var Tw=f(),dn=Pp();function Aw(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?dn.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>dn.BAGGAGE_MAX_TOTAL_LENGTH?e:n},"")}Ft.serializeKeyPairs=Aw;function Sw(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=dn.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),n})}Ft.getKeyPairs=Sw;function mO(r){let e=r.split(dn.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.split(dn.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return e.length>0&&(o=(0,Tw.baggageEntryMetadataFromString)(e.join(dn.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}Ft.parsePairKeyValue=mO;function hw(r){return typeof r!="string"||r.length===0?{}:r.split(dn.BAGGAGE_ITEMS_SEPARATOR).map(e=>mO(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}Ft.parseKeyPairsIntoRecord=hw});var RO=a(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.W3CBaggagePropagator=void 0;var Ip=f(),gw=ro(),En=Pp(),bp=Np(),vp=class{inject(e,t,n){let i=Ip.propagation.getBaggage(e);if(!i||(0,gw.isTracingSuppressed)(e))return;let s=(0,bp.getKeyPairs)(i).filter(u=>u.length<=En.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,En.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,bp.serializeKeyPairs)(s);o.length>0&&n.set(t,En.BAGGAGE_HEADER,o)}extract(e,t,n){let i=n.get(t,En.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(En.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return e;let o={};return s.length===0||(s.split(En.BAGGAGE_ITEMS_SEPARATOR).forEach(c=>{let _=(0,bp.parsePairKeyValue)(c);if(_){let l={value:_.value};_.metadata&&(l.metadata=_.metadata),o[_.key]=l}}),Object.entries(o).length===0)?e:Ip.propagation.setBaggage(e,Ip.propagation.createBaggage(o))}fields(){return[En.BAGGAGE_HEADER]}};mu.W3CBaggagePropagator=vp});var PO=a(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.AnchoredClock=void 0;var Cp=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};Ru.AnchoredClock=Cp});var CO=a(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.isAttributeValue=Ir.isAttributeKey=Ir.sanitizeAttributes=void 0;var NO=f();function Ow(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!IO(t)){NO.diag.warn(`Invalid attribute key: ${t}`);continue}if(!bO(n)){NO.diag.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}Ir.sanitizeAttributes=Ow;function IO(r){return typeof r=="string"&&r.length>0}Ir.isAttributeKey=IO;function bO(r){return r==null?!0:Array.isArray(r)?mw(r):vO(r)}Ir.isAttributeValue=bO;function mw(r){let e;for(let t of r)if(t!=null){if(!e){if(vO(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function vO(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}});var Mp=a(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.loggingErrorHandler=void 0;var Rw=f();function Pw(){return r=>{Rw.diag.error(Nw(r))}}Pu.loggingErrorHandler=Pw;function Nw(r){return typeof r=="string"?r:JSON.stringify(Iw(r))}function Iw(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let i=t[n];i&&(e[n]=String(i))}),t=Object.getPrototypeOf(t);return e}});var yp=a(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.globalErrorHandler=qi.setGlobalErrorHandler=void 0;var bw=Mp(),MO=(0,bw.loggingErrorHandler)();function vw(r){MO=r}qi.setGlobalErrorHandler=vw;function Cw(r){try{MO(r)}catch{}}qi.globalErrorHandler=Cw});var Lp=a(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.TracesSamplerValues=void 0;var Mw;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(Mw=no.TracesSamplerValues||(no.TracesSamplerValues={}))});var yO=a(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu._globalThis=void 0;Nu._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var wp=a(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.getEnvWithoutDefaults=Re.parseEnvironment=Re.DEFAULT_ENVIRONMENT=Re.DEFAULT_ATTRIBUTE_COUNT_LIMIT=Re.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var br=f(),yw=Lp(),Lw=yO(),Dw=",",ww=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Uw(r){return ww.indexOf(r)>-1}var Gw=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function Bw(r){return Gw.indexOf(r)>-1}Re.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;Re.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;Re.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:br.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Re.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:Re.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Re.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Re.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"otlp",OTEL_TRACES_SAMPLER:yw.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function qw(r,e,t,n=-1/0,i=1/0){if(typeof t[r]<"u"){let s=Number(t[r]);isNaN(s)||(s<n?e[r]=n:s>i?e[r]=i:e[r]=s)}}function jw(r,e,t,n=Dw){let i=t[r];typeof i=="string"&&(e[r]=i.split(n).map(s=>s.trim()))}var Vw={ALL:br.DiagLogLevel.ALL,VERBOSE:br.DiagLogLevel.VERBOSE,DEBUG:br.DiagLogLevel.DEBUG,INFO:br.DiagLogLevel.INFO,WARN:br.DiagLogLevel.WARN,ERROR:br.DiagLogLevel.ERROR,NONE:br.DiagLogLevel.NONE};function Hw(r,e,t){let n=t[r];if(typeof n=="string"){let i=Vw[n.toUpperCase()];i!=null&&(e[r]=i)}}function Dp(r){let e={};for(let t in Re.DEFAULT_ENVIRONMENT){let n=t;switch(n){case"OTEL_LOG_LEVEL":Hw(n,e,r);break;default:if(Uw(n))qw(n,e,r);else if(Bw(n))jw(n,e,r);else{let i=r[n];typeof i<"u"&&i!==null&&(e[n]=String(i))}}}return e}Re.parseEnvironment=Dp;function Fw(){return Dp(typeof process<"u"?process.env:Lw._globalThis)}Re.getEnvWithoutDefaults=Fw});var DO=a(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.getEnv=void 0;var xw=require("os"),LO=wp();function Kw(){let r=(0,LO.parseEnvironment)(process.env);return Object.assign({HOSTNAME:xw.hostname()},LO.DEFAULT_ENVIRONMENT,r)}Iu.getEnv=Kw});var wO=a(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu._globalThis=void 0;bu._globalThis=typeof globalThis=="object"?globalThis:global});var GO=a(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.hexToBase64=void 0;function UO(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}var $w=Buffer.alloc(8),Xw=Buffer.alloc(16);function Yw(r){let e;r.length===16?e=$w:r.length===32?e=Xw:e=Buffer.alloc(r.length/2);let t=0;for(let n=0;n<r.length;n+=2){let i=UO(r.charCodeAt(n)),s=UO(r.charCodeAt(n+1));e.writeUInt8(i<<4|s,t++)}return e.toString("base64")}vu.hexToBase64=Yw});var jO=a(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.RandomIdGenerator=void 0;var Ww=8,qO=16,Up=class{constructor(){this.generateTraceId=BO(qO),this.generateSpanId=BO(Ww)}};Mu.RandomIdGenerator=Up;var Cu=Buffer.allocUnsafe(qO);function BO(r){return function(){for(let t=0;t<r/4;t++)Cu.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(Cu[t]>0);t++)t===r-1&&(Cu[r-1]=1);return Cu.toString("hex",0,r)}}});var VO=a(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.otperformance=void 0;var kw=require("perf_hooks");yu.otperformance=kw.performance});var Du=a(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.VERSION=void 0;Lu.VERSION="1.8.0"});var HO=a(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.MessageTypeValues=x.RpcGrpcStatusCodeValues=x.MessagingOperationValues=x.MessagingDestinationKindValues=x.HttpFlavorValues=x.NetHostConnectionSubtypeValues=x.NetHostConnectionTypeValues=x.NetTransportValues=x.FaasInvokedProviderValues=x.FaasDocumentOperationValues=x.FaasTriggerValues=x.DbCassandraConsistencyLevelValues=x.DbSystemValues=x.SemanticAttributes=void 0;x.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};x.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};x.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};x.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};x.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};x.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};x.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};x.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};x.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};x.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};x.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};x.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};x.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};x.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var FO=a(pn=>{"use strict";var zw=pn&&pn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qw=pn&&pn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&zw(e,r,t)};Object.defineProperty(pn,"__esModule",{value:!0});Qw(HO(),pn)});var xO=a(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.TelemetrySdkLanguageValues=Le.OsTypeValues=Le.HostArchValues=Le.AwsEcsLaunchtypeValues=Le.CloudPlatformValues=Le.CloudProviderValues=Le.SemanticResourceAttributes=void 0;Le.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Le.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Le.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Le.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Le.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Le.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Le.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var KO=a(fn=>{"use strict";var Zw=fn&&fn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jw=fn&&fn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zw(e,r,t)};Object.defineProperty(fn,"__esModule",{value:!0});Jw(xO(),fn)});var ge=a(vr=>{"use strict";var eU=vr&&vr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$O=vr&&vr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&eU(e,r,t)};Object.defineProperty(vr,"__esModule",{value:!0});$O(FO(),vr);$O(KO(),vr)});var XO=a(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.SDK_INFO=void 0;var tU=Du(),io=ge();wu.SDK_INFO={[io.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[io.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[io.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:io.TelemetrySdkLanguageValues.NODEJS,[io.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:tU.VERSION}});var YO=a(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.unrefTimer=void 0;function rU(r){r.unref()}Uu.unrefTimer=rU});var WO=a(ut=>{"use strict";var nU=ut&&ut.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Tn=ut&&ut.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&nU(e,r,t)};Object.defineProperty(ut,"__esModule",{value:!0});Tn(DO(),ut);Tn(wO(),ut);Tn(GO(),ut);Tn(jO(),ut);Tn(VO(),ut);Tn(XO(),ut);Tn(YO(),ut)});var Gp=a(An=>{"use strict";var iU=An&&An.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sU=An&&An.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&iU(e,r,t)};Object.defineProperty(An,"__esModule",{value:!0});sU(WO(),An)});var QO=a(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.isTimeInput=le.isTimeInputHrTime=le.hrTimeToMicroseconds=le.hrTimeToMilliseconds=le.hrTimeToNanoseconds=le.hrTimeToTimeStamp=le.hrTimeDuration=le.timeInputToHrTime=le.hrTime=void 0;var Bp=Gp(),qp=9,so=Math.pow(10,qp);function Gu(r){let e=r/1e3,t=Math.trunc(e),n=Number((e-t).toFixed(qp))*so;return[t,n]}function kO(){let r=Bp.otperformance.timeOrigin;if(typeof r!="number"){let e=Bp.otperformance;r=e.timing&&e.timing.fetchStart}return r}function zO(r){let e=Gu(kO()),t=Gu(typeof r=="number"?r:Bp.otperformance.now()),n=e[0]+t[0],i=e[1]+t[1];return i>so&&(i-=so,n+=1),[n,i]}le.hrTime=zO;function oU(r){if(jp(r))return r;if(typeof r=="number")return r<kO()?zO(r):Gu(r);if(r instanceof Date)return Gu(r.getTime());throw TypeError("Invalid input type")}le.timeInputToHrTime=oU;function aU(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=so),[t,n]}le.hrTimeDuration=aU;function uU(r){let e=qp,t=`${"0".repeat(e)}${r[1]}Z`,n=t.substr(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",n)}le.hrTimeToTimeStamp=uU;function cU(r){return r[0]*so+r[1]}le.hrTimeToNanoseconds=cU;function _U(r){return Math.round(r[0]*1e3+r[1]/1e6)}le.hrTimeToMilliseconds=_U;function lU(r){return Math.round(r[0]*1e6+r[1]/1e3)}le.hrTimeToMicroseconds=lU;function jp(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}le.isTimeInputHrTime=jp;function dU(r){return jp(r)||typeof r=="number"||r instanceof Date}le.isTimeInput=dU});var JO=a(ZO=>{"use strict";Object.defineProperty(ZO,"__esModule",{value:!0})});var em=a(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.ExportResultCode=void 0;var EU;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(EU=oo.ExportResultCode||(oo.ExportResultCode={}))});var rm=a(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.CompositePropagator=void 0;var tm=f(),Vp=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(e,t,n){for(let i of this._propagators)try{i.inject(e,t,n)}catch(s){tm.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(e,t,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,t,n)}catch(o){tm.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},e)}fields(){return this._fields.slice()}};Bu.CompositePropagator=Vp});var nm=a(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.validateValue=ji.validateKey=void 0;var Hp="[_0-9a-z-*/]",pU=`[a-z]${Hp}{0,255}`,fU=`[a-z0-9]${Hp}{0,240}@[a-z]${Hp}{0,13}`,TU=new RegExp(`^(?:${pU}|${fU})$`),AU=/^[ -~]{0,255}[!-~]$/,SU=/,|=/;function hU(r){return TU.test(r)}ji.validateKey=hU;function gU(r){return AU.test(r)&&!SU.test(r)}ji.validateValue=gU});var Fp=a(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.TraceState=void 0;var im=nm(),sm=32,OU=512,om=",",am="=",ao=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+am+this.get(t)),e),[]).join(om)}_parse(e){e.length>OU||(this._internalState=e.split(om).reverse().reduce((t,n)=>{let i=n.trim(),s=i.indexOf(am);if(s!==-1){let o=i.slice(0,s),u=i.slice(s+1,n.length);(0,im.validateKey)(o)&&(0,im.validateValue)(u)&&t.set(o,u)}return t},new Map),this._internalState.size>sm&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,sm))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new ao;return e._internalState=new Map(this._internalState),e}};qu.TraceState=ao});var cm=a(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.W3CTraceContextPropagator=De.parseTraceParent=De.TRACE_STATE_HEADER=De.TRACE_PARENT_HEADER=void 0;var ju=f(),mU=ro(),RU=Fp();De.TRACE_PARENT_HEADER="traceparent";De.TRACE_STATE_HEADER="tracestate";var PU="00",NU="(?!ff)[\\da-f]{2}",IU="(?![0]{32})[\\da-f]{32}",bU="(?![0]{16})[\\da-f]{16}",vU="[\\da-f]{2}",CU=new RegExp(`^\\s?(${NU})-(${IU})-(${bU})-(${vU})(-.*)?\\s?$`);function um(r){let e=CU.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}De.parseTraceParent=um;var xp=class{inject(e,t,n){let i=ju.trace.getSpanContext(e);if(!i||(0,mU.isTracingSuppressed)(e)||!(0,ju.isSpanContextValid)(i))return;let s=`${PU}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||ju.TraceFlags.NONE).toString(16)}`;n.set(t,De.TRACE_PARENT_HEADER,s),i.traceState&&n.set(t,De.TRACE_STATE_HEADER,i.traceState.serialize())}extract(e,t,n){let i=n.get(t,De.TRACE_PARENT_HEADER);if(!i)return e;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;let o=um(s);if(!o)return e;o.isRemote=!0;let u=n.get(t,De.TRACE_STATE_HEADER);if(u){let c=Array.isArray(u)?u.join(","):u;o.traceState=new RU.TraceState(typeof c=="string"?c:void 0)}return ju.trace.setSpanContext(e,o)}fields(){return[De.TRACE_PARENT_HEADER,De.TRACE_STATE_HEADER]}};De.W3CTraceContextPropagator=xp});var lm=a(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0})});var dm=a(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.getRPCMetadata=bt.deleteRPCMetadata=bt.setRPCMetadata=bt.RPCType=void 0;var MU=f(),Kp=(0,MU.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),yU;(function(r){r.HTTP="http"})(yU=bt.RPCType||(bt.RPCType={}));function LU(r,e){return r.setValue(Kp,e)}bt.setRPCMetadata=LU;function DU(r){return r.deleteValue(Kp)}bt.deleteRPCMetadata=DU;function wU(r){return r.getValue(Kp)}bt.getRPCMetadata=wU});var Xp=a(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.AlwaysOffSampler=void 0;var UU=f(),$p=class{shouldSample(){return{decision:UU.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Vu.AlwaysOffSampler=$p});var Wp=a(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.AlwaysOnSampler=void 0;var GU=f(),Yp=class{shouldSample(){return{decision:GU.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Hu.AlwaysOnSampler=Yp});var pm=a(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.ParentBasedSampler=void 0;var Fu=f(),BU=yp(),Em=Xp(),kp=Wp(),zp=class{constructor(e){var t,n,i,s;this._root=e.root,this._root||((0,BU.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new kp.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new kp.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new Em.AlwaysOffSampler,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new kp.AlwaysOnSampler,this._localParentNotSampled=(s=e.localParentNotSampled)!==null&&s!==void 0?s:new Em.AlwaysOffSampler}shouldSample(e,t,n,i,s,o){let u=Fu.trace.getSpanContext(e);return!u||!(0,Fu.isSpanContextValid)(u)?this._root.shouldSample(e,t,n,i,s,o):u.isRemote?u.traceFlags&Fu.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,s,o):this._remoteParentNotSampled.shouldSample(e,t,n,i,s,o):u.traceFlags&Fu.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,s,o):this._localParentNotSampled.shouldSample(e,t,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};xu.ParentBasedSampler=zp});var fm=a(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.TraceIdRatioBasedSampler=void 0;var Qp=f(),Zp=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,Qp.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?Qp.SamplingDecision.RECORD_AND_SAMPLED:Qp.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=n*8,s=parseInt(e.slice(i,i+8),16);t=(t^s)>>>0}return t}};Ku.TraceIdRatioBasedSampler=Zp});var gm=a($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.isPlainObject=void 0;var qU="[object Object]",jU="[object Null]",VU="[object Undefined]",HU=Function.prototype,Tm=HU.toString,FU=Tm.call(Object),xU=KU(Object.getPrototypeOf,Object),Am=Object.prototype,Sm=Am.hasOwnProperty,Sn=Symbol?Symbol.toStringTag:void 0,hm=Am.toString;function KU(r,e){return function(t){return r(e(t))}}function $U(r){if(!XU(r)||YU(r)!==qU)return!1;let e=xU(r);if(e===null)return!0;let t=Sm.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Tm.call(t)===FU}$u.isPlainObject=$U;function XU(r){return r!=null&&typeof r=="object"}function YU(r){return r==null?r===void 0?VU:jU:Sn&&Sn in Object(r)?WU(r):kU(r)}function WU(r){let e=Sm.call(r,Sn),t=r[Sn],n=!1;try{r[Sn]=void 0,n=!0}catch{}let i=hm.call(r);return n&&(e?r[Sn]=t:delete r[Sn]),i}function kU(r){return hm.call(r)}});var Nm=a(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.merge=void 0;var Om=gm(),zU=20;function QU(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=Rm(e,r.shift(),0,t);return e}Wu.merge=QU;function Jp(r){return Yu(r)?r.slice():r}function Rm(r,e,t=0,n){let i;if(!(t>zU)){if(t++,Xu(r)||Xu(e)||Pm(e))i=Jp(e);else if(Yu(r)){if(i=r.slice(),Yu(e))for(let s=0,o=e.length;s<o;s++)i.push(Jp(e[s]));else if(uo(e)){let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o];i[c]=Jp(e[c])}}}else if(uo(r))if(uo(e)){if(!ZU(r,e))return e;i=Object.assign({},r);let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o],_=e[c];if(Xu(_))typeof _>"u"?delete i[c]:i[c]=_;else{let l=i[c],d=_;if(mm(r,c,n)||mm(e,c,n))delete i[c];else{if(uo(l)&&uo(d)){let p=n.get(l)||[],E=n.get(d)||[];p.push({obj:r,key:c}),E.push({obj:e,key:c}),n.set(l,p),n.set(d,E)}i[c]=Rm(i[c],_,t,n)}}}}else i=e;return i}}function mm(r,e,t){let n=t.get(r[e])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===e&&o.obj===r)return!0}return!1}function Yu(r){return Array.isArray(r)}function Pm(r){return typeof r=="function"}function uo(r){return!Xu(r)&&!Yu(r)&&!Pm(r)&&typeof r=="object"}function Xu(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function ZU(r,e){return!(!(0,Om.isPlainObject)(r)||!(0,Om.isPlainObject)(e))}});var bm=a(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.isUrlIgnored=Vi.urlMatches=void 0;function Im(r,e){return typeof e=="string"?r===e:!!r.match(e)}Vi.urlMatches=Im;function JU(r,e){if(!e)return!1;for(let t of e)if(Im(r,t))return!0;return!1}Vi.isUrlIgnored=JU});var vm=a(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.isWrapped=void 0;function eG(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}ku.isWrapped=eG});var Cm=a(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.Deferred=void 0;var ef=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};zu.Deferred=ef});var Mm=a(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.BindOnceFuture=void 0;var tG=Cm(),tf=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new tG.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};Qu.BindOnceFuture=tf});var Lm=a(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu._export=void 0;var ym=f(),rG=ro();function nG(r,e){return new Promise(t=>{ym.context.with((0,rG.suppressTracing)(ym.context.active()),()=>{r.export(e,n=>{t(n)})})})}Zu._export=nG});var Ju=a(w=>{"use strict";var iG=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),k=w&&w.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&iG(e,r,t)};Object.defineProperty(w,"__esModule",{value:!0});w.internal=w.baggageUtils=void 0;k(RO(),w);k(PO(),w);k(CO(),w);k(yp(),w);k(Mp(),w);k(QO(),w);k(JO(),w);k(em(),w);k(Du(),w);w.baggageUtils=Np();k(Gp(),w);k(rm(),w);k(cm(),w);k(lm(),w);k(dm(),w);k(Xp(),w);k(Wp(),w);k(pm(),w);k(fm(),w);k(ro(),w);k(Fp(),w);k(wp(),w);k(Nm(),w);k(Lp(),w);k(bm(),w);k(vm(),w);k(Mm(),w);k(Du(),w);var sG=Lm();w.internal={_export:sG._export}});var co=a((I5,Dm)=>{var oG="2.0.0",aG=Number.MAX_SAFE_INTEGER||9007199254740991,uG=16;Dm.exports={SEMVER_SPEC_VERSION:oG,MAX_LENGTH:256,MAX_SAFE_INTEGER:aG,MAX_SAFE_COMPONENT_LENGTH:uG}});var _o=a((b5,wm)=>{var cG=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};wm.exports=cG});var hn=a((Cr,Um)=>{var{MAX_SAFE_COMPONENT_LENGTH:rf}=co(),_G=_o();Cr=Um.exports={};var lG=Cr.re=[],T=Cr.src=[],A=Cr.t={},dG=0,y=(r,e,t)=>{let n=dG++;_G(r,n,e),A[r]=n,T[n]=e,lG[n]=new RegExp(e,t?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*");y("NUMERICIDENTIFIERLOOSE","[0-9]+");y("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");y("MAINVERSION",`(${T[A.NUMERICIDENTIFIER]})\\.(${T[A.NUMERICIDENTIFIER]})\\.(${T[A.NUMERICIDENTIFIER]})`);y("MAINVERSIONLOOSE",`(${T[A.NUMERICIDENTIFIERLOOSE]})\\.(${T[A.NUMERICIDENTIFIERLOOSE]})\\.(${T[A.NUMERICIDENTIFIERLOOSE]})`);y("PRERELEASEIDENTIFIER",`(?:${T[A.NUMERICIDENTIFIER]}|${T[A.NONNUMERICIDENTIFIER]})`);y("PRERELEASEIDENTIFIERLOOSE",`(?:${T[A.NUMERICIDENTIFIERLOOSE]}|${T[A.NONNUMERICIDENTIFIER]})`);y("PRERELEASE",`(?:-(${T[A.PRERELEASEIDENTIFIER]}(?:\\.${T[A.PRERELEASEIDENTIFIER]})*))`);y("PRERELEASELOOSE",`(?:-?(${T[A.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${T[A.PRERELEASEIDENTIFIERLOOSE]})*))`);y("BUILDIDENTIFIER","[0-9A-Za-z-]+");y("BUILD",`(?:\\+(${T[A.BUILDIDENTIFIER]}(?:\\.${T[A.BUILDIDENTIFIER]})*))`);y("FULLPLAIN",`v?${T[A.MAINVERSION]}${T[A.PRERELEASE]}?${T[A.BUILD]}?`);y("FULL",`^${T[A.FULLPLAIN]}$`);y("LOOSEPLAIN",`[v=\\s]*${T[A.MAINVERSIONLOOSE]}${T[A.PRERELEASELOOSE]}?${T[A.BUILD]}?`);y("LOOSE",`^${T[A.LOOSEPLAIN]}$`);y("GTLT","((?:<|>)?=?)");y("XRANGEIDENTIFIERLOOSE",`${T[A.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);y("XRANGEIDENTIFIER",`${T[A.NUMERICIDENTIFIER]}|x|X|\\*`);y("XRANGEPLAIN",`[v=\\s]*(${T[A.XRANGEIDENTIFIER]})(?:\\.(${T[A.XRANGEIDENTIFIER]})(?:\\.(${T[A.XRANGEIDENTIFIER]})(?:${T[A.PRERELEASE]})?${T[A.BUILD]}?)?)?`);y("XRANGEPLAINLOOSE",`[v=\\s]*(${T[A.XRANGEIDENTIFIERLOOSE]})(?:\\.(${T[A.XRANGEIDENTIFIERLOOSE]})(?:\\.(${T[A.XRANGEIDENTIFIERLOOSE]})(?:${T[A.PRERELEASELOOSE]})?${T[A.BUILD]}?)?)?`);y("XRANGE",`^${T[A.GTLT]}\\s*${T[A.XRANGEPLAIN]}$`);y("XRANGELOOSE",`^${T[A.GTLT]}\\s*${T[A.XRANGEPLAINLOOSE]}$`);y("COERCE",`(^|[^\\d])(\\d{1,${rf}})(?:\\.(\\d{1,${rf}}))?(?:\\.(\\d{1,${rf}}))?(?:$|[^\\d])`);y("COERCERTL",T[A.COERCE],!0);y("LONETILDE","(?:~>?)");y("TILDETRIM",`(\\s*)${T[A.LONETILDE]}\\s+`,!0);Cr.tildeTrimReplace="$1~";y("TILDE",`^${T[A.LONETILDE]}${T[A.XRANGEPLAIN]}$`);y("TILDELOOSE",`^${T[A.LONETILDE]}${T[A.XRANGEPLAINLOOSE]}$`);y("LONECARET","(?:\\^)");y("CARETTRIM",`(\\s*)${T[A.LONECARET]}\\s+`,!0);Cr.caretTrimReplace="$1^";y("CARET",`^${T[A.LONECARET]}${T[A.XRANGEPLAIN]}$`);y("CARETLOOSE",`^${T[A.LONECARET]}${T[A.XRANGEPLAINLOOSE]}$`);y("COMPARATORLOOSE",`^${T[A.GTLT]}\\s*(${T[A.LOOSEPLAIN]})$|^$`);y("COMPARATOR",`^${T[A.GTLT]}\\s*(${T[A.FULLPLAIN]})$|^$`);y("COMPARATORTRIM",`(\\s*)${T[A.GTLT]}\\s*(${T[A.LOOSEPLAIN]}|${T[A.XRANGEPLAIN]})`,!0);Cr.comparatorTrimReplace="$1$2$3";y("HYPHENRANGE",`^\\s*(${T[A.XRANGEPLAIN]})\\s+-\\s+(${T[A.XRANGEPLAIN]})\\s*$`);y("HYPHENRANGELOOSE",`^\\s*(${T[A.XRANGEPLAINLOOSE]})\\s+-\\s+(${T[A.XRANGEPLAINLOOSE]})\\s*$`);y("STAR","(<|>)?=?\\s*\\*");y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var lo=a((v5,Gm)=>{var EG=["includePrerelease","loose","rtl"],pG=r=>r?typeof r!="object"?{loose:!0}:EG.filter(e=>r[e]).reduce((e,t)=>(e[t]=!0,e),{}):{};Gm.exports=pG});var nf=a((C5,jm)=>{var Bm=/^[0-9]+$/,qm=(r,e)=>{let t=Bm.test(r),n=Bm.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},fG=(r,e)=>qm(e,r);jm.exports={compareIdentifiers:qm,rcompareIdentifiers:fG}});var we=a((M5,xm)=>{var ec=_o(),{MAX_LENGTH:Vm,MAX_SAFE_INTEGER:tc}=co(),{re:Hm,t:Fm}=hn(),TG=lo(),{compareIdentifiers:Hi}=nf(),ct=class{constructor(e,t){if(t=TG(t),e instanceof ct){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Vm)throw new TypeError(`version is longer than ${Vm} characters`);ec("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?Hm[Fm.LOOSE]:Hm[Fm.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>tc||this.major<0)throw new TypeError("Invalid major version");if(this.minor>tc||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>tc||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<tc)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ec("SemVer.compare",this.version,this.options,e),!(e instanceof ct)){if(typeof e=="string"&&e===this.version)return 0;e=new ct(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ct||(e=new ct(e,this.options)),Hi(this.major,e.major)||Hi(this.minor,e.minor)||Hi(this.patch,e.patch)}comparePre(e){if(e instanceof ct||(e=new ct(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(ec("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Hi(n,i)}while(++t)}compareBuild(e){e instanceof ct||(e=new ct(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(ec("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Hi(n,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(Hi(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};xm.exports=ct});var gn=a((y5,Ym)=>{var{MAX_LENGTH:AG}=co(),{re:Km,t:$m}=hn(),Xm=we(),SG=lo(),hG=(r,e)=>{if(e=SG(e),r instanceof Xm)return r;if(typeof r!="string"||r.length>AG||!(e.loose?Km[$m.LOOSE]:Km[$m.FULL]).test(r))return null;try{return new Xm(r,e)}catch{return null}};Ym.exports=hG});var km=a((L5,Wm)=>{var gG=gn(),OG=(r,e)=>{let t=gG(r,e);return t?t.version:null};Wm.exports=OG});var Qm=a((D5,zm)=>{var mG=gn(),RG=(r,e)=>{let t=mG(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};zm.exports=RG});var eR=a((w5,Jm)=>{var Zm=we(),PG=(r,e,t,n)=>{typeof t=="string"&&(n=t,t=void 0);try{return new Zm(r instanceof Zm?r.version:r,t).inc(e,n).version}catch{return null}};Jm.exports=PG});var At=a((U5,rR)=>{var tR=we(),NG=(r,e,t)=>new tR(r,t).compare(new tR(e,t));rR.exports=NG});var rc=a((G5,nR)=>{var IG=At(),bG=(r,e,t)=>IG(r,e,t)===0;nR.exports=bG});var oR=a((B5,sR)=>{var iR=gn(),vG=rc(),CG=(r,e)=>{if(vG(r,e))return null;{let t=iR(r),n=iR(e),i=t.prerelease.length||n.prerelease.length,s=i?"pre":"",o=i?"prerelease":"";for(let u in t)if((u==="major"||u==="minor"||u==="patch")&&t[u]!==n[u])return s+u;return o}};sR.exports=CG});var uR=a((q5,aR)=>{var MG=we(),yG=(r,e)=>new MG(r,e).major;aR.exports=yG});var _R=a((j5,cR)=>{var LG=we(),DG=(r,e)=>new LG(r,e).minor;cR.exports=DG});var dR=a((V5,lR)=>{var wG=we(),UG=(r,e)=>new wG(r,e).patch;lR.exports=UG});var pR=a((H5,ER)=>{var GG=gn(),BG=(r,e)=>{let t=GG(r,e);return t&&t.prerelease.length?t.prerelease:null};ER.exports=BG});var TR=a((F5,fR)=>{var qG=At(),jG=(r,e,t)=>qG(e,r,t);fR.exports=jG});var SR=a((x5,AR)=>{var VG=At(),HG=(r,e)=>VG(r,e,!0);AR.exports=HG});var nc=a((K5,gR)=>{var hR=we(),FG=(r,e,t)=>{let n=new hR(r,t),i=new hR(e,t);return n.compare(i)||n.compareBuild(i)};gR.exports=FG});var mR=a(($5,OR)=>{var xG=nc(),KG=(r,e)=>r.sort((t,n)=>xG(t,n,e));OR.exports=KG});var PR=a((X5,RR)=>{var $G=nc(),XG=(r,e)=>r.sort((t,n)=>$G(n,t,e));RR.exports=XG});var Eo=a((Y5,NR)=>{var YG=At(),WG=(r,e,t)=>YG(r,e,t)>0;NR.exports=WG});var ic=a((W5,IR)=>{var kG=At(),zG=(r,e,t)=>kG(r,e,t)<0;IR.exports=zG});var sf=a((k5,bR)=>{var QG=At(),ZG=(r,e,t)=>QG(r,e,t)!==0;bR.exports=ZG});var sc=a((z5,vR)=>{var JG=At(),eB=(r,e,t)=>JG(r,e,t)>=0;vR.exports=eB});var oc=a((Q5,CR)=>{var tB=At(),rB=(r,e,t)=>tB(r,e,t)<=0;CR.exports=rB});var of=a((Z5,MR)=>{var nB=rc(),iB=sf(),sB=Eo(),oB=sc(),aB=ic(),uB=oc(),cB=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return nB(r,t,n);case"!=":return iB(r,t,n);case">":return sB(r,t,n);case">=":return oB(r,t,n);case"<":return aB(r,t,n);case"<=":return uB(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};MR.exports=cB});var LR=a((J5,yR)=>{var _B=we(),lB=gn(),{re:ac,t:uc}=hn(),dB=(r,e)=>{if(r instanceof _B)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(ac[uc.COERCE]);else{let n;for(;(n=ac[uc.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),ac[uc.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;ac[uc.COERCERTL].lastIndex=-1}return t===null?null:lB(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};yR.exports=dB});var wR=a((ez,DR)=>{"use strict";DR.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var GR=a((tz,UR)=>{"use strict";UR.exports=H;H.Node=On;H.create=H;function H(r){var e=this;if(e instanceof H||(e=new H),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}H.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};H.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};H.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};H.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)pB(this,arguments[r]);return this.length};H.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)fB(this,arguments[r]);return this.length};H.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};H.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};H.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};H.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};H.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};H.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};H.prototype.map=function(r,e){e=e||this;for(var t=new H,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};H.prototype.mapReverse=function(r,e){e=e||this;for(var t=new H,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};H.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)t=r(t,n.value,i),n=n.next;return t};H.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)t=r(t,n.value,i),n=n.prev;return t};H.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};H.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};H.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new H;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)t.push(i.value);return t};H.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new H;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>r;n--,i=i.prev)t.push(i.value);return t};H.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<t.length;n++)i=EB(this,i,t[n]);return s};H.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function EB(r,e,t){var n=e===r.head?new On(t,null,e,r):new On(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function pB(r,e){r.tail=new On(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function fB(r,e){r.head=new On(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function On(r,e,t,n){if(!(this instanceof On))return new On(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{wR()(H)}catch{}});var HR=a((rz,VR)=>{"use strict";var TB=GR(),mn=Symbol("max"),nr=Symbol("length"),Fi=Symbol("lengthCalculator"),fo=Symbol("allowStale"),Rn=Symbol("maxAge"),rr=Symbol("dispose"),BR=Symbol("noDisposeOnSet"),Oe=Symbol("lruList"),vt=Symbol("cache"),jR=Symbol("updateAgeOnGet"),af=()=>1,cf=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[mn]=e.max||1/0,n=e.length||af;if(this[Fi]=typeof n!="function"?af:n,this[fo]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Rn]=e.maxAge||0,this[rr]=e.dispose,this[BR]=e.noDisposeOnSet||!1,this[jR]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[mn]=e||1/0,po(this)}get max(){return this[mn]}set allowStale(e){this[fo]=!!e}get allowStale(){return this[fo]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Rn]=e,po(this)}get maxAge(){return this[Rn]}set lengthCalculator(e){typeof e!="function"&&(e=af),e!==this[Fi]&&(this[Fi]=e,this[nr]=0,this[Oe].forEach(t=>{t.length=this[Fi](t.value,t.key),this[nr]+=t.length})),po(this)}get lengthCalculator(){return this[Fi]}get length(){return this[nr]}get itemCount(){return this[Oe].length}rforEach(e,t){t=t||this;for(let n=this[Oe].tail;n!==null;){let i=n.prev;qR(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[Oe].head;n!==null;){let i=n.next;qR(this,e,n,t),n=i}}keys(){return this[Oe].toArray().map(e=>e.key)}values(){return this[Oe].toArray().map(e=>e.value)}reset(){this[rr]&&this[Oe]&&this[Oe].length&&this[Oe].forEach(e=>this[rr](e.key,e.value)),this[vt]=new Map,this[Oe]=new TB,this[nr]=0}dump(){return this[Oe].map(e=>cc(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Oe]}set(e,t,n){if(n=n||this[Rn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[Fi](t,e);if(this[vt].has(e)){if(s>this[mn])return xi(this,this[vt].get(e)),!1;let c=this[vt].get(e).value;return this[rr]&&(this[BR]||this[rr](e,c.value)),c.now=i,c.maxAge=n,c.value=t,this[nr]+=s-c.length,c.length=s,this.get(e),po(this),!0}let o=new _f(e,t,s,i,n);return o.length>this[mn]?(this[rr]&&this[rr](e,t),!1):(this[nr]+=o.length,this[Oe].unshift(o),this[vt].set(e,this[Oe].head),po(this),!0)}has(e){if(!this[vt].has(e))return!1;let t=this[vt].get(e).value;return!cc(this,t)}get(e){return uf(this,e,!0)}peek(e){return uf(this,e,!1)}pop(){let e=this[Oe].tail;return e?(xi(this,e),e.value):null}del(e){xi(this,this[vt].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-t;o>0&&this.set(i.k,i.v,o)}}}prune(){this[vt].forEach((e,t)=>uf(this,t,!1))}},uf=(r,e,t)=>{let n=r[vt].get(e);if(n){let i=n.value;if(cc(r,i)){if(xi(r,n),!r[fo])return}else t&&(r[jR]&&(n.value.now=Date.now()),r[Oe].unshiftNode(n));return i.value}},cc=(r,e)=>{if(!e||!e.maxAge&&!r[Rn])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[Rn]&&t>r[Rn]},po=r=>{if(r[nr]>r[mn])for(let e=r[Oe].tail;r[nr]>r[mn]&&e!==null;){let t=e.prev;xi(r,e),e=t}},xi=(r,e)=>{if(e){let t=e.value;r[rr]&&r[rr](t.key,t.value),r[nr]-=t.length,r[vt].delete(t.key),r[Oe].removeNode(e)}},_f=class{constructor(e,t,n,i,s){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=s||0}},qR=(r,e,t,n)=>{let i=t.value;cc(r,i)&&(xi(r,t),r[fo]||(i=void 0)),i&&e.call(n,i.value,i.key,r)};VR.exports=cf});var St=a((nz,$R)=>{var Pn=class{constructor(e,t){if(t=SB(t),e instanceof Pn)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Pn(e.raw,t);if(e instanceof lf)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!xR(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&RB(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=FR.get(n);if(i)return i;let s=this.options.loose,o=s?rt[ze.HYPHENRANGELOOSE]:rt[ze.HYPHENRANGE];e=e.replace(o,DB(this.options.includePrerelease)),ue("hyphen replace",e),e=e.replace(rt[ze.COMPARATORTRIM],gB),ue("comparator trim",e),e=e.replace(rt[ze.TILDETRIM],OB),e=e.replace(rt[ze.CARETTRIM],mB),e=e.split(/\s+/).join(" ");let u=e.split(" ").map(d=>PB(d,this.options)).join(" ").split(/\s+/).map(d=>LB(d,this.options));s&&(u=u.filter(d=>(ue("loose invalid filter",d,this.options),!!d.match(rt[ze.COMPARATORLOOSE])))),ue("range list",u);let c=new Map,_=u.map(d=>new lf(d,this.options));for(let d of _){if(xR(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return FR.set(n,l),l}intersects(e,t){if(!(e instanceof Pn))throw new TypeError("a Range is required");return this.set.some(n=>KR(n,t)&&e.set.some(i=>KR(i,t)&&n.every(s=>i.every(o=>s.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new hB(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(wB(this.set[t],e,this.options))return!0;return!1}};$R.exports=Pn;var AB=HR(),FR=new AB({max:1e3}),SB=lo(),lf=To(),ue=_o(),hB=we(),{re:rt,t:ze,comparatorTrimReplace:gB,tildeTrimReplace:OB,caretTrimReplace:mB}=hn(),xR=r=>r.value==="<0.0.0-0",RB=r=>r.value==="",KR=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(s=>i.intersects(s,e)),i=n.pop();return t},PB=(r,e)=>(ue("comp",r,e),r=bB(r,e),ue("caret",r),r=NB(r,e),ue("tildes",r),r=CB(r,e),ue("xrange",r),r=yB(r,e),ue("stars",r),r),Qe=r=>!r||r.toLowerCase()==="x"||r==="*",NB=(r,e)=>r.trim().split(/\s+/).map(t=>IB(t,e)).join(" "),IB=(r,e)=>{let t=e.loose?rt[ze.TILDELOOSE]:rt[ze.TILDE];return r.replace(t,(n,i,s,o,u)=>{ue("tilde",r,n,i,s,o,u);let c;return Qe(i)?c="":Qe(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Qe(o)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:u?(ue("replaceTilde pr",u),c=`>=${i}.${s}.${o}-${u} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,ue("tilde return",c),c})},bB=(r,e)=>r.trim().split(/\s+/).map(t=>vB(t,e)).join(" "),vB=(r,e)=>{ue("caret",r,e);let t=e.loose?rt[ze.CARETLOOSE]:rt[ze.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,s,o,u,c)=>{ue("caret",r,i,s,o,u,c);let _;return Qe(s)?_="":Qe(o)?_=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Qe(u)?s==="0"?_=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:_=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:c?(ue("replaceCaret pr",c),s==="0"?o==="0"?_=`>=${s}.${o}.${u}-${c} <${s}.${o}.${+u+1}-0`:_=`>=${s}.${o}.${u}-${c} <${s}.${+o+1}.0-0`:_=`>=${s}.${o}.${u}-${c} <${+s+1}.0.0-0`):(ue("no pr"),s==="0"?o==="0"?_=`>=${s}.${o}.${u}${n} <${s}.${o}.${+u+1}-0`:_=`>=${s}.${o}.${u}${n} <${s}.${+o+1}.0-0`:_=`>=${s}.${o}.${u} <${+s+1}.0.0-0`),ue("caret return",_),_})},CB=(r,e)=>(ue("replaceXRanges",r,e),r.split(/\s+/).map(t=>MB(t,e)).join(" ")),MB=(r,e)=>{r=r.trim();let t=e.loose?rt[ze.XRANGELOOSE]:rt[ze.XRANGE];return r.replace(t,(n,i,s,o,u,c)=>{ue("xRange",r,n,i,s,o,u,c);let _=Qe(s),l=_||Qe(o),d=l||Qe(u),p=d;return i==="="&&p&&(i=""),c=e.includePrerelease?"-0":"",_?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&p?(l&&(o=0),u=0,i===">"?(i=">=",l?(s=+s+1,o=0,u=0):(o=+o+1,u=0)):i==="<="&&(i="<",l?s=+s+1:o=+o+1),i==="<"&&(c="-0"),n=`${i+s}.${o}.${u}${c}`):l?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),ue("xRange return",n),n})},yB=(r,e)=>(ue("replaceStars",r,e),r.trim().replace(rt[ze.STAR],"")),LB=(r,e)=>(ue("replaceGTE0",r,e),r.trim().replace(rt[e.includePrerelease?ze.GTE0PRE:ze.GTE0],"")),DB=r=>(e,t,n,i,s,o,u,c,_,l,d,p,E)=>(Qe(n)?t="":Qe(i)?t=`>=${n}.0.0${r?"-0":""}`:Qe(s)?t=`>=${n}.${i}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,Qe(_)?c="":Qe(l)?c=`<${+_+1}.0.0-0`:Qe(d)?c=`<${_}.${+l+1}.0-0`:p?c=`<=${_}.${l}.${d}-${p}`:r?c=`<${_}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),wB=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(ue(r[n].semver),r[n].semver!==lf.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var To=a((iz,zR)=>{var Ao=Symbol("SemVer ANY"),Ki=class{static get ANY(){return Ao}constructor(e,t){if(t=UB(t),e instanceof Ki){if(e.loose===!!t.loose)return e;e=e.value}Ef("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Ao?this.value="":this.value=this.operator+this.semver.version,Ef("comp",this)}parse(e){let t=this.options.loose?XR[YR.COMPARATORLOOSE]:XR[YR.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new WR(n[2],this.options.loose):this.semver=Ao}toString(){return this.value}test(e){if(Ef("Comparator.test",e,this.options.loose),this.semver===Ao||e===Ao)return!0;if(typeof e=="string")try{e=new WR(e,this.options)}catch{return!1}return df(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Ki))throw new TypeError("a Comparator is required");if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new kR(e.value,t).test(this.value);if(e.operator==="")return e.value===""?!0:new kR(this.value,t).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),u=df(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=df(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||u||c}};zR.exports=Ki;var UB=lo(),{re:XR,t:YR}=hn(),df=of(),Ef=_o(),WR=we(),kR=St()});var So=a((sz,QR)=>{var GB=St(),BB=(r,e,t)=>{try{e=new GB(e,t)}catch{return!1}return e.test(r)};QR.exports=BB});var JR=a((oz,ZR)=>{var qB=St(),jB=(r,e)=>new qB(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));ZR.exports=jB});var tP=a((az,eP)=>{var VB=we(),HB=St(),FB=(r,e,t)=>{let n=null,i=null,s=null;try{s=new HB(e,t)}catch{return null}return r.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new VB(n,t))}),n};eP.exports=FB});var nP=a((uz,rP)=>{var xB=we(),KB=St(),$B=(r,e,t)=>{let n=null,i=null,s=null;try{s=new KB(e,t)}catch{return null}return r.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new xB(n,t))}),n};rP.exports=$B});var oP=a((cz,sP)=>{var pf=we(),XB=St(),iP=Eo(),YB=(r,e)=>{r=new XB(r,e);let t=new pf("0.0.0");if(r.test(t)||(t=new pf("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let i=r.set[n],s=null;i.forEach(o=>{let u=new pf(o.semver.version);switch(o.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!s||iP(u,s))&&(s=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!t||iP(t,s))&&(t=s)}return t&&r.test(t)?t:null};sP.exports=YB});var uP=a((_z,aP)=>{var WB=St(),kB=(r,e)=>{try{return new WB(r,e).range||"*"}catch{return null}};aP.exports=kB});var _c=a((lz,dP)=>{var zB=we(),lP=To(),{ANY:QB}=lP,ZB=St(),JB=So(),cP=Eo(),_P=ic(),eq=oc(),tq=sc(),rq=(r,e,t,n)=>{r=new zB(r,n),e=new ZB(e,n);let i,s,o,u,c;switch(t){case">":i=cP,s=eq,o=_P,u=">",c=">=";break;case"<":i=_P,s=tq,o=cP,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(JB(r,e,n))return!1;for(let _=0;_<e.set.length;++_){let l=e.set[_],d=null,p=null;if(l.forEach(E=>{E.semver===QB&&(E=new lP(">=0.0.0")),d=d||E,p=p||E,i(E.semver,d.semver,n)?d=E:o(E.semver,p.semver,n)&&(p=E)}),d.operator===u||d.operator===c||(!p.operator||p.operator===u)&&s(r,p.semver))return!1;if(p.operator===c&&o(r,p.semver))return!1}return!0};dP.exports=rq});var pP=a((dz,EP)=>{var nq=_c(),iq=(r,e,t)=>nq(r,e,">",t);EP.exports=iq});var TP=a((Ez,fP)=>{var sq=_c(),oq=(r,e,t)=>sq(r,e,"<",t);fP.exports=oq});var hP=a((pz,SP)=>{var AP=St(),aq=(r,e,t)=>(r=new AP(r,t),e=new AP(e,t),r.intersects(e));SP.exports=aq});var OP=a((fz,gP)=>{var uq=So(),cq=At();gP.exports=(r,e,t)=>{let n=[],i=null,s=null,o=r.sort((l,d)=>cq(l,d,t));for(let l of o)uq(l,e,t)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let u=[];for(let[l,d]of n)l===d?u.push(l):!d&&l===o[0]?u.push("*"):d?l===o[0]?u.push(`<=${d}`):u.push(`${l} - ${d}`):u.push(`>=${l}`);let c=u.join(" || "),_=typeof e.raw=="string"?e.raw:String(e);return c.length<_.length?c:e}});var IP=a((Tz,NP)=>{var mP=St(),lc=To(),{ANY:ff}=lc,ho=So(),Tf=At(),_q=(r,e,t={})=>{if(r===e)return!0;r=new mP(r,t),e=new mP(e,t);let n=!1;e:for(let i of r.set){for(let s of e.set){let o=lq(i,s,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},lq=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===ff){if(e.length===1&&e[0].semver===ff)return!0;t.includePrerelease?r=[new lc(">=0.0.0-0")]:r=[new lc(">=0.0.0")]}if(e.length===1&&e[0].semver===ff){if(t.includePrerelease)return!0;e=[new lc(">=0.0.0")]}let n=new Set,i,s;for(let E of r)E.operator===">"||E.operator===">="?i=RP(i,E,t):E.operator==="<"||E.operator==="<="?s=PP(s,E,t):n.add(E.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Tf(i.semver,s.semver,t),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let E of n){if(i&&!ho(E,String(i),t)||s&&!ho(E,String(s),t))return null;for(let O of e)if(!ho(E,String(O),t))return!1;return!0}let u,c,_,l,d=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let E of e){if(l=l||E.operator===">"||E.operator===">=",_=_||E.operator==="<"||E.operator==="<=",i){if(p&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===p.major&&E.semver.minor===p.minor&&E.semver.patch===p.patch&&(p=!1),E.operator===">"||E.operator===">="){if(u=RP(i,E,t),u===E&&u!==i)return!1}else if(i.operator===">="&&!ho(i.semver,String(E),t))return!1}if(s){if(d&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===d.major&&E.semver.minor===d.minor&&E.semver.patch===d.patch&&(d=!1),E.operator==="<"||E.operator==="<="){if(c=PP(s,E,t),c===E&&c!==s)return!1}else if(s.operator==="<="&&!ho(s.semver,String(E),t))return!1}if(!E.operator&&(s||i)&&o!==0)return!1}return!(i&&_&&!s&&o!==0||s&&l&&!i&&o!==0||p||d)},RP=(r,e,t)=>{if(!r)return e;let n=Tf(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},PP=(r,e,t)=>{if(!r)return e;let n=Tf(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};NP.exports=_q});var go=a((Az,vP)=>{var Af=hn(),dq=co(),Eq=we(),bP=nf(),pq=gn(),fq=km(),Tq=Qm(),Aq=eR(),Sq=oR(),hq=uR(),gq=_R(),Oq=dR(),mq=pR(),Rq=At(),Pq=TR(),Nq=SR(),Iq=nc(),bq=mR(),vq=PR(),Cq=Eo(),Mq=ic(),yq=rc(),Lq=sf(),Dq=sc(),wq=oc(),Uq=of(),Gq=LR(),Bq=To(),qq=St(),jq=So(),Vq=JR(),Hq=tP(),Fq=nP(),xq=oP(),Kq=uP(),$q=_c(),Xq=pP(),Yq=TP(),Wq=hP(),kq=OP(),zq=IP();vP.exports={parse:pq,valid:fq,clean:Tq,inc:Aq,diff:Sq,major:hq,minor:gq,patch:Oq,prerelease:mq,compare:Rq,rcompare:Pq,compareLoose:Nq,compareBuild:Iq,sort:bq,rsort:vq,gt:Cq,lt:Mq,eq:yq,neq:Lq,gte:Dq,lte:wq,cmp:Uq,coerce:Gq,Comparator:Bq,Range:qq,satisfies:jq,toComparators:Vq,maxSatisfying:Hq,minSatisfying:Fq,minVersion:xq,validRange:Kq,outside:$q,gtr:Xq,ltr:Yq,intersects:Wq,simplifyRange:kq,subset:zq,SemVer:Eq,re:Af.re,src:Af.src,tokens:Af.t,SEMVER_SPEC_VERSION:dq.SEMVER_SPEC_VERSION,compareIdentifiers:bP.compareIdentifiers,rcompareIdentifiers:bP.rcompareIdentifiers}});var CP=a(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.AttributeNames=void 0;var Qq;(function(r){r.HTTP_ERROR_NAME="http.error_name",r.HTTP_ERROR_MESSAGE="http.error_message",r.HTTP_STATUS_TEXT="http.status_text"})(Qq=Oo.AttributeNames||(Oo.AttributeNames={}))});var Sf=a(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.headerCapture=m.getIncomingRequestMetricAttributesOnResponse=m.getIncomingRequestAttributesOnResponse=m.getIncomingRequestMetricAttributes=m.getIncomingRequestAttributes=m.getOutgoingRequestMetricAttributesOnResponse=m.getOutgoingRequestAttributesOnResponse=m.getAttributesFromHttpKind=m.getOutgoingRequestMetricAttributes=m.getOutgoingRequestAttributes=m.extractHostnameAndPort=m.isValidOptionsType=m.getRequestInfo=m.isCompressed=m.setResponseContentLengthAttribute=m.setRequestContentLengthAttribute=m.setSpanWithError=m.isIgnored=m.satisfiesPattern=m.parseResponseStatus=m.getAbsoluteUrl=void 0;var mo=f(),g=ge(),MP=Ju(),dc=require("url"),Ec=CP(),Zq=(r,e,t="http:")=>{let n=r||{},i=n.protocol||t,s=(n.port||"").toString(),o=n.path||"/",u=n.host||n.hostname||e.host||"localhost";return u.indexOf(":")===-1&&s&&s!=="80"&&s!=="443"&&(u+=`:${s}`),`${i}//${u}${o}`};m.getAbsoluteUrl=Zq;var Jq=(r,e)=>{let t=r===mo.SpanKind.CLIENT?400:500;return e&&e>=100&&e<t?mo.SpanStatusCode.UNSET:mo.SpanStatusCode.ERROR};m.parseResponseStatus=Jq;var ej=(r,e)=>{if(typeof e=="string")return e===r;if(e instanceof RegExp)return e.test(r);if(typeof e=="function")return e(r);throw new TypeError("Pattern is in unsupported datatype")};m.satisfiesPattern=ej;var tj=(r,e,t)=>{if(!e)return!1;try{for(let n of e)if((0,m.satisfiesPattern)(r,n))return!0}catch(n){t&&t(n)}return!1};m.isIgnored=tj;var rj=(r,e)=>{let t=e.message;r.setAttributes({[Ec.AttributeNames.HTTP_ERROR_NAME]:e.name,[Ec.AttributeNames.HTTP_ERROR_MESSAGE]:t}),r.setStatus({code:mo.SpanStatusCode.ERROR,message:t}),r.recordException(e)};m.setSpanWithError=rj;var nj=(r,e)=>{let t=yP(r.headers);t!==null&&((0,m.isCompressed)(r.headers)?e[g.SemanticAttributes.HTTP_REQUEST_CONTENT_LENGTH]=t:e[g.SemanticAttributes.HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED]=t)};m.setRequestContentLengthAttribute=nj;var ij=(r,e)=>{let t=yP(r.headers);t!==null&&((0,m.isCompressed)(r.headers)?e[g.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH]=t:e[g.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED]=t)};m.setResponseContentLengthAttribute=ij;function yP(r){let e=r["content-length"];if(e===void 0)return null;let t=parseInt(e,10);return isNaN(t)?null:t}var sj=r=>{let e=r["content-encoding"];return!!e&&e!=="identity"};m.isCompressed=sj;var oj=(r,e)=>{var t;let n="/",i="",s;if(typeof r=="string")s=dc.parse(r),n=s.pathname||"/",i=`${s.protocol||"http:"}//${s.host}`,e!==void 0&&Object.assign(s,e);else if(r instanceof dc.URL)s={protocol:r.protocol,hostname:typeof r.hostname=="string"&&r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,path:`${r.pathname||""}${r.search||""}`},r.port!==""&&(s.port=Number(r.port)),(r.username||r.password)&&(s.auth=`${r.username}:${r.password}`),n=r.pathname,i=r.origin,e!==void 0&&Object.assign(s,e);else{s=Object.assign({protocol:r.host?"http:":void 0},r),n=r.pathname,!n&&s.path&&(n=dc.parse(s.path).pathname||"/");let c=s.host||(s.port!=null?`${s.hostname}${s.port}`:s.hostname);i=`${s.protocol||"http:"}//${c}`}let o=(t=s.headers)!==null&&t!==void 0?t:{};s.headers=Object.keys(o).reduce((c,_)=>(c[_.toLowerCase()]=o[_],c),{});let u=s.method?s.method.toUpperCase():"GET";return{origin:i,pathname:n,method:u,optionsParsed:s}};m.getRequestInfo=oj;var aj=r=>{if(!r)return!1;let e=typeof r;return e==="string"||e==="object"&&!Array.isArray(r)};m.isValidOptionsType=aj;var uj=r=>{var e;if(r.hostname&&r.port)return{hostname:r.hostname,port:r.port};let t=((e=r.host)===null||e===void 0?void 0:e.match(/^([^:/ ]+)(:\d{1,5})?/))||null,n=r.hostname||(t===null?"localhost":t[1]),i=r.port;return i||(t&&t[2]?i=t[2].substring(1):i=r.protocol==="https:"?"443":"80"),{hostname:n,port:i}};m.extractHostnameAndPort=uj;var cj=(r,e)=>{var t,n;let i=e.hostname,s=e.port,o=r.method,u=o?o.toUpperCase():"GET",c=r.headers||{},_=c["user-agent"],l={[g.SemanticAttributes.HTTP_URL]:(0,m.getAbsoluteUrl)(r,c,`${e.component}:`),[g.SemanticAttributes.HTTP_METHOD]:u,[g.SemanticAttributes.HTTP_TARGET]:r.path||"/",[g.SemanticAttributes.NET_PEER_NAME]:i,[g.SemanticAttributes.HTTP_HOST]:(n=(t=r.headers)===null||t===void 0?void 0:t.host)!==null&&n!==void 0?n:`${i}:${s}`};return _!==void 0&&(l[g.SemanticAttributes.HTTP_USER_AGENT]=_),Object.assign(l,e.hookAttributes)};m.getOutgoingRequestAttributes=cj;var _j=r=>{let e={};return e[g.SemanticAttributes.HTTP_METHOD]=r[g.SemanticAttributes.HTTP_METHOD],e[g.SemanticAttributes.NET_PEER_NAME]=r[g.SemanticAttributes.NET_PEER_NAME],e};m.getOutgoingRequestMetricAttributes=_j;var lj=r=>{let e={};return r&&(e[g.SemanticAttributes.HTTP_FLAVOR]=r,r.toUpperCase()!=="QUIC"?e[g.SemanticAttributes.NET_TRANSPORT]=g.NetTransportValues.IP_TCP:e[g.SemanticAttributes.NET_TRANSPORT]=g.NetTransportValues.IP_UDP),e};m.getAttributesFromHttpKind=lj;var dj=r=>{let{statusCode:e,statusMessage:t,httpVersion:n,socket:i}=r,{remoteAddress:s,remotePort:o}=i,u={[g.SemanticAttributes.NET_PEER_IP]:s,[g.SemanticAttributes.NET_PEER_PORT]:o};(0,m.setResponseContentLengthAttribute)(r,u),e&&(u[g.SemanticAttributes.HTTP_STATUS_CODE]=e,u[Ec.AttributeNames.HTTP_STATUS_TEXT]=(t||"").toUpperCase());let c=(0,m.getAttributesFromHttpKind)(n);return Object.assign(u,c)};m.getOutgoingRequestAttributesOnResponse=dj;var Ej=r=>{let e={};return e[g.SemanticAttributes.NET_PEER_PORT]=r[g.SemanticAttributes.NET_PEER_PORT],e[g.SemanticAttributes.HTTP_STATUS_CODE]=r[g.SemanticAttributes.HTTP_STATUS_CODE],e[g.SemanticAttributes.HTTP_FLAVOR]=r[g.SemanticAttributes.HTTP_FLAVOR],e};m.getOutgoingRequestMetricAttributesOnResponse=Ej;var pj=(r,e)=>{let t=r.headers,n=t["user-agent"],i=t["x-forwarded-for"],s=r.method||"GET",o=r.httpVersion,u=r.url?dc.parse(r.url):null,c=(u==null?void 0:u.host)||t.host,_=(u==null?void 0:u.hostname)||(c==null?void 0:c.replace(/^(.*)(:[0-9]{1,5})/,"$1"))||"localhost",l=e.serverName,d={[g.SemanticAttributes.HTTP_URL]:(0,m.getAbsoluteUrl)(u,t,`${e.component}:`),[g.SemanticAttributes.HTTP_HOST]:c,[g.SemanticAttributes.NET_HOST_NAME]:_,[g.SemanticAttributes.HTTP_METHOD]:s,[g.SemanticAttributes.HTTP_SCHEME]:e.component};typeof i=="string"&&(d[g.SemanticAttributes.HTTP_CLIENT_IP]=i.split(",")[0]),typeof l=="string"&&(d[g.SemanticAttributes.HTTP_SERVER_NAME]=l),u&&(d[g.SemanticAttributes.HTTP_TARGET]=u.pathname||"/"),n!==void 0&&(d[g.SemanticAttributes.HTTP_USER_AGENT]=n),(0,m.setRequestContentLengthAttribute)(r,d);let p=(0,m.getAttributesFromHttpKind)(o);return Object.assign(d,p,e.hookAttributes)};m.getIncomingRequestAttributes=pj;var fj=r=>{let e={};return e[g.SemanticAttributes.HTTP_SCHEME]=r[g.SemanticAttributes.HTTP_SCHEME],e[g.SemanticAttributes.HTTP_METHOD]=r[g.SemanticAttributes.HTTP_METHOD],e[g.SemanticAttributes.NET_HOST_NAME]=r[g.SemanticAttributes.NET_HOST_NAME],e[g.SemanticAttributes.HTTP_FLAVOR]=r[g.SemanticAttributes.HTTP_FLAVOR],e};m.getIncomingRequestMetricAttributes=fj;var Tj=(r,e)=>{let{socket:t}=r,{statusCode:n,statusMessage:i}=e,{localAddress:s,localPort:o,remoteAddress:u,remotePort:c}=t,_=(0,MP.getRPCMetadata)(mo.context.active()),l={[g.SemanticAttributes.NET_HOST_IP]:s,[g.SemanticAttributes.NET_HOST_PORT]:o,[g.SemanticAttributes.NET_PEER_IP]:u,[g.SemanticAttributes.NET_PEER_PORT]:c,[g.SemanticAttributes.HTTP_STATUS_CODE]:n,[Ec.AttributeNames.HTTP_STATUS_TEXT]:(i||"").toUpperCase()};return(_==null?void 0:_.type)===MP.RPCType.HTTP&&_.route!==void 0&&(l[g.SemanticAttributes.HTTP_ROUTE]=_.route),l};m.getIncomingRequestAttributesOnResponse=Tj;var Aj=r=>{let e={};return e[g.SemanticAttributes.HTTP_STATUS_CODE]=r[g.SemanticAttributes.HTTP_STATUS_CODE],e[g.SemanticAttributes.NET_HOST_PORT]=r[g.SemanticAttributes.NET_HOST_PORT],e};m.getIncomingRequestMetricAttributesOnResponse=Aj;function Sj(r,e){let t=new Map(e.map(n=>[n.toLowerCase(),n.toLowerCase().replace(/-/g,"_")]));return(n,i)=>{for(let[s,o]of t){let u=i(s);if(u===void 0)continue;let c=`http.${r}.header.${o}`;typeof u=="string"?n.setAttribute(c,[u]):Array.isArray(u)?n.setAttribute(c,u):n.setAttribute(c,[u])}}}m.headerCapture=Sj});var LP=a(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.VERSION=void 0;pc.VERSION="0.34.0"});var wP=a(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.disableInstrumentations=Mr.enableInstrumentations=Mr.parseInstrumentationOptions=void 0;function DP(r=[]){let e=[];for(let t=0,n=r.length;t<n;t++){let i=r[t];if(Array.isArray(i)){let s=DP(i);e=e.concat(s.instrumentations)}else typeof i=="function"?e.push(new i):i.instrumentationName&&e.push(i)}return{instrumentations:e}}Mr.parseInstrumentationOptions=DP;function hj(r,e,t){for(let n=0,i=r.length;n<i;n++){let s=r[n];e&&s.setTracerProvider(e),t&&s.setMeterProvider(t),s.getConfig().enabled||s.enable()}}Mr.enableInstrumentations=hj;function gj(r){r.forEach(e=>e.disable())}Mr.disableInstrumentations=gj});var GP=a(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.registerInstrumentations=void 0;var UP=f(),hf=wP();function Oj(r){let{instrumentations:e}=(0,hf.parseInstrumentationOptions)(r.instrumentations),t=r.tracerProvider||UP.trace.getTracerProvider(),n=r.meterProvider||UP.metrics.getMeterProvider();return(0,hf.enableInstrumentations)(e,t,n),()=>{(0,hf.disableInstrumentations)(e)}}fc.registerInstrumentations=Oj});var Of=a((Rz,jP)=>{"use strict";function gf(r){return typeof r=="function"}var Ze=console.error.bind(console);function Ro(r,e,t){var n=!!r[e]&&r.propertyIsEnumerable(e);Object.defineProperty(r,e,{configurable:!0,enumerable:n,writable:!0,value:t})}function Po(r){r&&r.logger&&(gf(r.logger)?Ze=r.logger:Ze("new logger isn't a function, not replacing"))}function BP(r,e,t){if(!r||!r[e]){Ze("no original function "+e+" to wrap");return}if(!t){Ze("no wrapper function"),Ze(new Error().stack);return}if(!gf(r[e])||!gf(t)){Ze("original object and wrapper must be functions");return}var n=r[e],i=t(n,e);return Ro(i,"__original",n),Ro(i,"__unwrap",function(){r[e]===i&&Ro(r,e,n)}),Ro(i,"__wrapped",!0),Ro(r,e,i),i}function mj(r,e,t){if(r)Array.isArray(r)||(r=[r]);else{Ze("must provide one or more modules to patch"),Ze(new Error().stack);return}if(!(e&&Array.isArray(e))){Ze("must provide one or more functions to wrap on modules");return}r.forEach(function(n){e.forEach(function(i){BP(n,i,t)})})}function qP(r,e){if(!r||!r[e]){Ze("no function to unwrap."),Ze(new Error().stack);return}if(!r[e].__unwrap)Ze("no original to unwrap to -- has "+e+" already been unwrapped?");else return r[e].__unwrap()}function Rj(r,e){if(r)Array.isArray(r)||(r=[r]);else{Ze("must provide one or more modules to patch"),Ze(new Error().stack);return}if(!(e&&Array.isArray(e))){Ze("must provide one or more functions to unwrap on modules");return}r.forEach(function(t){e.forEach(function(n){qP(t,n)})})}Po.wrap=BP;Po.massWrap=mj;Po.unwrap=qP;Po.massUnwrap=Rj;jP.exports=Po});var VP=a(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.InstrumentationAbstract=void 0;var mf=f(),Tc=Of(),Rf=class{constructor(e,t,n={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=Tc.wrap,this._unwrap=Tc.unwrap,this._massWrap=Tc.massWrap,this._massUnwrap=Tc.massUnwrap,this._config=Object.assign({enabled:!0},n),this._diag=mf.diag.createComponentLogger({namespace:e}),this._tracer=mf.trace.getTracer(e,t),this._meter=mf.metrics.getMeter(e,t)}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion)}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}};Ac.InstrumentationAbstract=Rf});var Pf=a((Nz,HP)=>{"use strict";var Pj=require("os");HP.exports=Pj.homedir||function(){var e=process.env.HOME,t=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:process.platform==="darwin"?e||(t?"/Users/"+t:null):process.platform==="linux"?e||(process.getuid()===0?"/root":t?"/home/"+t:null):e||null}});var Nf=a((Iz,FP)=>{FP.exports=function(){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(t,n){return n};var e=new Error().stack;return Error.prepareStackTrace=r,e[2].getFileName()}});var xP=a((bz,No)=>{"use strict";var Nj=process.platform==="win32",Ij=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,If={};function bj(r){return Ij.exec(r).slice(1)}If.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var e=bj(r);if(!e||e.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:e[1],dir:e[0]===e[1]?e[0]:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};var vj=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,bf={};function Cj(r){return vj.exec(r).slice(1)}bf.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var e=Cj(r);if(!e||e.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:e[1],dir:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};Nj?No.exports=If.parse:No.exports=bf.parse;No.exports.posix=bf.parse;No.exports.win32=If.parse});var vf=a((vz,YP)=>{var XP=require("path"),KP=XP.parse||xP(),$P=function(e,t){var n="/";/^([A-Za-z]:)/.test(e)?n="":/^\\\\/.test(e)&&(n="\\\\");for(var i=[e],s=KP(e);s.dir!==i[i.length-1];)i.push(s.dir),s=KP(s.dir);return i.reduce(function(o,u){return o.concat(t.map(function(c){return XP.resolve(n,u,c)}))},[])};YP.exports=function(e,t,n){var i=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&typeof t.paths=="function")return t.paths(n,e,function(){return $P(e,i)},t);var s=$P(e,i);return t&&t.paths?s.concat(t.paths):s}});var Cf=a((Cz,WP)=>{WP.exports=function(r,e){return e||{}}});var zP=a((Mz,kP)=>{"use strict";var Mj="Function.prototype.bind called on incompatible ",Mf=Array.prototype.slice,yj=Object.prototype.toString,Lj="[object Function]";kP.exports=function(e){var t=this;if(typeof t!="function"||yj.call(t)!==Lj)throw new TypeError(Mj+t);for(var n=Mf.call(arguments,1),i,s=function(){if(this instanceof i){var l=t.apply(this,n.concat(Mf.call(arguments)));return Object(l)===l?l:this}else return t.apply(e,n.concat(Mf.call(arguments)))},o=Math.max(0,t.length-n.length),u=[],c=0;c<o;c++)u.push("$"+c);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var _=function(){};_.prototype=t.prototype,i.prototype=new _,_.prototype=null}return i}});var ZP=a((yz,QP)=>{"use strict";var Dj=zP();QP.exports=Function.prototype.bind||Dj});var eN=a((Lz,JP)=>{"use strict";var wj=ZP();JP.exports=wj.call(Function.call,Object.prototype.hasOwnProperty)});var tN=a((Dz,Uj)=>{Uj.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var Sc=a((wz,iN)=>{"use strict";var Gj=eN();function Bj(r,e){for(var t=r.split("."),n=e.split(" "),i=n.length>1?n[0]:"=",s=(n.length>1?n[1]:n[0]).split("."),o=0;o<3;++o){var u=parseInt(t[o]||0,10),c=parseInt(s[o]||0,10);if(u!==c)return i==="<"?u<c:i===">="?u>=c:!1}return i===">="}function rN(r,e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var n=0;n<t.length;++n)if(!Bj(r,t[n]))return!1;return!0}function qj(r,e){if(typeof e=="boolean")return e;var t=typeof r>"u"?process.versions&&process.versions.node:r;if(typeof t!="string")throw new TypeError(typeof r>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var n=0;n<e.length;++n)if(rN(t,e[n]))return!0;return!1}return rN(t,e)}var nN=tN();iN.exports=function(e,t){return Gj(nN,e)&&qj(t,nN[e])}});var aN=a((Uz,oN)=>{var Nn=require("fs"),jj=Pf(),de=require("path"),Vj=Nf(),Hj=vf(),Fj=Cf(),xj=Sc(),Kj=process.platform!=="win32"&&Nn.realpath&&typeof Nn.realpath.native=="function"?Nn.realpath.native:Nn.realpath,sN=jj(),$j=function(){return[de.join(sN,".node_modules"),de.join(sN,".node_libraries")]},Xj=function(e,t){Nn.stat(e,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?t(null,!1):t(n):t(null,i.isFile()||i.isFIFO())})},Yj=function(e,t){Nn.stat(e,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?t(null,!1):t(n):t(null,i.isDirectory())})},Wj=function(e,t){Kj(e,function(n,i){n&&n.code!=="ENOENT"?t(n):t(null,n?e:i)})},Io=function(e,t,n,i){n&&n.preserveSymlinks===!1?e(t,i):i(null,t)},kj=function(e,t,n){e(t,function(i,s){if(i)n(i);else try{var o=JSON.parse(s);n(null,o)}catch{n(null)}})},zj=function(e,t,n){for(var i=Hj(t,n,e),s=0;s<i.length;s++)i[s]=de.join(i[s],e);return i};oN.exports=function(e,t,n){var i=n,s=t;if(typeof t=="function"&&(i=s,s={}),typeof e!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){i(o)})}s=Fj(e,s);var u=s.isFile||Xj,c=s.isDirectory||Yj,_=s.readFile||Nn.readFile,l=s.realpath||Wj,d=s.readPackage||kj;if(s.readFile&&s.readPackage){var p=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){i(p)})}var E=s.packageIterator,O=s.extensions||[".js"],R=s.includeCoreModules!==!1,C=s.basedir||de.dirname(Vj()),P=s.filename||C;s.paths=s.paths||$j();var ae=de.resolve(C);Io(l,ae,s,function(S,v){S?i(S):V(v)});var b;function V(S){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))b=de.resolve(S,e),(e==="."||e===".."||e.slice(-1)==="/")&&(b+="/"),/\/$/.test(e)&&b===S?j(b,s.package,ke):Y(b,s.package,ke);else{if(R&&xj(e))return i(null,e);F(e,S,function(v,te,D){if(v)i(v);else{if(te)return Io(l,te,s,function(Ce,re){Ce?i(Ce):i(null,re,D)});var J=new Error("Cannot find module '"+e+"' from '"+P+"'");J.code="MODULE_NOT_FOUND",i(J)}})}}function ke(S,v,te){S?i(S):v?i(null,v,te):j(b,function(D,J,Ce){if(D)i(D);else if(J)Io(l,J,s,function(ne,me){ne?i(ne):i(null,me,Ce)});else{var re=new Error("Cannot find module '"+e+"' from '"+P+"'");re.code="MODULE_NOT_FOUND",i(re)}})}function Y(S,v,te){var D=v,J=te;typeof D=="function"&&(J=D,D=void 0);var Ce=[""].concat(O);re(Ce,S,D);function re(ne,me,Tt){if(ne.length===0)return J(null,void 0,Tt);var an=me+ne[0],jt=Tt;jt?Me(null,jt):N(de.dirname(an),Me);function Me(Or,bi,er){if(jt=bi,Or)return J(Or);if(er&&jt&&s.pathFilter){var wa=de.relative(er,an),Ua=wa.slice(0,wa.length-ne[0].length),qs=s.pathFilter(jt,me,Ua);if(qs)return re([""].concat(O.slice()),de.resolve(er,qs),jt)}u(an,Da)}function Da(Or,bi){if(Or)return J(Or);if(bi)return J(null,an,jt);re(ne.slice(1),me,jt)}}}function N(S,v){if(S===""||S==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(S)||/[/\\]node_modules[/\\]*$/.test(S))return v(null);Io(l,S,s,function(te,D){if(te)return N(de.dirname(S),v);var J=de.join(D,"package.json");u(J,function(Ce,re){if(!re)return N(de.dirname(S),v);d(_,J,function(ne,me){ne&&v(ne);var Tt=me;Tt&&s.packageFilter&&(Tt=s.packageFilter(Tt,J)),v(null,Tt,S)})})})}function j(S,v,te){var D=te,J=v;typeof J=="function"&&(D=J,J=s.package),Io(l,S,s,function(Ce,re){if(Ce)return D(Ce);var ne=de.join(re,"package.json");u(ne,function(me,Tt){if(me)return D(me);if(!Tt)return Y(de.join(S,"index"),J,D);d(_,ne,function(an,jt){if(an)return D(an);var Me=jt;if(Me&&s.packageFilter&&(Me=s.packageFilter(Me,ne)),Me&&Me.main){if(typeof Me.main!="string"){var Da=new TypeError("package \u201C"+Me.name+"\u201D `main` must be a string");return Da.code="INVALID_PACKAGE_MAIN",D(Da)}(Me.main==="."||Me.main==="./")&&(Me.main="index"),Y(de.resolve(S,Me.main),Me,function(Or,bi,er){if(Or)return D(Or);if(bi)return D(null,bi,er);if(!er)return Y(de.join(S,"index"),er,D);var wa=de.resolve(S,er.main);j(wa,er,function(Ua,qs,Ag){if(Ua)return D(Ua);if(qs)return D(null,qs,Ag);Y(de.join(S,"index"),Ag,D)})});return}Y(de.join(S,"/index"),Me,D)})})})}function W(S,v){if(v.length===0)return S(null,void 0);var te=v[0];c(de.dirname(te),D);function D(re,ne){if(re)return S(re);if(!ne)return W(S,v.slice(1));Y(te,s.package,J)}function J(re,ne,me){if(re)return S(re);if(ne)return S(null,ne,me);j(te,s.package,Ce)}function Ce(re,ne,me){if(re)return S(re);if(ne)return S(null,ne,me);W(S,v.slice(1))}}function F(S,v,te){var D=function(){return zj(S,v,s)};W(te,E?E(S,v,D,s):D())}}});var uN=a((Gz,Qj)=>{Qj.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"node:test":">= 18",timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var dN=a((Bz,lN)=>{var Zj=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function Jj(r){for(var e=r.split(" "),t=e.length>1?e[0]:"=",n=(e.length>1?e[1]:e[0]).split("."),i=0;i<3;++i){var s=parseInt(Zj[i]||0,10),o=parseInt(n[i]||0,10);if(s!==o)return t==="<"?s<o:t===">="?s>=o:!1}return t===">="}function cN(r){var e=r.split(/ ?&& ?/);if(e.length===0)return!1;for(var t=0;t<e.length;++t)if(!Jj(e[t]))return!1;return!0}function eV(r){if(typeof r=="boolean")return r;if(r&&typeof r=="object"){for(var e=0;e<r.length;++e)if(cN(r[e]))return!0;return!1}return cN(r)}var yf=uN(),_N={};for(hc in yf)Object.prototype.hasOwnProperty.call(yf,hc)&&(_N[hc]=eV(yf[hc]));var hc;lN.exports=_N});var pN=a((qz,EN)=>{var tV=Sc();EN.exports=function(e){return tV(e)}});var AN=a((jz,TN)=>{var rV=Sc(),In=require("fs"),Ue=require("path"),nV=Pf(),iV=Nf(),sV=vf(),oV=Cf(),aV=process.platform!=="win32"&&In.realpathSync&&typeof In.realpathSync.native=="function"?In.realpathSync.native:In.realpathSync,fN=nV(),uV=function(){return[Ue.join(fN,".node_modules"),Ue.join(fN,".node_libraries")]},cV=function(e){try{var t=In.statSync(e,{throwIfNoEntry:!1})}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return!!t&&(t.isFile()||t.isFIFO())},_V=function(e){try{var t=In.statSync(e,{throwIfNoEntry:!1})}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return!!t&&t.isDirectory()},lV=function(e){try{return aV(e)}catch(t){if(t.code!=="ENOENT")throw t}return e},bo=function(e,t,n){return n&&n.preserveSymlinks===!1?e(t):t},dV=function(e,t){var n=e(t);try{var i=JSON.parse(n);return i}catch{}},EV=function(e,t,n){for(var i=sV(t,n,e),s=0;s<i.length;s++)i[s]=Ue.join(i[s],e);return i};TN.exports=function(e,t){if(typeof e!="string")throw new TypeError("Path must be a string.");var n=oV(e,t),i=n.isFile||cV,s=n.readFileSync||In.readFileSync,o=n.isDirectory||_V,u=n.realpathSync||lV,c=n.readPackageSync||dV;if(n.readFileSync&&n.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var _=n.packageIterator,l=n.extensions||[".js"],d=n.includeCoreModules!==!1,p=n.basedir||Ue.dirname(iV()),E=n.filename||p;n.paths=n.paths||uV();var O=bo(u,Ue.resolve(p),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var R=Ue.resolve(O,e);(e==="."||e===".."||e.slice(-1)==="/")&&(R+="/");var C=b(R)||ke(R);if(C)return bo(u,C,n)}else{if(d&&rV(e))return e;var P=Y(e,O);if(P)return bo(u,P,n)}var ae=new Error("Cannot find module '"+e+"' from '"+E+"'");throw ae.code="MODULE_NOT_FOUND",ae;function b(N){var j=V(Ue.dirname(N));if(j&&j.dir&&j.pkg&&n.pathFilter){var W=Ue.relative(j.dir,N),F=n.pathFilter(j.pkg,N,W);F&&(N=Ue.resolve(j.dir,F))}if(i(N))return N;for(var S=0;S<l.length;S++){var v=N+l[S];if(i(v))return v}}function V(N){if(!(N===""||N==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(N))&&!/[/\\]node_modules[/\\]*$/.test(N)){var j=Ue.join(bo(u,N,n),"package.json");if(!i(j))return V(Ue.dirname(N));var W=c(s,j);return W&&n.packageFilter&&(W=n.packageFilter(W,N)),{pkg:W,dir:N}}}function ke(N){var j=Ue.join(bo(u,N,n),"/package.json");if(i(j)){try{var W=c(s,j)}catch{}if(W&&n.packageFilter&&(W=n.packageFilter(W,N)),W&&W.main){if(typeof W.main!="string"){var F=new TypeError("package \u201C"+W.name+"\u201D `main` must be a string");throw F.code="INVALID_PACKAGE_MAIN",F}(W.main==="."||W.main==="./")&&(W.main="index");try{var S=b(Ue.resolve(N,W.main));if(S)return S;var v=ke(Ue.resolve(N,W.main));if(v)return v}catch{}}}return b(Ue.join(N,"/index"))}function Y(N,j){for(var W=function(){return EV(N,j,n)},F=_?_(N,j,W,n):W(),S=0;S<F.length;S++){var v=F[S];if(o(Ue.dirname(v))){var te=b(v);if(te)return te;var D=ke(v);if(D)return D}}}}});var hN=a((Vz,SN)=>{var gc=aN();gc.core=dN();gc.isCore=pN();gc.sync=AN();SN.exports=gc});var ON=a((Hz,gN)=>{var $i=1e3,Xi=$i*60,Yi=Xi*60,bn=Yi*24,pV=bn*7,fV=bn*365.25;gN.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return TV(r);if(t==="number"&&isFinite(r))return e.long?SV(r):AV(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function TV(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*fV;case"weeks":case"week":case"w":return t*pV;case"days":case"day":case"d":return t*bn;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Yi;case"minutes":case"minute":case"mins":case"min":case"m":return t*Xi;case"seconds":case"second":case"secs":case"sec":case"s":return t*$i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function AV(r){var e=Math.abs(r);return e>=bn?Math.round(r/bn)+"d":e>=Yi?Math.round(r/Yi)+"h":e>=Xi?Math.round(r/Xi)+"m":e>=$i?Math.round(r/$i)+"s":r+"ms"}function SV(r){var e=Math.abs(r);return e>=bn?Oc(r,e,bn,"day"):e>=Yi?Oc(r,e,Yi,"hour"):e>=Xi?Oc(r,e,Xi,"minute"):e>=$i?Oc(r,e,$i,"second"):r+" ms"}function Oc(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var Lf=a((Fz,mN)=>{function hV(r){t.debug=t,t.default=t,t.coerce=c,t.disable=s,t.enable=i,t.enabled=o,t.humanize=ON(),t.destroy=_,Object.keys(r).forEach(l=>{t[l]=r[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let d=0;for(let p=0;p<l.length;p++)d=(d<<5)-d+l.charCodeAt(p),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(l){let d,p=null,E,O;function R(...C){if(!R.enabled)return;let P=R,ae=Number(new Date),b=ae-(d||ae);P.diff=b,P.prev=d,P.curr=ae,d=ae,C[0]=t.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let V=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(Y,N)=>{if(Y==="%%")return"%";V++;let j=t.formatters[N];if(typeof j=="function"){let W=C[V];Y=j.call(P,W),C.splice(V,1),V--}return Y}),t.formatArgs.call(P,C),(P.log||t.log).apply(P,C)}return R.namespace=l,R.useColors=t.useColors(),R.color=t.selectColor(l),R.extend=n,R.destroy=t.destroy,Object.defineProperty(R,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(E!==t.namespaces&&(E=t.namespaces,O=t.enabled(l)),O),set:C=>{p=C}}),typeof t.init=="function"&&t.init(R),R}function n(l,d){let p=t(this.namespace+(typeof d>"u"?":":d)+l);return p.log=this.log,p}function i(l){t.save(l),t.namespaces=l,t.names=[],t.skips=[];let d,p=(typeof l=="string"?l:"").split(/[\s,]+/),E=p.length;for(d=0;d<E;d++)p[d]&&(l=p[d].replace(/\*/g,".*?"),l[0]==="-"?t.skips.push(new RegExp("^"+l.slice(1)+"$")):t.names.push(new RegExp("^"+l+"$")))}function s(){let l=[...t.names.map(u),...t.skips.map(u).map(d=>"-"+d)].join(",");return t.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let d,p;for(d=0,p=t.skips.length;d<p;d++)if(t.skips[d].test(l))return!1;for(d=0,p=t.names.length;d<p;d++)if(t.names[d].test(l))return!0;return!1}function u(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function _(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}mN.exports=hV});var RN=a((_t,mc)=>{_t.formatArgs=OV;_t.save=mV;_t.load=RV;_t.useColors=gV;_t.storage=PV();_t.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();_t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function gV(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function OV(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+mc.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}_t.log=console.debug||console.log||(()=>{});function mV(r){try{r?_t.storage.setItem("debug",r):_t.storage.removeItem("debug")}catch{}}function RV(){let r;try{r=_t.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function PV(){try{return localStorage}catch{}}mc.exports=Lf()(_t);var{formatters:NV}=mc.exports;NV.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var NN=a((Pe,Pc)=>{var IV=require("tty"),Rc=require("util");Pe.init=DV;Pe.log=MV;Pe.formatArgs=vV;Pe.save=yV;Pe.load=LV;Pe.useColors=bV;Pe.destroy=Rc.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Pe.colors=[6,2,3,4,5,1];try{let r=require("supports-color");r&&(r.stderr||r).level>=2&&(Pe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Pe.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function bV(){return"colors"in Pe.inspectOpts?Boolean(Pe.inspectOpts.colors):IV.isatty(process.stderr.fd)}function vV(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;r[0]=s+r[0].split(`
`).join(`
`+s),r.push(i+"m+"+Pc.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=CV()+e+" "+r[0]}function CV(){return Pe.inspectOpts.hideDate?"":new Date().toISOString()+" "}function MV(...r){return process.stderr.write(Rc.format(...r)+`
`)}function yV(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function LV(){return process.env.DEBUG}function DV(r){r.inspectOpts={};let e=Object.keys(Pe.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=Pe.inspectOpts[e[t]]}Pc.exports=Lf()(Pe);var{formatters:PN}=Pc.exports;PN.o=function(r){return this.inspectOpts.colors=this.useColors,Rc.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};PN.O=function(r){return this.inspectOpts.colors=this.useColors,Rc.inspect(r,this.inspectOpts)}});var IN=a((xz,Df)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Df.exports=RN():Df.exports=NN()});var vN=a((Kz,bN)=>{"use strict";var wf=require("path");bN.exports=function(r){var e=r.split(wf.sep),t=e.lastIndexOf("node_modules");if(t!==-1&&e[t+1]){var n=e[t+1][0]==="@",i=n?e[t+1]+"/"+e[t+2]:e[t+1],s=n?3:2;return{name:i,basedir:e.slice(0,t+s).join(wf.sep),path:e.slice(t+s).join(wf.sep)}}}});var CN=a(($z,wV)=>{wV.exports={name:"require-in-the-middle",version:"5.2.0",description:"Module to hook into the Node.js require function",main:"index.js",dependencies:{debug:"^4.1.1","module-details-from-path":"^1.0.3",resolve:"^1.22.1"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/elastic/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:[],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/elastic/require-in-the-middle/issues"},homepage:"https://github.com/elastic/require-in-the-middle#readme",engines:{node:">=6"}}});var Uf=a((Xz,yN)=>{"use strict";var Wi=require("path"),ir=require("module"),MN=hN(),Je=IN()("require-in-the-middle"),UV=vN();yN.exports=Ic;var Nc;ir.isBuiltin?Nc=ir.isBuiltin:Nc=r=>!!MN.core[r];var GV=/([/\\]index)?(\.js)?$/;function Ic(r,e,t){if(!(this instanceof Ic))return new Ic(r,e,t);if(typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null),typeof ir._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof ir._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,CN().bugs.url);return}this.cache=new Map,this._unhooked=!1,this._origRequire=ir.prototype.require;let n=this,i=new Set,s=e?e.internals===!0:!1,o=Array.isArray(r);Je("registering require hook"),this._require=ir.prototype.require=function(u){if(n._unhooked===!0)return Je("ignoring require call - module is soft-unhooked"),n._origRequire.apply(this,arguments);let c=Nc(u),_;if(c){if(_=u,u.startsWith("node:")){let O=u.slice(5);Nc(O)&&(_=O)}}else _=ir._resolveFilename(u,this);let l,d;if(Je("processing %s module require('%s'): %s",c===!0?"core":"non-core",u,_),n.cache.has(_)===!0)return Je("returning already patched cached module: %s",_),n.cache.get(_);let p=i.has(_);p===!1&&i.add(_);let E=n._origRequire.apply(this,arguments);if(p===!0)return Je("module is in the process of being patched already - ignoring: %s",_),E;if(i.delete(_),c===!0){if(o===!0&&r.includes(_)===!1)return Je("ignoring core module not on whitelist: %s",_),E;l=_}else if(o===!0&&r.includes(_)){let O=Wi.parse(_);l=O.name,d=O.dir}else{let O=UV(_);if(O===void 0)return Je("could not parse filename: %s",_),E;l=O.name,d=O.basedir;let R=BV(O);if(Je("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",l,u,R,d),o===!0&&r.includes(l)===!1){if(r.includes(R)===!1)return E;l=R}else{let C;try{C=MN.sync(l,{basedir:d})}catch{return Je("could not resolve module: %s",l),E}if(C!==_)if(s===!0)l=l+Wi.sep+Wi.relative(d,_),Je("preparing to process require of internal file: %s",l);else return Je("ignoring require of non-main module file: %s",C),E}}return n.cache.has(_)===!1&&(n.cache.set(_,E),Je("calling require hook: %s",l),n.cache.set(_,t(E,l,d))),Je("returning module: %s",l),n.cache.get(_)}}Ic.prototype.unhook=function(){this._unhooked=!0,this._require===ir.prototype.require?(ir.prototype.require=this._origRequire,Je("unhook successful")):Je("unhook unsuccessful")};function BV(r){let e=Wi.sep!=="/"?r.path.split(Wi.sep).join("/"):r.path;return Wi.posix.join(r.name,e).replace(GV,"")}});var LN=a(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.ModuleNameTrie=yr.ModuleNameSeparator=void 0;yr.ModuleNameSeparator="/";var bc=class{constructor(){this.hooks=[],this.children=new Map}},Gf=class{constructor(){this._trie=new bc,this._counter=0}insert(e){let t=this._trie;for(let n of e.moduleName.split(yr.ModuleNameSeparator)){let i=t.children.get(n);i||(i=new bc,t.children.set(n,i)),t=i}t.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:t}={}){let n=this._trie,i=[];for(let s of e.split(yr.ModuleNameSeparator)){let o=n.children.get(s);if(!o)break;i.push(...o.hooks),n=o}return i.length===0?[]:i.length===1?[i[0].hook]:(t&&i.sort((s,o)=>s.insertedId-o.insertedId),i.map(({hook:s})=>s))}};yr.ModuleNameTrie=Gf});var wN=a(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.RequireInTheMiddleSingleton=void 0;var qV=Uf(),DN=require("path"),Bf=LN(),jV=["afterEach","after","beforeEach","before","describe","it"].every(r=>typeof global[r]=="function"),ki=class{constructor(){this._moduleNameTrie=new Bf.ModuleNameTrie,this._initialize()}_initialize(){qV(null,{internals:!0},(e,t,n)=>{let i=VV(t),s=this._moduleNameTrie.search(i,{maintainInsertionOrder:!0});for(let{onRequire:o}of s)e=o(e,t,n);return e})}register(e,t){let n={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(n),n}static getInstance(){var e;return jV?new ki:this._instance=(e=this._instance)!==null&&e!==void 0?e:new ki}};vc.RequireInTheMiddleSingleton=ki;function VV(r){return DN.sep!==Bf.ModuleNameSeparator?r.split(DN.sep).join(Bf.ModuleNameSeparator):r}});var BN=a(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.InstrumentationBase=void 0;var HV=require("path"),FV=go(),xV=VP(),KV=wN(),UN=f(),qf=class extends xV.InstrumentationAbstract{constructor(e,t,n={}){super(e,t,n),this._hooks=[],this._requireInTheMiddleSingleton=KV.RequireInTheMiddleSingleton.getInstance(),this._enabled=!1;let i=this.init();i&&!Array.isArray(i)&&(i=[i]),this._modules=i||[],this._modules.length===0&&UN.diag.debug(`No modules instrumentation has been defined for '${this.instrumentationName}@${this.instrumentationVersion}', nothing will be patched`),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let n=require.resolve(t);require.cache[n]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=require(HV.join(e,"package.json")).version;return typeof t=="string"?t:void 0}catch{UN.diag.warn("Failed extracting version",e)}}_onRequire(e,t,n,i){var s;if(!i)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t):t;let o=this._extractPackageVersion(i);return e.moduleVersion=o,e.name===n?GN(e.supportedVersions,o,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t,e.moduleVersion):t:((s=e.files)!==null&&s!==void 0?s:[]).filter(_=>_.name===n).filter(_=>GN(_.supportedVersions,o,e.includePrerelease)).reduce((_,l)=>(l.moduleExports=_,this._enabled?l.patch(_,e.moduleVersion):_),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&e.patch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.patch(t.moduleExports,e.moduleVersion)}return}this._warnOnPreloadedModules();for(let e of this._modules)this._hooks.push(this._requireInTheMiddleSingleton.register(e.name,(t,n,i)=>this._onRequire(e,t,n,i)))}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&e.unpatch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.unpatch(t.moduleExports,e.moduleVersion)}}}isEnabled(){return this._enabled}};Cc.InstrumentationBase=qf;function GN(r,e,t){return typeof e>"u"?r.includes("*"):r.some(n=>(0,FV.satisfies)(e,n,{includePrerelease:t}))}});var qN=a(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.InstrumentationNodeModuleDefinition=void 0;var jf=class{constructor(e,t,n,i,s){this.name=e,this.supportedVersions=t,this.patch=n,this.unpatch=i,this.files=s||[]}};Mc.InstrumentationNodeModuleDefinition=jf});var jN=a(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.InstrumentationNodeModuleFile=void 0;var $V=require("path"),Vf=class{constructor(e,t,n,i){this.supportedVersions=t,this.patch=n,this.unpatch=i,this.name=(0,$V.normalize)(e)}};yc.InstrumentationNodeModuleFile=Vf});var HN=a(VN=>{"use strict";Object.defineProperty(VN,"__esModule",{value:!0})});var FN=a(xt=>{"use strict";var XV=xt&&xt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lc=xt&&xt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&XV(e,r,t)};Object.defineProperty(xt,"__esModule",{value:!0});Lc(BN(),xt);Lc(qN(),xt);Lc(jN(),xt);Lc(HN(),xt)});var xN=a(vn=>{"use strict";var YV=vn&&vn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),WV=vn&&vn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&YV(e,r,t)};Object.defineProperty(vn,"__esModule",{value:!0});WV(FN(),vn)});var $N=a(KN=>{"use strict";Object.defineProperty(KN,"__esModule",{value:!0})});var YN=a(XN=>{"use strict";Object.defineProperty(XN,"__esModule",{value:!0})});var WN=a(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.isWrapped=Lr.safeExecuteInTheMiddleAsync=Lr.safeExecuteInTheMiddle=void 0;function kV(r,e,t){let n,i;try{i=r()}catch(s){n=s}finally{if(e(n,i),n&&!t)throw n;return i}}Lr.safeExecuteInTheMiddle=kV;async function zV(r,e,t){let n,i;try{i=await r()}catch(s){n=s}finally{if(e(n,i),n&&!t)throw n;return i}}Lr.safeExecuteInTheMiddleAsync=zV;function QV(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}Lr.isWrapped=QV});var Dc=a(Ct=>{"use strict";var ZV=Ct&&Ct.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vo=Ct&&Ct.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ZV(e,r,t)};Object.defineProperty(Ct,"__esModule",{value:!0});vo(GP(),Ct);vo(xN(),Ct);vo($N(),Ct);vo(YN(),Ct);vo(WN(),Ct)});var QN=a(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.HttpInstrumentation=void 0;var I=f(),zi=Ju(),JV=go(),kN=require("url"),ie=Sf(),eH=LP(),Ae=Dc(),zN=Ju(),Hf=class extends Ae.InstrumentationBase{constructor(e){super("@opentelemetry/instrumentation-http",eH.VERSION,e),this._spanNotEnded=new WeakSet,this._version=process.versions.node,this._headerCapture=this._createHeaderCapture(),this._updateMetricInstruments()}setMeterProvider(e){super.setMeterProvider(e),this._updateMetricInstruments()}_updateMetricInstruments(){this._httpServerDurationHistogram=this.meter.createHistogram("http.server.duration",{description:"measures the duration of the inbound HTTP requests",unit:"ms",valueType:I.ValueType.DOUBLE}),this._httpClientDurationHistogram=this.meter.createHistogram("http.client.duration",{description:"measures the duration of the outbound HTTP requests",unit:"ms",valueType:I.ValueType.DOUBLE})}_getConfig(){return this._config}setConfig(e){super.setConfig(e),this._headerCapture=this._createHeaderCapture()}init(){return[this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){return new Ae.InstrumentationNodeModuleDefinition("http",["*"],e=>(this._diag.debug(`Applying patch for http@${this._version}`),(0,Ae.isWrapped)(e.request)&&this._unwrap(e,"request"),this._wrap(e,"request",this._getPatchOutgoingRequestFunction("http")),(0,Ae.isWrapped)(e.get)&&this._unwrap(e,"get"),this._wrap(e,"get",this._getPatchOutgoingGetFunction(e.request)),(0,Ae.isWrapped)(e.Server.prototype.emit)&&this._unwrap(e.Server.prototype,"emit"),this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("http")),e),e=>{e!==void 0&&(this._diag.debug(`Removing patch for http@${this._version}`),this._unwrap(e,"request"),this._unwrap(e,"get"),this._unwrap(e.Server.prototype,"emit"))})}_getHttpsInstrumentation(){return new Ae.InstrumentationNodeModuleDefinition("https",["*"],e=>(this._diag.debug(`Applying patch for https@${this._version}`),(0,Ae.isWrapped)(e.request)&&this._unwrap(e,"request"),this._wrap(e,"request",this._getPatchHttpsOutgoingRequestFunction("https")),(0,Ae.isWrapped)(e.get)&&this._unwrap(e,"get"),this._wrap(e,"get",this._getPatchHttpsOutgoingGetFunction(e.request)),(0,Ae.isWrapped)(e.Server.prototype.emit)&&this._unwrap(e.Server.prototype,"emit"),this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("https")),e),e=>{e!==void 0&&(this._diag.debug(`Removing patch for https@${this._version}`),this._unwrap(e,"request"),this._unwrap(e,"get"),this._unwrap(e.Server.prototype,"emit"))})}_getPatchIncomingRequestFunction(e){return t=>this._incomingRequestFunction(e,t)}_getPatchOutgoingRequestFunction(e){return t=>this._outgoingRequestFunction(e,t)}_getPatchOutgoingGetFunction(e){return t=>function(i,...s){let o=e(i,...s);return o.end(),o}}_getPatchHttpsOutgoingRequestFunction(e){return t=>{let n=this;return function(s,...o){var u;return e==="https"&&typeof s=="object"&&((u=s==null?void 0:s.constructor)===null||u===void 0?void 0:u.name)!=="URL"&&(s=Object.assign({},s),n._setDefaultOptions(s)),n._getPatchOutgoingRequestFunction(e)(t)(s,...o)}}}_setDefaultOptions(e){e.protocol=e.protocol||"https:",e.port=e.port||443}_getPatchHttpsOutgoingGetFunction(e){return t=>{let n=this;return function(s,...o){return n._getPatchOutgoingGetFunction(e)(t)(s,...o)}}}_traceClientRequest(e,t,n,i,s){return this._getConfig().requestHook&&this._callRequestHook(n,e),e.prependListener("response",o=>{let u=ie.getOutgoingRequestAttributesOnResponse(o);n.setAttributes(u),s=Object.assign(s,ie.getOutgoingRequestMetricAttributesOnResponse(u)),this._getConfig().responseHook&&this._callResponseHook(n,o),this._headerCapture.client.captureRequestHeaders(n,c=>e.getHeader(c)),this._headerCapture.client.captureResponseHeaders(n,c=>o.headers[c]),I.context.bind(I.context.active(),o),this._diag.debug("outgoingRequest on response()"),o.on("end",()=>{this._diag.debug("outgoingRequest on end()");let c;o.aborted&&!o.complete?c={code:I.SpanStatusCode.ERROR}:c={code:ie.parseResponseStatus(I.SpanKind.CLIENT,o.statusCode)},n.setStatus(c),this._getConfig().applyCustomAttributesOnSpan&&(0,Ae.safeExecuteInTheMiddle)(()=>this._getConfig().applyCustomAttributesOnSpan(n,e,o),()=>{},!0),this._closeHttpSpan(n,I.SpanKind.CLIENT,i,s)}),o.on("error",c=>{this._diag.debug("outgoingRequest on error()",c),ie.setSpanWithError(n,c);let _=ie.parseResponseStatus(I.SpanKind.CLIENT,o.statusCode);n.setStatus({code:_,message:c.message}),this._closeHttpSpan(n,I.SpanKind.CLIENT,i,s)})}),e.on("close",()=>{this._diag.debug("outgoingRequest on request close()"),e.aborted||this._closeHttpSpan(n,I.SpanKind.CLIENT,i,s)}),e.on("error",o=>{this._diag.debug("outgoingRequest on request error()",o),ie.setSpanWithError(n,o),this._closeHttpSpan(n,I.SpanKind.CLIENT,i,s)}),this._diag.debug("http.ClientRequest return request"),e}_incomingRequestFunction(e,t){let n=this;return function(s,...o){if(s!=="request")return t.apply(this,[s,...o]);let u=o[0],c=o[1],_=u.url&&kN.parse(u.url).pathname||"/",l=u.method||"GET";if(n._diag.debug(`${e} instrumentation incomingRequest`),ie.isIgnored(_,n._getConfig().ignoreIncomingPaths,b=>n._diag.error("caught ignoreIncomingPaths error: ",b))||(0,Ae.safeExecuteInTheMiddle)(()=>{var b,V;return(V=(b=n._getConfig()).ignoreIncomingRequestHook)===null||V===void 0?void 0:V.call(b,u)},b=>{b!=null&&n._diag.error("caught ignoreIncomingRequestHook error: ",b)},!0))return I.context.with((0,zi.suppressTracing)(I.context.active()),()=>(I.context.bind(I.context.active(),u),I.context.bind(I.context.active(),c),t.apply(this,[s,...o])));let d=u.headers,p=ie.getIncomingRequestAttributes(u,{component:e,serverName:n._getConfig().serverName,hookAttributes:n._callStartSpanHook(u,n._getConfig().startIncomingSpanHook)}),E={kind:I.SpanKind.SERVER,attributes:p},O=(0,zi.hrTime)(),R=ie.getIncomingRequestMetricAttributes(p),C=I.propagation.extract(I.ROOT_CONTEXT,d),P=n._startHttpSpan(`${e.toLocaleUpperCase()} ${l}`,E,C),ae={type:zN.RPCType.HTTP,span:P};return I.context.with((0,zN.setRPCMetadata)(I.trace.setSpan(C,P),ae),()=>{I.context.bind(I.context.active(),u),I.context.bind(I.context.active(),c),n._getConfig().requestHook&&n._callRequestHook(P,u),n._getConfig().responseHook&&n._callResponseHook(P,c),n._headerCapture.server.captureRequestHeaders(P,V=>u.headers[V]);let b=c.end;return c.end=function(...V){c.end=b;let ke=(0,Ae.safeExecuteInTheMiddle)(()=>c.end.apply(this,arguments),N=>{if(N)throw ie.setSpanWithError(P,N),n._closeHttpSpan(P,I.SpanKind.SERVER,O,R),N}),Y=ie.getIncomingRequestAttributesOnResponse(u,c);return R=Object.assign(R,ie.getIncomingRequestMetricAttributesOnResponse(Y)),n._headerCapture.server.captureResponseHeaders(P,N=>c.getHeader(N)),P.setAttributes(Y).setStatus({code:ie.parseResponseStatus(I.SpanKind.SERVER,c.statusCode)}),n._getConfig().applyCustomAttributesOnSpan&&(0,Ae.safeExecuteInTheMiddle)(()=>n._getConfig().applyCustomAttributesOnSpan(P,u,c),()=>{},!0),n._closeHttpSpan(P,I.SpanKind.SERVER,O,R),ke},(0,Ae.safeExecuteInTheMiddle)(()=>t.apply(this,[s,...o]),V=>{if(V)throw ie.setSpanWithError(P,V),n._closeHttpSpan(P,I.SpanKind.SERVER,O,R),V})})}}_outgoingRequestFunction(e,t){let n=this;return function(s,...o){if(!ie.isValidOptionsType(s))return t.apply(this,[s,...o]);let u=typeof o[0]=="object"&&(typeof s=="string"||s instanceof kN.URL)?o.shift():void 0,{origin:c,pathname:_,method:l,optionsParsed:d}=ie.getRequestInfo(s,u);if(e==="http"&&JV.lt(process.version,"9.0.0")&&d.protocol==="https:")return t.apply(this,[d,...o]);if(ie.isIgnored(c+_,n._getConfig().ignoreOutgoingUrls,Y=>n._diag.error("caught ignoreOutgoingUrls error: ",Y))||(0,Ae.safeExecuteInTheMiddle)(()=>{var Y,N;return(N=(Y=n._getConfig()).ignoreOutgoingRequestHook)===null||N===void 0?void 0:N.call(Y,d)},Y=>{Y!=null&&n._diag.error("caught ignoreOutgoingRequestHook error: ",Y)},!0))return t.apply(this,[d,...o]);let p=`${e.toUpperCase()} ${l}`,{hostname:E,port:O}=ie.extractHostnameAndPort(d),R=ie.getOutgoingRequestAttributes(d,{component:e,port:O,hostname:E,hookAttributes:n._callStartSpanHook(d,n._getConfig().startOutgoingSpanHook)}),C=(0,zi.hrTime)(),P=ie.getOutgoingRequestMetricAttributes(R),ae={kind:I.SpanKind.CLIENT,attributes:R},b=n._startHttpSpan(p,ae),V=I.context.active(),ke=I.trace.setSpan(V,b);return d.headers||(d.headers={}),I.propagation.inject(ke,d.headers),I.context.with(ke,()=>{let Y=o[o.length-1];typeof Y=="function"&&(o[o.length-1]=I.context.bind(V,Y));let N=(0,Ae.safeExecuteInTheMiddle)(()=>t.apply(this,[d,...o]),j=>{if(j)throw ie.setSpanWithError(b,j),n._closeHttpSpan(b,I.SpanKind.CLIENT,C,P),j});return n._diag.debug(`${e} instrumentation outgoingRequest`),I.context.bind(V,N),n._traceClientRequest(N,E,b,C,P)})}}_startHttpSpan(e,t,n=I.context.active()){let i=t.kind===I.SpanKind.CLIENT?this._getConfig().requireParentforOutgoingSpans:this._getConfig().requireParentforIncomingSpans,s,o=I.trace.getSpan(n);return i===!0&&o===void 0?s=I.trace.wrapSpanContext(I.INVALID_SPAN_CONTEXT):i===!0&&(o!=null&&o.spanContext().isRemote)?s=o:s=this.tracer.startSpan(e,t,n),this._spanNotEnded.add(s),s}_closeHttpSpan(e,t,n,i){if(!this._spanNotEnded.has(e))return;e.end(),this._spanNotEnded.delete(e);let s=(0,zi.hrTimeToMilliseconds)((0,zi.hrTimeDuration)(n,(0,zi.hrTime)()));t===I.SpanKind.SERVER?this._httpServerDurationHistogram.record(s,i):t===I.SpanKind.CLIENT&&this._httpClientDurationHistogram.record(s,i)}_callResponseHook(e,t){(0,Ae.safeExecuteInTheMiddle)(()=>this._getConfig().responseHook(e,t),()=>{},!0)}_callRequestHook(e,t){(0,Ae.safeExecuteInTheMiddle)(()=>this._getConfig().requestHook(e,t),()=>{},!0)}_callStartSpanHook(e,t){if(typeof t=="function")return(0,Ae.safeExecuteInTheMiddle)(()=>t(e),()=>{},!0)}_createHeaderCapture(){var e,t,n,i,s,o,u,c,_,l,d,p;let E=this._getConfig();return{client:{captureRequestHeaders:ie.headerCapture("request",(n=(t=(e=E.headersToSpanAttributes)===null||e===void 0?void 0:e.client)===null||t===void 0?void 0:t.requestHeaders)!==null&&n!==void 0?n:[]),captureResponseHeaders:ie.headerCapture("response",(o=(s=(i=E.headersToSpanAttributes)===null||i===void 0?void 0:i.client)===null||s===void 0?void 0:s.responseHeaders)!==null&&o!==void 0?o:[])},server:{captureRequestHeaders:ie.headerCapture("request",(_=(c=(u=E.headersToSpanAttributes)===null||u===void 0?void 0:u.server)===null||c===void 0?void 0:c.requestHeaders)!==null&&_!==void 0?_:[]),captureResponseHeaders:ie.headerCapture("response",(p=(d=(l=E.headersToSpanAttributes)===null||l===void 0?void 0:l.server)===null||d===void 0?void 0:d.responseHeaders)!==null&&p!==void 0?p:[])}}}};wc.HttpInstrumentation=Hf});var JN=a(ZN=>{"use strict";Object.defineProperty(ZN,"__esModule",{value:!0})});var eI=a(sr=>{"use strict";var tH=sr&&sr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ff=sr&&sr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&tH(e,r,t)};Object.defineProperty(sr,"__esModule",{value:!0});Ff(QN(),sr);Ff(JN(),sr);Ff(Sf(),sr)});var tI=a(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.MessageTypeValues=K.RpcGrpcStatusCodeValues=K.MessagingOperationValues=K.MessagingDestinationKindValues=K.HttpFlavorValues=K.NetHostConnectionSubtypeValues=K.NetHostConnectionTypeValues=K.NetTransportValues=K.FaasInvokedProviderValues=K.FaasDocumentOperationValues=K.FaasTriggerValues=K.DbCassandraConsistencyLevelValues=K.DbSystemValues=K.SemanticAttributes=void 0;K.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};K.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};K.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};K.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};K.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};K.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};K.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};K.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};K.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};K.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};K.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};K.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};K.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};K.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var rI=a(Cn=>{"use strict";var rH=Cn&&Cn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nH=Cn&&Cn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rH(e,r,t)};Object.defineProperty(Cn,"__esModule",{value:!0});nH(tI(),Cn)});var nI=a(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.TelemetrySdkLanguageValues=Ge.OsTypeValues=Ge.HostArchValues=Ge.AwsEcsLaunchtypeValues=Ge.CloudPlatformValues=Ge.CloudProviderValues=Ge.SemanticResourceAttributes=void 0;Ge.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Ge.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Ge.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Ge.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Ge.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Ge.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Ge.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var iI=a(Mn=>{"use strict";var iH=Mn&&Mn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sH=Mn&&Mn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&iH(e,r,t)};Object.defineProperty(Mn,"__esModule",{value:!0});sH(nI(),Mn)});var yn=a(Dr=>{"use strict";var oH=Dr&&Dr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sI=Dr&&Dr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&oH(e,r,t)};Object.defineProperty(Dr,"__esModule",{value:!0});sI(rI(),Dr);sI(iI(),Dr)});var Co=a(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.isTracingSuppressed=wr.unsuppressTracing=wr.suppressTracing=void 0;var aH=f(),xf=(0,aH.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function uH(r){return r.setValue(xf,!0)}wr.suppressTracing=uH;function cH(r){return r.deleteValue(xf)}wr.unsuppressTracing=cH;function _H(r){return r.getValue(xf)===!0}wr.isTracingSuppressed=_H});var Kf=a(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.BAGGAGE_MAX_TOTAL_LENGTH=Be.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Be.BAGGAGE_MAX_NAME_VALUE_PAIRS=Be.BAGGAGE_HEADER=Be.BAGGAGE_ITEMS_SEPARATOR=Be.BAGGAGE_PROPERTIES_SEPARATOR=Be.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Be.BAGGAGE_KEY_PAIR_SEPARATOR="=";Be.BAGGAGE_PROPERTIES_SEPARATOR=";";Be.BAGGAGE_ITEMS_SEPARATOR=",";Be.BAGGAGE_HEADER="baggage";Be.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Be.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Be.BAGGAGE_MAX_TOTAL_LENGTH=8192});var $f=a(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.parseKeyPairsIntoRecord=Kt.parsePairKeyValue=Kt.getKeyPairs=Kt.serializeKeyPairs=void 0;var lH=f(),Ln=Kf();function dH(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?Ln.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>Ln.BAGGAGE_MAX_TOTAL_LENGTH?e:n},"")}Kt.serializeKeyPairs=dH;function EH(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=Ln.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),n})}Kt.getKeyPairs=EH;function oI(r){let e=r.split(Ln.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.split(Ln.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return e.length>0&&(o=(0,lH.baggageEntryMetadataFromString)(e.join(Ln.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}Kt.parsePairKeyValue=oI;function pH(r){return typeof r!="string"||r.length===0?{}:r.split(Ln.BAGGAGE_ITEMS_SEPARATOR).map(e=>oI(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}Kt.parseKeyPairsIntoRecord=pH});var aI=a(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.W3CBaggagePropagator=void 0;var Xf=f(),fH=Co(),Dn=Kf(),Yf=$f(),Wf=class{inject(e,t,n){let i=Xf.propagation.getBaggage(e);if(!i||(0,fH.isTracingSuppressed)(e))return;let s=(0,Yf.getKeyPairs)(i).filter(u=>u.length<=Dn.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Dn.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,Yf.serializeKeyPairs)(s);o.length>0&&n.set(t,Dn.BAGGAGE_HEADER,o)}extract(e,t,n){let i=n.get(t,Dn.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(Dn.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return e;let o={};return s.length===0||(s.split(Dn.BAGGAGE_ITEMS_SEPARATOR).forEach(c=>{let _=(0,Yf.parsePairKeyValue)(c);if(_){let l={value:_.value};_.metadata&&(l.metadata=_.metadata),o[_.key]=l}}),Object.entries(o).length===0)?e:Xf.propagation.setBaggage(e,Xf.propagation.createBaggage(o))}fields(){return[Dn.BAGGAGE_HEADER]}};Uc.W3CBaggagePropagator=Wf});var uI=a(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.AnchoredClock=void 0;var kf=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};Gc.AnchoredClock=kf});var EI=a(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.isAttributeValue=Ur.isAttributeKey=Ur.sanitizeAttributes=void 0;var cI=f();function TH(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!_I(t)){cI.diag.warn(`Invalid attribute key: ${t}`);continue}if(!lI(n)){cI.diag.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}Ur.sanitizeAttributes=TH;function _I(r){return typeof r=="string"&&r.length>0}Ur.isAttributeKey=_I;function lI(r){return r==null?!0:Array.isArray(r)?AH(r):dI(r)}Ur.isAttributeValue=lI;function AH(r){let e;for(let t of r)if(t!=null){if(!e){if(dI(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function dI(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}});var zf=a(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.loggingErrorHandler=void 0;var SH=f();function hH(){return r=>{SH.diag.error(gH(r))}}Bc.loggingErrorHandler=hH;function gH(r){return typeof r=="string"?r:JSON.stringify(OH(r))}function OH(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let i=t[n];i&&(e[n]=String(i))}),t=Object.getPrototypeOf(t);return e}});var Qf=a(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.globalErrorHandler=Qi.setGlobalErrorHandler=void 0;var mH=zf(),pI=(0,mH.loggingErrorHandler)();function RH(r){pI=r}Qi.setGlobalErrorHandler=RH;function PH(r){try{pI(r)}catch{}}Qi.globalErrorHandler=PH});var Zf=a(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.TracesSamplerValues=void 0;var NH;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(NH=Mo.TracesSamplerValues||(Mo.TracesSamplerValues={}))});var fI=a(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc._globalThis=void 0;qc._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var eT=a(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getEnvWithoutDefaults=Ne.parseEnvironment=Ne.DEFAULT_ENVIRONMENT=Ne.DEFAULT_ATTRIBUTE_COUNT_LIMIT=Ne.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Gr=f(),IH=Zf(),bH=fI(),vH=",",CH=["OTEL_SDK_DISABLED"];function MH(r){return CH.indexOf(r)>-1}var yH=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function LH(r){return yH.indexOf(r)>-1}var DH=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function wH(r){return DH.indexOf(r)>-1}Ne.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;Ne.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;Ne.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Gr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ne.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:Ne.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ne.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Ne.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:IH.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function UH(r,e,t){if(typeof t[r]>"u")return;let n=String(t[r]);e[r]=n.toLowerCase()==="true"}function GH(r,e,t,n=-1/0,i=1/0){if(typeof t[r]<"u"){let s=Number(t[r]);isNaN(s)||(s<n?e[r]=n:s>i?e[r]=i:e[r]=s)}}function BH(r,e,t,n=vH){let i=t[r];typeof i=="string"&&(e[r]=i.split(n).map(s=>s.trim()))}var qH={ALL:Gr.DiagLogLevel.ALL,VERBOSE:Gr.DiagLogLevel.VERBOSE,DEBUG:Gr.DiagLogLevel.DEBUG,INFO:Gr.DiagLogLevel.INFO,WARN:Gr.DiagLogLevel.WARN,ERROR:Gr.DiagLogLevel.ERROR,NONE:Gr.DiagLogLevel.NONE};function jH(r,e,t){let n=t[r];if(typeof n=="string"){let i=qH[n.toUpperCase()];i!=null&&(e[r]=i)}}function Jf(r){let e={};for(let t in Ne.DEFAULT_ENVIRONMENT){let n=t;switch(n){case"OTEL_LOG_LEVEL":jH(n,e,r);break;default:if(MH(n))UH(n,e,r);else if(LH(n))GH(n,e,r);else if(wH(n))BH(n,e,r);else{let i=r[n];typeof i<"u"&&i!==null&&(e[n]=String(i))}}}return e}Ne.parseEnvironment=Jf;function VH(){return Jf(typeof process<"u"?process.env:bH._globalThis)}Ne.getEnvWithoutDefaults=VH});var AI=a(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.getEnv=void 0;var HH=require("os"),TI=eT();function FH(){let r=(0,TI.parseEnvironment)(process.env);return Object.assign({HOSTNAME:HH.hostname()},TI.DEFAULT_ENVIRONMENT,r)}jc.getEnv=FH});var SI=a(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc._globalThis=void 0;Vc._globalThis=typeof globalThis=="object"?globalThis:global});var gI=a(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.hexToBase64=void 0;function hI(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}var xH=Buffer.alloc(8),KH=Buffer.alloc(16);function $H(r){let e;r.length===16?e=xH:r.length===32?e=KH:e=Buffer.alloc(r.length/2);let t=0;for(let n=0;n<r.length;n+=2){let i=hI(r.charCodeAt(n)),s=hI(r.charCodeAt(n+1));e.writeUInt8(i<<4|s,t++)}return e.toString("base64")}Hc.hexToBase64=$H});var RI=a(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.RandomIdGenerator=void 0;var XH=8,mI=16,tT=class{constructor(){this.generateTraceId=OI(mI),this.generateSpanId=OI(XH)}};xc.RandomIdGenerator=tT;var Fc=Buffer.allocUnsafe(mI);function OI(r){return function(){for(let t=0;t<r/4;t++)Fc.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(Fc[t]>0);t++)t===r-1&&(Fc[r-1]=1);return Fc.toString("hex",0,r)}}});var PI=a(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.otperformance=void 0;var YH=require("perf_hooks");Kc.otperformance=YH.performance});var Xc=a($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.VERSION=void 0;$c.VERSION="1.9.0"});var NI=a($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.MessageTypeValues=$.RpcGrpcStatusCodeValues=$.MessagingOperationValues=$.MessagingDestinationKindValues=$.HttpFlavorValues=$.NetHostConnectionSubtypeValues=$.NetHostConnectionTypeValues=$.NetTransportValues=$.FaasInvokedProviderValues=$.FaasDocumentOperationValues=$.FaasTriggerValues=$.DbCassandraConsistencyLevelValues=$.DbSystemValues=$.SemanticAttributes=void 0;$.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};$.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};$.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};$.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};$.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};$.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};$.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};$.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};$.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};$.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};$.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};$.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};$.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};$.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var II=a(wn=>{"use strict";var WH=wn&&wn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kH=wn&&wn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&WH(e,r,t)};Object.defineProperty(wn,"__esModule",{value:!0});kH(NI(),wn)});var bI=a(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.TelemetrySdkLanguageValues=qe.OsTypeValues=qe.HostArchValues=qe.AwsEcsLaunchtypeValues=qe.CloudPlatformValues=qe.CloudProviderValues=qe.SemanticResourceAttributes=void 0;qe.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};qe.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};qe.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};qe.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};qe.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};qe.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};qe.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var vI=a(Un=>{"use strict";var zH=Un&&Un.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),QH=Un&&Un.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&zH(e,r,t)};Object.defineProperty(Un,"__esModule",{value:!0});QH(bI(),Un)});var MI=a(Br=>{"use strict";var ZH=Br&&Br.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),CI=Br&&Br.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ZH(e,r,t)};Object.defineProperty(Br,"__esModule",{value:!0});CI(II(),Br);CI(vI(),Br)});var yI=a(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.SDK_INFO=void 0;var JH=Xc(),yo=MI();Yc.SDK_INFO={[yo.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[yo.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[yo.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:yo.TelemetrySdkLanguageValues.NODEJS,[yo.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:JH.VERSION}});var LI=a(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.unrefTimer=void 0;function eF(r){r.unref()}Wc.unrefTimer=eF});var DI=a(lt=>{"use strict";var tF=lt&&lt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gn=lt&&lt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&tF(e,r,t)};Object.defineProperty(lt,"__esModule",{value:!0});Gn(AI(),lt);Gn(SI(),lt);Gn(gI(),lt);Gn(RI(),lt);Gn(PI(),lt);Gn(yI(),lt);Gn(LI(),lt)});var rT=a(Bn=>{"use strict";var rF=Bn&&Bn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nF=Bn&&Bn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rF(e,r,t)};Object.defineProperty(Bn,"__esModule",{value:!0});nF(DI(),Bn)});var BI=a(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.addHrTimes=ee.isTimeInput=ee.isTimeInputHrTime=ee.hrTimeToMicroseconds=ee.hrTimeToMilliseconds=ee.hrTimeToNanoseconds=ee.hrTimeToTimeStamp=ee.hrTimeDuration=ee.timeInputToHrTime=ee.hrTime=ee.getTimeOrigin=ee.millisToHrTime=void 0;var nT=rT(),wI=9,iF=6,sF=Math.pow(10,iF),kc=Math.pow(10,wI);function Lo(r){let e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*sF);return[t,n]}ee.millisToHrTime=Lo;function iT(){let r=nT.otperformance.timeOrigin;if(typeof r!="number"){let e=nT.otperformance;r=e.timing&&e.timing.fetchStart}return r}ee.getTimeOrigin=iT;function UI(r){let e=Lo(iT()),t=Lo(typeof r=="number"?r:nT.otperformance.now());return GI(e,t)}ee.hrTime=UI;function oF(r){if(sT(r))return r;if(typeof r=="number")return r<iT()?UI(r):Lo(r);if(r instanceof Date)return Lo(r.getTime());throw TypeError("Invalid input type")}ee.timeInputToHrTime=oF;function aF(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=kc),[t,n]}ee.hrTimeDuration=aF;function uF(r){let e=wI,t=`${"0".repeat(e)}${r[1]}Z`,n=t.substr(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",n)}ee.hrTimeToTimeStamp=uF;function cF(r){return r[0]*kc+r[1]}ee.hrTimeToNanoseconds=cF;function _F(r){return Math.round(r[0]*1e3+r[1]/1e6)}ee.hrTimeToMilliseconds=_F;function lF(r){return Math.round(r[0]*1e6+r[1]/1e3)}ee.hrTimeToMicroseconds=lF;function sT(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}ee.isTimeInputHrTime=sT;function dF(r){return sT(r)||typeof r=="number"||r instanceof Date}ee.isTimeInput=dF;function GI(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=kc&&(t[1]-=kc,t[0]+=1),t}ee.addHrTimes=GI});var jI=a(qI=>{"use strict";Object.defineProperty(qI,"__esModule",{value:!0})});var VI=a(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.ExportResultCode=void 0;var EF;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(EF=Do.ExportResultCode||(Do.ExportResultCode={}))});var FI=a(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.CompositePropagator=void 0;var HI=f(),oT=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(e,t,n){for(let i of this._propagators)try{i.inject(e,t,n)}catch(s){HI.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(e,t,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,t,n)}catch(o){HI.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},e)}fields(){return this._fields.slice()}};zc.CompositePropagator=oT});var xI=a(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.validateValue=Zi.validateKey=void 0;var aT="[_0-9a-z-*/]",pF=`[a-z]${aT}{0,255}`,fF=`[a-z0-9]${aT}{0,240}@[a-z]${aT}{0,13}`,TF=new RegExp(`^(?:${pF}|${fF})$`),AF=/^[ -~]{0,255}[!-~]$/,SF=/,|=/;function hF(r){return TF.test(r)}Zi.validateKey=hF;function gF(r){return AF.test(r)&&!SF.test(r)}Zi.validateValue=gF});var uT=a(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.TraceState=void 0;var KI=xI(),$I=32,OF=512,XI=",",YI="=",wo=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+YI+this.get(t)),e),[]).join(XI)}_parse(e){e.length>OF||(this._internalState=e.split(XI).reverse().reduce((t,n)=>{let i=n.trim(),s=i.indexOf(YI);if(s!==-1){let o=i.slice(0,s),u=i.slice(s+1,n.length);(0,KI.validateKey)(o)&&(0,KI.validateValue)(u)&&t.set(o,u)}return t},new Map),this._internalState.size>$I&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,$I))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new wo;return e._internalState=new Map(this._internalState),e}};Qc.TraceState=wo});var kI=a(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.W3CTraceContextPropagator=je.parseTraceParent=je.TRACE_STATE_HEADER=je.TRACE_PARENT_HEADER=void 0;var Zc=f(),mF=Co(),RF=uT();je.TRACE_PARENT_HEADER="traceparent";je.TRACE_STATE_HEADER="tracestate";var PF="00",NF="(?!ff)[\\da-f]{2}",IF="(?![0]{32})[\\da-f]{32}",bF="(?![0]{16})[\\da-f]{16}",vF="[\\da-f]{2}",CF=new RegExp(`^\\s?(${NF})-(${IF})-(${bF})-(${vF})(-.*)?\\s?$`);function WI(r){let e=CF.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}je.parseTraceParent=WI;var cT=class{inject(e,t,n){let i=Zc.trace.getSpanContext(e);if(!i||(0,mF.isTracingSuppressed)(e)||!(0,Zc.isSpanContextValid)(i))return;let s=`${PF}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||Zc.TraceFlags.NONE).toString(16)}`;n.set(t,je.TRACE_PARENT_HEADER,s),i.traceState&&n.set(t,je.TRACE_STATE_HEADER,i.traceState.serialize())}extract(e,t,n){let i=n.get(t,je.TRACE_PARENT_HEADER);if(!i)return e;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;let o=WI(s);if(!o)return e;o.isRemote=!0;let u=n.get(t,je.TRACE_STATE_HEADER);if(u){let c=Array.isArray(u)?u.join(","):u;o.traceState=new RF.TraceState(typeof c=="string"?c:void 0)}return Zc.trace.setSpanContext(e,o)}fields(){return[je.TRACE_PARENT_HEADER,je.TRACE_STATE_HEADER]}};je.W3CTraceContextPropagator=cT});var QI=a(zI=>{"use strict";Object.defineProperty(zI,"__esModule",{value:!0})});var ZI=a(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.getRPCMetadata=Mt.deleteRPCMetadata=Mt.setRPCMetadata=Mt.RPCType=void 0;var MF=f(),_T=(0,MF.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),yF;(function(r){r.HTTP="http"})(yF=Mt.RPCType||(Mt.RPCType={}));function LF(r,e){return r.setValue(_T,e)}Mt.setRPCMetadata=LF;function DF(r){return r.deleteValue(_T)}Mt.deleteRPCMetadata=DF;function wF(r){return r.getValue(_T)}Mt.getRPCMetadata=wF});var dT=a(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.AlwaysOffSampler=void 0;var UF=f(),lT=class{shouldSample(){return{decision:UF.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Jc.AlwaysOffSampler=lT});var pT=a(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.AlwaysOnSampler=void 0;var GF=f(),ET=class{shouldSample(){return{decision:GF.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};e_.AlwaysOnSampler=ET});var eb=a(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});r_.ParentBasedSampler=void 0;var t_=f(),BF=Qf(),JI=dT(),fT=pT(),TT=class{constructor(e){var t,n,i,s;this._root=e.root,this._root||((0,BF.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new fT.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new fT.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new JI.AlwaysOffSampler,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new fT.AlwaysOnSampler,this._localParentNotSampled=(s=e.localParentNotSampled)!==null&&s!==void 0?s:new JI.AlwaysOffSampler}shouldSample(e,t,n,i,s,o){let u=t_.trace.getSpanContext(e);return!u||!(0,t_.isSpanContextValid)(u)?this._root.shouldSample(e,t,n,i,s,o):u.isRemote?u.traceFlags&t_.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,s,o):this._remoteParentNotSampled.shouldSample(e,t,n,i,s,o):u.traceFlags&t_.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,s,o):this._localParentNotSampled.shouldSample(e,t,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};r_.ParentBasedSampler=TT});var tb=a(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.TraceIdRatioBasedSampler=void 0;var AT=f(),ST=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,AT.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?AT.SamplingDecision.RECORD_AND_SAMPLED:AT.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=n*8,s=parseInt(e.slice(i,i+8),16);t=(t^s)>>>0}return t}};n_.TraceIdRatioBasedSampler=ST});var ob=a(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});i_.isPlainObject=void 0;var qF="[object Object]",jF="[object Null]",VF="[object Undefined]",HF=Function.prototype,rb=HF.toString,FF=rb.call(Object),xF=KF(Object.getPrototypeOf,Object),nb=Object.prototype,ib=nb.hasOwnProperty,qn=Symbol?Symbol.toStringTag:void 0,sb=nb.toString;function KF(r,e){return function(t){return r(e(t))}}function $F(r){if(!XF(r)||YF(r)!==qF)return!1;let e=xF(r);if(e===null)return!0;let t=ib.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&rb.call(t)===FF}i_.isPlainObject=$F;function XF(r){return r!=null&&typeof r=="object"}function YF(r){return r==null?r===void 0?VF:jF:qn&&qn in Object(r)?WF(r):kF(r)}function WF(r){let e=ib.call(r,qn),t=r[qn],n=!1;try{r[qn]=void 0,n=!0}catch{}let i=sb.call(r);return n&&(e?r[qn]=t:delete r[qn]),i}function kF(r){return sb.call(r)}});var lb=a(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.merge=void 0;var ab=ob(),zF=20;function QF(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=cb(e,r.shift(),0,t);return e}a_.merge=QF;function hT(r){return o_(r)?r.slice():r}function cb(r,e,t=0,n){let i;if(!(t>zF)){if(t++,s_(r)||s_(e)||_b(e))i=hT(e);else if(o_(r)){if(i=r.slice(),o_(e))for(let s=0,o=e.length;s<o;s++)i.push(hT(e[s]));else if(Uo(e)){let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o];i[c]=hT(e[c])}}}else if(Uo(r))if(Uo(e)){if(!ZF(r,e))return e;i=Object.assign({},r);let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o],_=e[c];if(s_(_))typeof _>"u"?delete i[c]:i[c]=_;else{let l=i[c],d=_;if(ub(r,c,n)||ub(e,c,n))delete i[c];else{if(Uo(l)&&Uo(d)){let p=n.get(l)||[],E=n.get(d)||[];p.push({obj:r,key:c}),E.push({obj:e,key:c}),n.set(l,p),n.set(d,E)}i[c]=cb(i[c],_,t,n)}}}}else i=e;return i}}function ub(r,e,t){let n=t.get(r[e])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===e&&o.obj===r)return!0}return!1}function o_(r){return Array.isArray(r)}function _b(r){return typeof r=="function"}function Uo(r){return!s_(r)&&!o_(r)&&!_b(r)&&typeof r=="object"}function s_(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function ZF(r,e){return!(!(0,ab.isPlainObject)(r)||!(0,ab.isPlainObject)(e))}});var Eb=a(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.isUrlIgnored=Ji.urlMatches=void 0;function db(r,e){return typeof e=="string"?r===e:!!r.match(e)}Ji.urlMatches=db;function JF(r,e){if(!e)return!1;for(let t of e)if(db(r,t))return!0;return!1}Ji.isUrlIgnored=JF});var pb=a(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});u_.isWrapped=void 0;function ex(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}u_.isWrapped=ex});var fb=a(c_=>{"use strict";Object.defineProperty(c_,"__esModule",{value:!0});c_.Deferred=void 0;var gT=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};c_.Deferred=gT});var Tb=a(__=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});__.BindOnceFuture=void 0;var tx=fb(),OT=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new tx.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};__.BindOnceFuture=OT});var Sb=a(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_._export=void 0;var Ab=f(),rx=Co();function nx(r,e){return new Promise(t=>{Ab.context.with((0,rx.suppressTracing)(Ab.context.active()),()=>{r.export(e,n=>{t(n)})})})}l_._export=nx});var Se=a(U=>{"use strict";var ix=U&&U.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),z=U&&U.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ix(e,r,t)};Object.defineProperty(U,"__esModule",{value:!0});U.internal=U.baggageUtils=void 0;z(aI(),U);z(uI(),U);z(EI(),U);z(Qf(),U);z(zf(),U);z(BI(),U);z(jI(),U);z(VI(),U);z(Xc(),U);U.baggageUtils=$f();z(rT(),U);z(FI(),U);z(kI(),U);z(QI(),U);z(ZI(),U);z(dT(),U);z(pT(),U);z(eb(),U);z(tb(),U);z(Co(),U);z(uT(),U);z(eT(),U);z(lb(),U);z(Zf(),U);z(Eb(),U);z(pb(),U);z(Tb(),U);z(Xc(),U);var sx=Sb();U.internal={_export:sx._export}});var hb=a(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});d_.defaultServiceName=void 0;function ox(){return`unknown_service:${process.argv0}`}d_.defaultServiceName=ox});var Ob=a(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.detectResources=void 0;var gb=jn(),mT=f(),ax=require("util"),ux=async(r={})=>{let e=Object.assign(r),t=await Promise.all((e.detectors||[]).map(async n=>{try{let i=await n.detect(e);return mT.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return mT.diag.debug(`${n.constructor.name} failed: ${i.message}`),gb.Resource.empty()}}));return cx(t),t.reduce((n,i)=>n.merge(i),gb.Resource.empty())};E_.detectResources=ux;var cx=r=>{r.forEach(e=>{if(Object.keys(e.attributes).length>0){let t=ax.inspect(e.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});mT.diag.verbose(t)}})}});var Pb=a(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});p_.hostDetector=void 0;var mb=yn(),_x=jn(),Rb=require("os"),RT=class{async detect(e){let t={[mb.SemanticResourceAttributes.HOST_NAME]:(0,Rb.hostname)(),[mb.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,Rb.arch)())};return new _x.Resource(t)}_normalizeArch(e){switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}}};p_.hostDetector=new RT});var bb=a(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});f_.osDetector=void 0;var Nb=yn(),lx=jn(),Ib=require("os"),PT=class{async detect(e){let t={[Nb.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,Ib.platform)()),[Nb.SemanticResourceAttributes.OS_VERSION]:(0,Ib.release)()};return new lx.Resource(t)}_normalizeType(e){switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}}};f_.osDetector=new PT});var vb=a($t=>{"use strict";var dx=$t&&$t.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),T_=$t&&$t.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&dx(e,r,t)};Object.defineProperty($t,"__esModule",{value:!0});T_(hb(),$t);T_(Ob(),$t);T_(Pb(),$t);T_(bb(),$t)});var NT=a(Vn=>{"use strict";var Ex=Vn&&Vn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),px=Vn&&Vn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ex(e,r,t)};Object.defineProperty(Vn,"__esModule",{value:!0});px(vb(),Vn)});var jn=a(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});A_.Resource=void 0;var Hn=yn(),IT=Se(),fx=NT(),or=class{constructor(e){this.attributes=e}static empty(){return or.EMPTY}static default(){return new or({[Hn.SemanticResourceAttributes.SERVICE_NAME]:(0,fx.defaultServiceName)(),[Hn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:IT.SDK_INFO[Hn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Hn.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:IT.SDK_INFO[Hn.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Hn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:IT.SDK_INFO[Hn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;let t=Object.assign({},this.attributes,e.attributes);return new or(t)}};A_.Resource=or;or.EMPTY=new or({})});var Mb=a(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0})});var Lb=a(yb=>{"use strict";Object.defineProperty(yb,"__esModule",{value:!0})});var Db=a(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});h_.browserDetector=void 0;var Tx=f(),S_=yn(),bT=g_(),vT=class{async detect(e){if(!(typeof navigator<"u"))return bT.Resource.empty();let n={[S_.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[S_.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[S_.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,e)}_getResourceAttributes(e,t){return e[S_.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(Tx.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),bT.Resource.empty()):new bT.Resource(Object.assign({},e))}};h_.browserDetector=new vT});var wb=a(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});O_.envDetector=void 0;var Ax=f(),Sx=Se(),hx=yn(),gx=jn(),CT=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){let t={},n=(0,Sx.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(t,o)}catch(o){Ax.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(t[hx.SemanticResourceAttributes.SERVICE_NAME]=s),new gx.Resource(t)}_parseResourceAttributes(e){if(!e)return{};let t={},n=e.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,u]=s;if(o=o.trim(),u=u.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(u))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[o]=decodeURIComponent(u)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}};O_.envDetector=new CT});var Ub=a(m_=>{"use strict";Object.defineProperty(m_,"__esModule",{value:!0});m_.processDetector=void 0;var Ox=f(),ht=yn(),MT=jn(),yT=class{async detect(e){if(typeof process!="object")return MT.Resource.empty();let t={[ht.SemanticResourceAttributes.PROCESS_PID]:process.pid,[ht.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[ht.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[ht.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[ht.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[ht.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[ht.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,t){return e[ht.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||e[ht.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||e[ht.SemanticResourceAttributes.PROCESS_COMMAND]===""||e[ht.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||e[ht.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(Ox.diag.debug("ProcessDetector failed: Unable to find required process resources. "),MT.Resource.empty()):new MT.Resource(Object.assign({},e))}};m_.processDetector=new yT});var Gb=a(ar=>{"use strict";var mx=ar&&ar.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),LT=ar&&ar.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&mx(e,r,t)};Object.defineProperty(ar,"__esModule",{value:!0});LT(Db(),ar);LT(wb(),ar);LT(Ub(),ar)});var g_=a(yt=>{"use strict";var Rx=yt&&yt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Go=yt&&yt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Rx(e,r,t)};Object.defineProperty(yt,"__esModule",{value:!0});Go(jn(),yt);Go(NT(),yt);Go(Mb(),yt);Go(Lb(),yt);Go(Gb(),yt)});var Bb=a(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.MessageTypeValues=X.RpcGrpcStatusCodeValues=X.MessagingOperationValues=X.MessagingDestinationKindValues=X.HttpFlavorValues=X.NetHostConnectionSubtypeValues=X.NetHostConnectionTypeValues=X.NetTransportValues=X.FaasInvokedProviderValues=X.FaasDocumentOperationValues=X.FaasTriggerValues=X.DbCassandraConsistencyLevelValues=X.DbSystemValues=X.SemanticAttributes=void 0;X.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};X.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};X.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};X.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};X.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};X.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};X.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};X.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};X.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};X.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};X.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};X.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};X.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};X.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var qb=a(Fn=>{"use strict";var Px=Fn&&Fn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Nx=Fn&&Fn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Px(e,r,t)};Object.defineProperty(Fn,"__esModule",{value:!0});Nx(Bb(),Fn)});var jb=a(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.TelemetrySdkLanguageValues=Ve.OsTypeValues=Ve.HostArchValues=Ve.AwsEcsLaunchtypeValues=Ve.CloudPlatformValues=Ve.CloudProviderValues=Ve.SemanticResourceAttributes=void 0;Ve.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Ve.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Ve.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Ve.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Ve.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Ve.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Ve.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var Vb=a(xn=>{"use strict";var Ix=xn&&xn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bx=xn&&xn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ix(e,r,t)};Object.defineProperty(xn,"__esModule",{value:!0});bx(jb(),xn)});var Fb=a(qr=>{"use strict";var vx=qr&&qr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Hb=qr&&qr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vx(e,r,t)};Object.defineProperty(qr,"__esModule",{value:!0});Hb(qb(),qr);Hb(Vb(),qr)});var xb=a(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});R_.ExceptionEventName=void 0;R_.ExceptionEventName="exception"});var wT=a(P_=>{"use strict";Object.defineProperty(P_,"__esModule",{value:!0});P_.Span=void 0;var Xt=f(),He=Se(),Kn=Fb(),Cx=xb(),DT=class{constructor(e,t,n,i,s,o,u=[],c,_){this.attributes={},this.links=[],this.events=[],this.status={code:Xt.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=o,this.kind=s,this.links=u;let l=Date.now();this._performanceStartTime=He.otperformance.now(),this._performanceOffset=l-(this._performanceStartTime+(0,He.getTimeOrigin)()),this._startTimeProvided=c!=null,this.startTime=this._getTime(c??l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(e,t){return t==null||this._isSpanEnded()?this:e.length===0?(Xt.diag.warn(`Invalid attribute key: ${e}`),this):(0,He.isAttributeValue)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?this:(this.attributes[e]=this._truncateToSize(t),this):(Xt.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,t,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return Xt.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(Xt.diag.warn("Dropping extra events."),this.events.shift()),(0,He.isTimeInput)(t)&&((0,He.isTimeInput)(n)||(n=t),t=void 0);let i=(0,He.sanitizeAttributes)(t);return this.events.push({name:e,attributes:i,time:this._getTime(n)}),this}setStatus(e){return this._isSpanEnded()?this:(this.status=e,this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){Xt.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,He.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(Xt.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<He.otperformance.now())return(0,He.hrTime)(e+this._performanceOffset);if(typeof e=="number")return(0,He.millisToHrTime)(e);if(e instanceof Date)return(0,He.millisToHrTime)(e.getTime());if((0,He.isTimeInputHrTime)(e))return e;if(this._startTimeProvided)return(0,He.millisToHrTime)(Date.now());let t=He.otperformance.now()-this._performanceStartTime;return(0,He.addHrTimes)(this.startTime,(0,He.millisToHrTime)(t))}isRecording(){return this._ended===!1}recordException(e,t){let n={};typeof e=="string"?n[Kn.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?n[Kn.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(n[Kn.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(n[Kn.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(n[Kn.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),n[Kn.SemanticAttributes.EXCEPTION_TYPE]||n[Kn.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(Cx.ExceptionEventName,n,t):Xt.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&Xt.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substr(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(Xt.diag.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,t):n):e}};P_.Span=DT});var jo=a(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.SamplingDecision=void 0;var Mx;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Mx=qo.SamplingDecision||(qo.SamplingDecision={}))});var I_=a(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});N_.AlwaysOffSampler=void 0;var yx=jo(),UT=class{shouldSample(){return{decision:yx.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};N_.AlwaysOffSampler=UT});var v_=a(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.AlwaysOnSampler=void 0;var Lx=jo(),GT=class{shouldSample(){return{decision:Lx.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};b_.AlwaysOnSampler=GT});var jT=a(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0});M_.ParentBasedSampler=void 0;var C_=f(),Dx=Se(),Kb=I_(),BT=v_(),qT=class{constructor(e){var t,n,i,s;this._root=e.root,this._root||((0,Dx.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new BT.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new BT.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new Kb.AlwaysOffSampler,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new BT.AlwaysOnSampler,this._localParentNotSampled=(s=e.localParentNotSampled)!==null&&s!==void 0?s:new Kb.AlwaysOffSampler}shouldSample(e,t,n,i,s,o){let u=C_.trace.getSpanContext(e);return!u||!(0,C_.isSpanContextValid)(u)?this._root.shouldSample(e,t,n,i,s,o):u.isRemote?u.traceFlags&C_.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,s,o):this._remoteParentNotSampled.shouldSample(e,t,n,i,s,o):u.traceFlags&C_.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,s,o):this._localParentNotSampled.shouldSample(e,t,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};M_.ParentBasedSampler=qT});var HT=a(y_=>{"use strict";Object.defineProperty(y_,"__esModule",{value:!0});y_.TraceIdRatioBasedSampler=void 0;var wx=f(),$b=jo(),VT=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,wx.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?$b.SamplingDecision.RECORD_AND_SAMPLED:$b.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=n*8,s=parseInt(e.slice(i,i+8),16);t=(t^s)>>>0}return t}};y_.TraceIdRatioBasedSampler=VT});var KT=a(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.buildSamplerFromEnv=ts.loadDefaultConfig=void 0;var L_=f(),et=Se(),Xb=I_(),FT=v_(),xT=jT(),Yb=HT(),Ux=(0,et.getEnv)(),Gx=et.TracesSamplerValues.AlwaysOn,es=1;function Bx(){return{sampler:kb(Ux),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,et.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,et.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,et.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,et.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,et.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,et.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}}}ts.loadDefaultConfig=Bx;function kb(r=(0,et.getEnv)()){switch(r.OTEL_TRACES_SAMPLER){case et.TracesSamplerValues.AlwaysOn:return new FT.AlwaysOnSampler;case et.TracesSamplerValues.AlwaysOff:return new Xb.AlwaysOffSampler;case et.TracesSamplerValues.ParentBasedAlwaysOn:return new xT.ParentBasedSampler({root:new FT.AlwaysOnSampler});case et.TracesSamplerValues.ParentBasedAlwaysOff:return new xT.ParentBasedSampler({root:new Xb.AlwaysOffSampler});case et.TracesSamplerValues.TraceIdRatio:return new Yb.TraceIdRatioBasedSampler(Wb(r));case et.TracesSamplerValues.ParentBasedTraceIdRatio:return new xT.ParentBasedSampler({root:new Yb.TraceIdRatioBasedSampler(Wb(r))});default:return L_.diag.error(`OTEL_TRACES_SAMPLER value "${r.OTEL_TRACES_SAMPLER} invalid, defaulting to ${Gx}".`),new FT.AlwaysOnSampler}}ts.buildSamplerFromEnv=kb;function Wb(r){if(r.OTEL_TRACES_SAMPLER_ARG===void 0||r.OTEL_TRACES_SAMPLER_ARG==="")return L_.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${es}.`),es;let e=Number(r.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(L_.diag.error(`OTEL_TRACES_SAMPLER_ARG=${r.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${es}.`),es):e<0||e>1?(L_.diag.error(`OTEL_TRACES_SAMPLER_ARG=${r.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${es}.`),es):e}});var XT=a(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.reconfigureLimits=rs.mergeConfig=void 0;var zb=KT(),$T=Se();function qx(r){let e={sampler:(0,zb.buildSamplerFromEnv)()},t=(0,zb.loadDefaultConfig)(),n=Object.assign({},t,e,r);return n.generalLimits=Object.assign({},t.generalLimits,r.generalLimits||{}),n.spanLimits=Object.assign({},t.spanLimits,r.spanLimits||{}),n}rs.mergeConfig=qx;function jx(r){var e,t,n,i,s,o,u,c,_,l,d,p;let E=Object.assign({},r.spanLimits),O=(0,$T.getEnvWithoutDefaults)();return E.attributeCountLimit=(o=(s=(i=(t=(e=r.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&t!==void 0?t:(n=r.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&i!==void 0?i:O.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:O.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:$T.DEFAULT_ATTRIBUTE_COUNT_LIMIT,E.attributeValueLengthLimit=(p=(d=(l=(c=(u=r.spanLimits)===null||u===void 0?void 0:u.attributeValueLengthLimit)!==null&&c!==void 0?c:(_=r.generalLimits)===null||_===void 0?void 0:_.attributeValueLengthLimit)!==null&&l!==void 0?l:O.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&d!==void 0?d:O.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:$T.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},r,{spanLimits:E})}rs.reconfigureLimits=jx});var Qb=a(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.BatchSpanProcessorBase=void 0;var D_=f(),ns=Se(),YT=class{constructor(e,t){this._exporter=e,this._finishedSpans=[];let n=(0,ns.getEnv)();this._maxExportBatchSize=typeof(t==null?void 0:t.maxExportBatchSize)=="number"?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(t==null?void 0:t.maxQueueSize)=="number"?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(t==null?void 0:t.scheduledDelayMillis)=="number"?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(t==null?void 0:t.exportTimeoutMillis)=="number"?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new ns.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(D_.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&D_.TraceFlags.SAMPLED&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())}_flushAll(){return new Promise((e,t)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,o=i;s<o;s++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,t)=>{let n=setTimeout(()=>{t(new Error("Timeout"))},this._exportTimeoutMillis);D_.context.with((0,ns.suppressTracing)(D_.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),i=>{var s;clearTimeout(n),i.code===ns.ExportResultCode.SUCCESS?e():t((s=i.error)!==null&&s!==void 0?s:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{(0,ns.globalErrorHandler)(e)})},this._scheduledDelayMillis),(0,ns.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};w_.BatchSpanProcessorBase=YT});var Zb=a(U_=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});U_.BatchSpanProcessor=void 0;var Vx=Qb(),WT=class extends Vx.BatchSpanProcessorBase{onShutdown(){}};U_.BatchSpanProcessor=WT});var tv=a(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});B_.RandomIdGenerator=void 0;var Hx=8,ev=16,kT=class{constructor(){this.generateTraceId=Jb(ev),this.generateSpanId=Jb(Hx)}};B_.RandomIdGenerator=kT;var G_=Buffer.allocUnsafe(ev);function Jb(r){return function(){for(let t=0;t<r/4;t++)G_.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(G_[t]>0);t++)t===r-1&&(G_[r-1]=1);return G_.toString("hex",0,r)}}});var nv=a(jr=>{"use strict";var Fx=jr&&jr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rv=jr&&jr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Fx(e,r,t)};Object.defineProperty(jr,"__esModule",{value:!0});rv(Zb(),jr);rv(tv(),jr)});var q_=a($n=>{"use strict";var xx=$n&&$n.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Kx=$n&&$n.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&xx(e,r,t)};Object.defineProperty($n,"__esModule",{value:!0});Kx(nv(),$n)});var iv=a(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});V_.Tracer=void 0;var Ie=f(),j_=Se(),$x=wT(),Xx=XT(),Yx=q_(),zT=class{constructor(e,t,n){this._tracerProvider=n;let i=(0,Xx.mergeConfig)(t);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=t.idGenerator||new Yx.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=e}startSpan(e,t={},n=Ie.context.active()){var i,s;t.root&&(n=Ie.trace.deleteSpan(n));let o=Ie.trace.getSpan(n);if((0,j_.isTracingSuppressed)(n))return Ie.diag.debug("Instrumentation suppressed, returning Noop Span"),Ie.trace.wrapSpanContext(Ie.INVALID_SPAN_CONTEXT);let u=o==null?void 0:o.spanContext(),c=this._idGenerator.generateSpanId(),_,l,d;!u||!Ie.trace.isSpanContextValid(u)?_=this._idGenerator.generateTraceId():(_=u.traceId,l=u.traceState,d=u.spanId);let p=(i=t.kind)!==null&&i!==void 0?i:Ie.SpanKind.INTERNAL,E=((s=t.links)!==null&&s!==void 0?s:[]).map(V=>({context:V.context,attributes:(0,j_.sanitizeAttributes)(V.attributes)})),O=(0,j_.sanitizeAttributes)(t.attributes),R=this._sampler.shouldSample(n,_,e,p,O,E),C=R.decision===Ie.SamplingDecision.RECORD_AND_SAMPLED?Ie.TraceFlags.SAMPLED:Ie.TraceFlags.NONE,P={traceId:_,spanId:c,traceFlags:C,traceState:l};if(R.decision===Ie.SamplingDecision.NOT_RECORD)return Ie.diag.debug("Recording is off, propagating context in a non-recording span"),Ie.trace.wrapSpanContext(P);let ae=new $x.Span(this,n,e,P,p,d,E,t.startTime),b=(0,j_.sanitizeAttributes)(Object.assign(O,R.attributes));return ae.setAttributes(b),ae}startActiveSpan(e,t,n,i){let s,o,u;if(arguments.length<2)return;arguments.length===2?u=t:arguments.length===3?(s=t,u=n):(s=t,o=n,u=i);let c=o??Ie.context.active(),_=this.startSpan(e,s,c),l=Ie.trace.setSpan(c,_);return Ie.context.with(l,u,void 0,_)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};V_.Tracer=zT});var sv=a(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});H_.MultiSpanProcessor=void 0;var Wx=Se(),QT=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(n=>{(0,Wx.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,n)=>{Promise.all(e).then(()=>{t()},n)})}};H_.MultiSpanProcessor=QT});var JT=a(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});F_.NoopSpanProcessor=void 0;var ZT=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};F_.NoopSpanProcessor=ZT});var av=a(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.BasicTracerProvider=Xn.ForceFlushState=void 0;var is=f(),os=Se(),ov=g_(),kx=Ho(),zx=KT(),Qx=sv(),Zx=JT(),Jx=q_(),eK=XT(),ss;(function(r){r[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved"})(ss=Xn.ForceFlushState||(Xn.ForceFlushState={}));var Vo=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,os.merge)({},(0,zx.loadDefaultConfig)(),(0,eK.reconfigureLimits)(e));this.resource=(t=n.resource)!==null&&t!==void 0?t:ov.Resource.empty(),this.resource=ov.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let s=new Jx.BatchSpanProcessor(i);this.activeSpanProcessor=s}else this.activeSpanProcessor=new Zx.NoopSpanProcessor}getTracer(e,t,n){let i=`${e}@${t||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(i)||this._tracers.set(i,new kx.Tracer({name:e,version:t,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(t=>is.diag.error("Error while trying to shutdown current span processor",t)),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new Qx.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){is.trace.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&is.context.setGlobalContextManager(e.contextManager),e.propagator&&is.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(n=>new Promise(i=>{let s,o=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${e} ms`)),s=ss.timeout},e);n.forceFlush().then(()=>{clearTimeout(o),s!==ss.timeout&&(s=ss.resolved,i(s))}).catch(u=>{clearTimeout(o),s=ss.error,i(u)})}));return new Promise((n,i)=>{Promise.all(t).then(s=>{let o=s.filter(u=>u!==ss.resolved);o.length>0?i(o):n()}).catch(s=>i([s]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return(t=this.constructor._registeredPropagators.get(e))===null||t===void 0?void 0:t()}_getSpanExporter(e){var t;return(t=this.constructor._registeredExporters.get(e))===null||t===void 0?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set((0,os.getEnv)().OTEL_PROPAGATORS)),n=e.map(i=>{let s=this._getPropagator(i);return s||is.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),s}).reduce((i,s)=>(s&&i.push(s),i),[]);if(n.length!==0)return e.length===1?n[0]:new os.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let e=(0,os.getEnv)().OTEL_TRACES_EXPORTER;if(e==="none"||e==="")return;let t=this._getSpanExporter(e);return t||is.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};Xn.BasicTracerProvider=Vo;Vo._registeredPropagators=new Map([["tracecontext",()=>new os.W3CTraceContextPropagator],["baggage",()=>new os.W3CBaggagePropagator]]);Vo._registeredExporters=new Map});var uv=a(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.ConsoleSpanExporter=void 0;var eA=Se(),tA=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,eA.hrTimeToMicroseconds)(e.startTime),duration:(0,eA.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,t){for(let n of e)console.dir(this._exportInfo(n),{depth:3});if(t)return t({code:eA.ExportResultCode.SUCCESS})}};x_.ConsoleSpanExporter=tA});var _v=a(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.InMemorySpanExporter=void 0;var cv=Se(),rA=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:cv.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>t({code:cv.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};K_.InMemorySpanExporter=rA});var dv=a(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0})});var Ev=a($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});$_.SimpleSpanProcessor=void 0;var tK=f(),Fo=Se(),nA=class{constructor(e){this._exporter=e,this._shutdownOnce=new Fo.BindOnceFuture(this._shutdown,this)}forceFlush(){return Promise.resolve()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&tK.TraceFlags.SAMPLED&&Fo.internal._export(this._exporter,[e]).then(t=>{var n;t.code!==Fo.ExportResultCode.SUCCESS&&(0,Fo.globalErrorHandler)((n=t.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${t})`))}).catch(t=>{(0,Fo.globalErrorHandler)(t)})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};$_.SimpleSpanProcessor=nA});var fv=a(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0})});var Av=a(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0})});var hv=a(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0})});var Ov=a(gv=>{"use strict";Object.defineProperty(gv,"__esModule",{value:!0})});var Rv=a(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0})});var Ho=a(se=>{"use strict";var rK=se&&se.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),he=se&&se.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rK(e,r,t)};Object.defineProperty(se,"__esModule",{value:!0});he(iv(),se);he(av(),se);he(q_(),se);he(uv(),se);he(_v(),se);he(dv(),se);he(Ev(),se);he(fv(),se);he(JT(),se);he(I_(),se);he(v_(),se);he(jT(),se);he(HT(),se);he(jo(),se);he(wT(),se);he(Av(),se);he(hv(),se);he(Ov(),se);he(Rv(),se)});var xo=a(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.isTracingSuppressed=Vr.unsuppressTracing=Vr.suppressTracing=void 0;var nK=f(),iA=(0,nK.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function iK(r){return r.setValue(iA,!0)}Vr.suppressTracing=iK;function sK(r){return r.deleteValue(iA)}Vr.unsuppressTracing=sK;function oK(r){return r.getValue(iA)===!0}Vr.isTracingSuppressed=oK});var sA=a(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.BAGGAGE_MAX_TOTAL_LENGTH=Fe.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Fe.BAGGAGE_MAX_NAME_VALUE_PAIRS=Fe.BAGGAGE_HEADER=Fe.BAGGAGE_ITEMS_SEPARATOR=Fe.BAGGAGE_PROPERTIES_SEPARATOR=Fe.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Fe.BAGGAGE_KEY_PAIR_SEPARATOR="=";Fe.BAGGAGE_PROPERTIES_SEPARATOR=";";Fe.BAGGAGE_ITEMS_SEPARATOR=",";Fe.BAGGAGE_HEADER="baggage";Fe.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Fe.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Fe.BAGGAGE_MAX_TOTAL_LENGTH=8192});var oA=a(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.parseKeyPairsIntoRecord=Yt.parsePairKeyValue=Yt.getKeyPairs=Yt.serializeKeyPairs=void 0;var aK=f(),Yn=sA();function uK(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?Yn.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>Yn.BAGGAGE_MAX_TOTAL_LENGTH?e:n},"")}Yt.serializeKeyPairs=uK;function cK(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=Yn.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),n})}Yt.getKeyPairs=cK;function Pv(r){let e=r.split(Yn.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.split(Yn.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return e.length>0&&(o=(0,aK.baggageEntryMetadataFromString)(e.join(Yn.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}Yt.parsePairKeyValue=Pv;function _K(r){return typeof r!="string"||r.length===0?{}:r.split(Yn.BAGGAGE_ITEMS_SEPARATOR).map(e=>Pv(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}Yt.parseKeyPairsIntoRecord=_K});var Nv=a(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0});X_.W3CBaggagePropagator=void 0;var aA=f(),lK=xo(),Wn=sA(),uA=oA(),cA=class{inject(e,t,n){let i=aA.propagation.getBaggage(e);if(!i||(0,lK.isTracingSuppressed)(e))return;let s=(0,uA.getKeyPairs)(i).filter(u=>u.length<=Wn.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Wn.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,uA.serializeKeyPairs)(s);o.length>0&&n.set(t,Wn.BAGGAGE_HEADER,o)}extract(e,t,n){let i=n.get(t,Wn.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(Wn.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return e;let o={};return s.length===0||(s.split(Wn.BAGGAGE_ITEMS_SEPARATOR).forEach(c=>{let _=(0,uA.parsePairKeyValue)(c);if(_){let l={value:_.value};_.metadata&&(l.metadata=_.metadata),o[_.key]=l}}),Object.entries(o).length===0)?e:aA.propagation.setBaggage(e,aA.propagation.createBaggage(o))}fields(){return[Wn.BAGGAGE_HEADER]}};X_.W3CBaggagePropagator=cA});var Iv=a(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.AnchoredClock=void 0;var _A=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};Y_.AnchoredClock=_A});var yv=a(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.isAttributeValue=Hr.isAttributeKey=Hr.sanitizeAttributes=void 0;var bv=f();function dK(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!vv(t)){bv.diag.warn(`Invalid attribute key: ${t}`);continue}if(!Cv(n)){bv.diag.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}Hr.sanitizeAttributes=dK;function vv(r){return typeof r=="string"&&r.length>0}Hr.isAttributeKey=vv;function Cv(r){return r==null?!0:Array.isArray(r)?EK(r):Mv(r)}Hr.isAttributeValue=Cv;function EK(r){let e;for(let t of r)if(t!=null){if(!e){if(Mv(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function Mv(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}});var lA=a(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});W_.loggingErrorHandler=void 0;var pK=f();function fK(){return r=>{pK.diag.error(TK(r))}}W_.loggingErrorHandler=fK;function TK(r){return typeof r=="string"?r:JSON.stringify(AK(r))}function AK(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let i=t[n];i&&(e[n]=String(i))}),t=Object.getPrototypeOf(t);return e}});var dA=a(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.globalErrorHandler=as.setGlobalErrorHandler=void 0;var SK=lA(),Lv=(0,SK.loggingErrorHandler)();function hK(r){Lv=r}as.setGlobalErrorHandler=hK;function gK(r){try{Lv(r)}catch{}}as.globalErrorHandler=gK});var EA=a(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.TracesSamplerValues=void 0;var OK;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(OK=Ko.TracesSamplerValues||(Ko.TracesSamplerValues={}))});var Dv=a(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});k_._globalThis=void 0;k_._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var fA=a(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.getEnvWithoutDefaults=be.parseEnvironment=be.DEFAULT_ENVIRONMENT=be.DEFAULT_ATTRIBUTE_COUNT_LIMIT=be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Fr=f(),mK=EA(),RK=Dv(),PK=",",NK=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function IK(r){return NK.indexOf(r)>-1}var bK=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function vK(r){return bK.indexOf(r)>-1}be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;be.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;be.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Fr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:be.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:be.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"otlp",OTEL_TRACES_SAMPLER:mK.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function CK(r,e,t,n=-1/0,i=1/0){if(typeof t[r]<"u"){let s=Number(t[r]);isNaN(s)||(s<n?e[r]=n:s>i?e[r]=i:e[r]=s)}}function MK(r,e,t,n=PK){let i=t[r];typeof i=="string"&&(e[r]=i.split(n).map(s=>s.trim()))}var yK={ALL:Fr.DiagLogLevel.ALL,VERBOSE:Fr.DiagLogLevel.VERBOSE,DEBUG:Fr.DiagLogLevel.DEBUG,INFO:Fr.DiagLogLevel.INFO,WARN:Fr.DiagLogLevel.WARN,ERROR:Fr.DiagLogLevel.ERROR,NONE:Fr.DiagLogLevel.NONE};function LK(r,e,t){let n=t[r];if(typeof n=="string"){let i=yK[n.toUpperCase()];i!=null&&(e[r]=i)}}function pA(r){let e={};for(let t in be.DEFAULT_ENVIRONMENT){let n=t;switch(n){case"OTEL_LOG_LEVEL":LK(n,e,r);break;default:if(IK(n))CK(n,e,r);else if(vK(n))MK(n,e,r);else{let i=r[n];typeof i<"u"&&i!==null&&(e[n]=String(i))}}}return e}be.parseEnvironment=pA;function DK(){return pA(typeof process<"u"?process.env:RK._globalThis)}be.getEnvWithoutDefaults=DK});var Uv=a(z_=>{"use strict";Object.defineProperty(z_,"__esModule",{value:!0});z_.getEnv=void 0;var wK=require("os"),wv=fA();function UK(){let r=(0,wv.parseEnvironment)(process.env);return Object.assign({HOSTNAME:wK.hostname()},wv.DEFAULT_ENVIRONMENT,r)}z_.getEnv=UK});var Gv=a(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});Q_._globalThis=void 0;Q_._globalThis=typeof globalThis=="object"?globalThis:global});var qv=a(Z_=>{"use strict";Object.defineProperty(Z_,"__esModule",{value:!0});Z_.hexToBase64=void 0;function Bv(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}var GK=Buffer.alloc(8),BK=Buffer.alloc(16);function qK(r){let e;r.length===16?e=GK:r.length===32?e=BK:e=Buffer.alloc(r.length/2);let t=0;for(let n=0;n<r.length;n+=2){let i=Bv(r.charCodeAt(n)),s=Bv(r.charCodeAt(n+1));e.writeUInt8(i<<4|s,t++)}return e.toString("base64")}Z_.hexToBase64=qK});var Hv=a(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.RandomIdGenerator=void 0;var jK=8,Vv=16,TA=class{constructor(){this.generateTraceId=jv(Vv),this.generateSpanId=jv(jK)}};el.RandomIdGenerator=TA;var J_=Buffer.allocUnsafe(Vv);function jv(r){return function(){for(let t=0;t<r/4;t++)J_.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(J_[t]>0);t++)t===r-1&&(J_[r-1]=1);return J_.toString("hex",0,r)}}});var Fv=a(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.otperformance=void 0;var VK=require("perf_hooks");tl.otperformance=VK.performance});var nl=a(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.VERSION=void 0;rl.VERSION="1.8.0"});var xv=a(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.SDK_INFO=void 0;var HK=nl(),$o=ge();il.SDK_INFO={[$o.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[$o.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[$o.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:$o.TelemetrySdkLanguageValues.NODEJS,[$o.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:HK.VERSION}});var Kv=a(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.unrefTimer=void 0;function FK(r){r.unref()}sl.unrefTimer=FK});var $v=a(dt=>{"use strict";var xK=dt&&dt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kn=dt&&dt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&xK(e,r,t)};Object.defineProperty(dt,"__esModule",{value:!0});kn(Uv(),dt);kn(Gv(),dt);kn(qv(),dt);kn(Hv(),dt);kn(Fv(),dt);kn(xv(),dt);kn(Kv(),dt)});var AA=a(zn=>{"use strict";var KK=zn&&zn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$K=zn&&zn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&KK(e,r,t)};Object.defineProperty(zn,"__esModule",{value:!0});$K($v(),zn)});var Wv=a(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.isTimeInput=Ee.isTimeInputHrTime=Ee.hrTimeToMicroseconds=Ee.hrTimeToMilliseconds=Ee.hrTimeToNanoseconds=Ee.hrTimeToTimeStamp=Ee.hrTimeDuration=Ee.timeInputToHrTime=Ee.hrTime=void 0;var SA=AA(),hA=9,Xo=Math.pow(10,hA);function ol(r){let e=r/1e3,t=Math.trunc(e),n=Number((e-t).toFixed(hA))*Xo;return[t,n]}function Xv(){let r=SA.otperformance.timeOrigin;if(typeof r!="number"){let e=SA.otperformance;r=e.timing&&e.timing.fetchStart}return r}function Yv(r){let e=ol(Xv()),t=ol(typeof r=="number"?r:SA.otperformance.now()),n=e[0]+t[0],i=e[1]+t[1];return i>Xo&&(i-=Xo,n+=1),[n,i]}Ee.hrTime=Yv;function XK(r){if(gA(r))return r;if(typeof r=="number")return r<Xv()?Yv(r):ol(r);if(r instanceof Date)return ol(r.getTime());throw TypeError("Invalid input type")}Ee.timeInputToHrTime=XK;function YK(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=Xo),[t,n]}Ee.hrTimeDuration=YK;function WK(r){let e=hA,t=`${"0".repeat(e)}${r[1]}Z`,n=t.substr(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",n)}Ee.hrTimeToTimeStamp=WK;function kK(r){return r[0]*Xo+r[1]}Ee.hrTimeToNanoseconds=kK;function zK(r){return Math.round(r[0]*1e3+r[1]/1e6)}Ee.hrTimeToMilliseconds=zK;function QK(r){return Math.round(r[0]*1e6+r[1]/1e3)}Ee.hrTimeToMicroseconds=QK;function gA(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}Ee.isTimeInputHrTime=gA;function ZK(r){return gA(r)||typeof r=="number"||r instanceof Date}Ee.isTimeInput=ZK});var zv=a(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0})});var Qv=a(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.ExportResultCode=void 0;var JK;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(JK=Yo.ExportResultCode||(Yo.ExportResultCode={}))});var Jv=a(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.CompositePropagator=void 0;var Zv=f(),OA=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(e,t,n){for(let i of this._propagators)try{i.inject(e,t,n)}catch(s){Zv.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(e,t,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,t,n)}catch(o){Zv.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},e)}fields(){return this._fields.slice()}};al.CompositePropagator=OA});var eC=a(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.validateValue=us.validateKey=void 0;var mA="[_0-9a-z-*/]",e$=`[a-z]${mA}{0,255}`,t$=`[a-z0-9]${mA}{0,240}@[a-z]${mA}{0,13}`,r$=new RegExp(`^(?:${e$}|${t$})$`),n$=/^[ -~]{0,255}[!-~]$/,i$=/,|=/;function s$(r){return r$.test(r)}us.validateKey=s$;function o$(r){return n$.test(r)&&!i$.test(r)}us.validateValue=o$});var RA=a(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.TraceState=void 0;var tC=eC(),rC=32,a$=512,nC=",",iC="=",Wo=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+iC+this.get(t)),e),[]).join(nC)}_parse(e){e.length>a$||(this._internalState=e.split(nC).reverse().reduce((t,n)=>{let i=n.trim(),s=i.indexOf(iC);if(s!==-1){let o=i.slice(0,s),u=i.slice(s+1,n.length);(0,tC.validateKey)(o)&&(0,tC.validateValue)(u)&&t.set(o,u)}return t},new Map),this._internalState.size>rC&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,rC))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new Wo;return e._internalState=new Map(this._internalState),e}};ul.TraceState=Wo});var oC=a(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.W3CTraceContextPropagator=xe.parseTraceParent=xe.TRACE_STATE_HEADER=xe.TRACE_PARENT_HEADER=void 0;var cl=f(),u$=xo(),c$=RA();xe.TRACE_PARENT_HEADER="traceparent";xe.TRACE_STATE_HEADER="tracestate";var _$="00",l$="(?!ff)[\\da-f]{2}",d$="(?![0]{32})[\\da-f]{32}",E$="(?![0]{16})[\\da-f]{16}",p$="[\\da-f]{2}",f$=new RegExp(`^\\s?(${l$})-(${d$})-(${E$})-(${p$})(-.*)?\\s?$`);function sC(r){let e=f$.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}xe.parseTraceParent=sC;var PA=class{inject(e,t,n){let i=cl.trace.getSpanContext(e);if(!i||(0,u$.isTracingSuppressed)(e)||!(0,cl.isSpanContextValid)(i))return;let s=`${_$}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||cl.TraceFlags.NONE).toString(16)}`;n.set(t,xe.TRACE_PARENT_HEADER,s),i.traceState&&n.set(t,xe.TRACE_STATE_HEADER,i.traceState.serialize())}extract(e,t,n){let i=n.get(t,xe.TRACE_PARENT_HEADER);if(!i)return e;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;let o=sC(s);if(!o)return e;o.isRemote=!0;let u=n.get(t,xe.TRACE_STATE_HEADER);if(u){let c=Array.isArray(u)?u.join(","):u;o.traceState=new c$.TraceState(typeof c=="string"?c:void 0)}return cl.trace.setSpanContext(e,o)}fields(){return[xe.TRACE_PARENT_HEADER,xe.TRACE_STATE_HEADER]}};xe.W3CTraceContextPropagator=PA});var uC=a(aC=>{"use strict";Object.defineProperty(aC,"__esModule",{value:!0})});var cC=a(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.getRPCMetadata=Lt.deleteRPCMetadata=Lt.setRPCMetadata=Lt.RPCType=void 0;var T$=f(),NA=(0,T$.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),A$;(function(r){r.HTTP="http"})(A$=Lt.RPCType||(Lt.RPCType={}));function S$(r,e){return r.setValue(NA,e)}Lt.setRPCMetadata=S$;function h$(r){return r.deleteValue(NA)}Lt.deleteRPCMetadata=h$;function g$(r){return r.getValue(NA)}Lt.getRPCMetadata=g$});var bA=a(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.AlwaysOffSampler=void 0;var O$=f(),IA=class{shouldSample(){return{decision:O$.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};_l.AlwaysOffSampler=IA});var CA=a(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.AlwaysOnSampler=void 0;var m$=f(),vA=class{shouldSample(){return{decision:m$.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};ll.AlwaysOnSampler=vA});var lC=a(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.ParentBasedSampler=void 0;var dl=f(),R$=dA(),_C=bA(),MA=CA(),yA=class{constructor(e){var t,n,i,s;this._root=e.root,this._root||((0,R$.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new MA.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new MA.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new _C.AlwaysOffSampler,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new MA.AlwaysOnSampler,this._localParentNotSampled=(s=e.localParentNotSampled)!==null&&s!==void 0?s:new _C.AlwaysOffSampler}shouldSample(e,t,n,i,s,o){let u=dl.trace.getSpanContext(e);return!u||!(0,dl.isSpanContextValid)(u)?this._root.shouldSample(e,t,n,i,s,o):u.isRemote?u.traceFlags&dl.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,s,o):this._remoteParentNotSampled.shouldSample(e,t,n,i,s,o):u.traceFlags&dl.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,s,o):this._localParentNotSampled.shouldSample(e,t,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};El.ParentBasedSampler=yA});var dC=a(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.TraceIdRatioBasedSampler=void 0;var LA=f(),DA=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,LA.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?LA.SamplingDecision.RECORD_AND_SAMPLED:LA.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=n*8,s=parseInt(e.slice(i,i+8),16);t=(t^s)>>>0}return t}};pl.TraceIdRatioBasedSampler=DA});var AC=a(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.isPlainObject=void 0;var P$="[object Object]",N$="[object Null]",I$="[object Undefined]",b$=Function.prototype,EC=b$.toString,v$=EC.call(Object),C$=M$(Object.getPrototypeOf,Object),pC=Object.prototype,fC=pC.hasOwnProperty,Qn=Symbol?Symbol.toStringTag:void 0,TC=pC.toString;function M$(r,e){return function(t){return r(e(t))}}function y$(r){if(!L$(r)||D$(r)!==P$)return!1;let e=C$(r);if(e===null)return!0;let t=fC.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&EC.call(t)===v$}fl.isPlainObject=y$;function L$(r){return r!=null&&typeof r=="object"}function D$(r){return r==null?r===void 0?I$:N$:Qn&&Qn in Object(r)?w$(r):U$(r)}function w$(r){let e=fC.call(r,Qn),t=r[Qn],n=!1;try{r[Qn]=void 0,n=!0}catch{}let i=TC.call(r);return n&&(e?r[Qn]=t:delete r[Qn]),i}function U$(r){return TC.call(r)}});var mC=a(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.merge=void 0;var SC=AC(),G$=20;function B$(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=gC(e,r.shift(),0,t);return e}Sl.merge=B$;function wA(r){return Al(r)?r.slice():r}function gC(r,e,t=0,n){let i;if(!(t>G$)){if(t++,Tl(r)||Tl(e)||OC(e))i=wA(e);else if(Al(r)){if(i=r.slice(),Al(e))for(let s=0,o=e.length;s<o;s++)i.push(wA(e[s]));else if(ko(e)){let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o];i[c]=wA(e[c])}}}else if(ko(r))if(ko(e)){if(!q$(r,e))return e;i=Object.assign({},r);let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o],_=e[c];if(Tl(_))typeof _>"u"?delete i[c]:i[c]=_;else{let l=i[c],d=_;if(hC(r,c,n)||hC(e,c,n))delete i[c];else{if(ko(l)&&ko(d)){let p=n.get(l)||[],E=n.get(d)||[];p.push({obj:r,key:c}),E.push({obj:e,key:c}),n.set(l,p),n.set(d,E)}i[c]=gC(i[c],_,t,n)}}}}else i=e;return i}}function hC(r,e,t){let n=t.get(r[e])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===e&&o.obj===r)return!0}return!1}function Al(r){return Array.isArray(r)}function OC(r){return typeof r=="function"}function ko(r){return!Tl(r)&&!Al(r)&&!OC(r)&&typeof r=="object"}function Tl(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function q$(r,e){return!(!(0,SC.isPlainObject)(r)||!(0,SC.isPlainObject)(e))}});var PC=a(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.isUrlIgnored=cs.urlMatches=void 0;function RC(r,e){return typeof e=="string"?r===e:!!r.match(e)}cs.urlMatches=RC;function j$(r,e){if(!e)return!1;for(let t of e)if(RC(r,t))return!0;return!1}cs.isUrlIgnored=j$});var NC=a(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.isWrapped=void 0;function V$(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}hl.isWrapped=V$});var IC=a(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.Deferred=void 0;var UA=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};gl.Deferred=UA});var bC=a(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.BindOnceFuture=void 0;var H$=IC(),GA=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new H$.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};Ol.BindOnceFuture=GA});var CC=a(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml._export=void 0;var vC=f(),F$=xo();function x$(r,e){return new Promise(t=>{vC.context.with((0,F$.suppressTracing)(vC.context.active()),()=>{r.export(e,n=>{t(n)})})})}ml._export=x$});var Et=a(G=>{"use strict";var K$=G&&G.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Q=G&&G.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&K$(e,r,t)};Object.defineProperty(G,"__esModule",{value:!0});G.internal=G.baggageUtils=void 0;Q(Nv(),G);Q(Iv(),G);Q(yv(),G);Q(dA(),G);Q(lA(),G);Q(Wv(),G);Q(zv(),G);Q(Qv(),G);Q(nl(),G);G.baggageUtils=oA();Q(AA(),G);Q(Jv(),G);Q(oC(),G);Q(uC(),G);Q(cC(),G);Q(bA(),G);Q(CA(),G);Q(lC(),G);Q(dC(),G);Q(xo(),G);Q(RA(),G);Q(fA(),G);Q(mC(),G);Q(EA(),G);Q(PC(),G);Q(NC(),G);Q(bC(),G);Q(nl(),G);var $$=CC();G.internal={_export:$$._export}});var zo=a(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.isTracingSuppressed=xr.unsuppressTracing=xr.suppressTracing=void 0;var X$=f(),BA=(0,X$.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Y$(r){return r.setValue(BA,!0)}xr.suppressTracing=Y$;function W$(r){return r.deleteValue(BA)}xr.unsuppressTracing=W$;function k$(r){return r.getValue(BA)===!0}xr.isTracingSuppressed=k$});var qA=a(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.BAGGAGE_MAX_TOTAL_LENGTH=Ke.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Ke.BAGGAGE_MAX_NAME_VALUE_PAIRS=Ke.BAGGAGE_HEADER=Ke.BAGGAGE_ITEMS_SEPARATOR=Ke.BAGGAGE_PROPERTIES_SEPARATOR=Ke.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Ke.BAGGAGE_KEY_PAIR_SEPARATOR="=";Ke.BAGGAGE_PROPERTIES_SEPARATOR=";";Ke.BAGGAGE_ITEMS_SEPARATOR=",";Ke.BAGGAGE_HEADER="baggage";Ke.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Ke.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Ke.BAGGAGE_MAX_TOTAL_LENGTH=8192});var jA=a(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.parseKeyPairsIntoRecord=Wt.parsePairKeyValue=Wt.getKeyPairs=Wt.serializeKeyPairs=void 0;var z$=f(),Zn=qA();function Q$(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?Zn.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>Zn.BAGGAGE_MAX_TOTAL_LENGTH?e:n},"")}Wt.serializeKeyPairs=Q$;function Z$(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=Zn.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),n})}Wt.getKeyPairs=Z$;function MC(r){let e=r.split(Zn.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.split(Zn.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return e.length>0&&(o=(0,z$.baggageEntryMetadataFromString)(e.join(Zn.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}Wt.parsePairKeyValue=MC;function J$(r){return typeof r!="string"||r.length===0?{}:r.split(Zn.BAGGAGE_ITEMS_SEPARATOR).map(e=>MC(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}Wt.parseKeyPairsIntoRecord=J$});var yC=a(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.W3CBaggagePropagator=void 0;var VA=f(),eX=zo(),Jn=qA(),HA=jA(),FA=class{inject(e,t,n){let i=VA.propagation.getBaggage(e);if(!i||(0,eX.isTracingSuppressed)(e))return;let s=(0,HA.getKeyPairs)(i).filter(u=>u.length<=Jn.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Jn.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,HA.serializeKeyPairs)(s);o.length>0&&n.set(t,Jn.BAGGAGE_HEADER,o)}extract(e,t,n){let i=n.get(t,Jn.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(Jn.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return e;let o={};return s.length===0||(s.split(Jn.BAGGAGE_ITEMS_SEPARATOR).forEach(c=>{let _=(0,HA.parsePairKeyValue)(c);if(_){let l={value:_.value};_.metadata&&(l.metadata=_.metadata),o[_.key]=l}}),Object.entries(o).length===0)?e:VA.propagation.setBaggage(e,VA.propagation.createBaggage(o))}fields(){return[Jn.BAGGAGE_HEADER]}};Rl.W3CBaggagePropagator=FA});var LC=a(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.AnchoredClock=void 0;var xA=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};Pl.AnchoredClock=xA});var BC=a(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.isAttributeValue=Kr.isAttributeKey=Kr.sanitizeAttributes=void 0;var DC=f();function tX(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!wC(t)){DC.diag.warn(`Invalid attribute key: ${t}`);continue}if(!UC(n)){DC.diag.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}Kr.sanitizeAttributes=tX;function wC(r){return typeof r=="string"&&r.length>0}Kr.isAttributeKey=wC;function UC(r){return r==null?!0:Array.isArray(r)?rX(r):GC(r)}Kr.isAttributeValue=UC;function rX(r){let e;for(let t of r)if(t!=null){if(!e){if(GC(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function GC(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}});var KA=a(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.loggingErrorHandler=void 0;var nX=f();function iX(){return r=>{nX.diag.error(sX(r))}}Nl.loggingErrorHandler=iX;function sX(r){return typeof r=="string"?r:JSON.stringify(oX(r))}function oX(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let i=t[n];i&&(e[n]=String(i))}),t=Object.getPrototypeOf(t);return e}});var $A=a(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.globalErrorHandler=_s.setGlobalErrorHandler=void 0;var aX=KA(),qC=(0,aX.loggingErrorHandler)();function uX(r){qC=r}_s.setGlobalErrorHandler=uX;function cX(r){try{qC(r)}catch{}}_s.globalErrorHandler=cX});var XA=a(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.TracesSamplerValues=void 0;var _X;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(_X=Qo.TracesSamplerValues||(Qo.TracesSamplerValues={}))});var jC=a(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il._globalThis=void 0;Il._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var WA=a(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.getEnvWithoutDefaults=ve.parseEnvironment=ve.DEFAULT_ENVIRONMENT=ve.DEFAULT_ATTRIBUTE_COUNT_LIMIT=ve.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var $r=f(),lX=XA(),dX=jC(),EX=",",pX=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function fX(r){return pX.indexOf(r)>-1}var TX=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function AX(r){return TX.indexOf(r)>-1}ve.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;ve.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;ve.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:$r.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:ve.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:ve.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:ve.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:ve.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"otlp",OTEL_TRACES_SAMPLER:lX.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function SX(r,e,t,n=-1/0,i=1/0){if(typeof t[r]<"u"){let s=Number(t[r]);isNaN(s)||(s<n?e[r]=n:s>i?e[r]=i:e[r]=s)}}function hX(r,e,t,n=EX){let i=t[r];typeof i=="string"&&(e[r]=i.split(n).map(s=>s.trim()))}var gX={ALL:$r.DiagLogLevel.ALL,VERBOSE:$r.DiagLogLevel.VERBOSE,DEBUG:$r.DiagLogLevel.DEBUG,INFO:$r.DiagLogLevel.INFO,WARN:$r.DiagLogLevel.WARN,ERROR:$r.DiagLogLevel.ERROR,NONE:$r.DiagLogLevel.NONE};function OX(r,e,t){let n=t[r];if(typeof n=="string"){let i=gX[n.toUpperCase()];i!=null&&(e[r]=i)}}function YA(r){let e={};for(let t in ve.DEFAULT_ENVIRONMENT){let n=t;switch(n){case"OTEL_LOG_LEVEL":OX(n,e,r);break;default:if(fX(n))SX(n,e,r);else if(AX(n))hX(n,e,r);else{let i=r[n];typeof i<"u"&&i!==null&&(e[n]=String(i))}}}return e}ve.parseEnvironment=YA;function mX(){return YA(typeof process<"u"?process.env:dX._globalThis)}ve.getEnvWithoutDefaults=mX});var HC=a(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.getEnv=void 0;var RX=require("os"),VC=WA();function PX(){let r=(0,VC.parseEnvironment)(process.env);return Object.assign({HOSTNAME:RX.hostname()},VC.DEFAULT_ENVIRONMENT,r)}bl.getEnv=PX});var FC=a(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl._globalThis=void 0;vl._globalThis=typeof globalThis=="object"?globalThis:global});var KC=a(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.hexToBase64=void 0;function xC(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}var NX=Buffer.alloc(8),IX=Buffer.alloc(16);function bX(r){let e;r.length===16?e=NX:r.length===32?e=IX:e=Buffer.alloc(r.length/2);let t=0;for(let n=0;n<r.length;n+=2){let i=xC(r.charCodeAt(n)),s=xC(r.charCodeAt(n+1));e.writeUInt8(i<<4|s,t++)}return e.toString("base64")}Cl.hexToBase64=bX});var YC=a(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.RandomIdGenerator=void 0;var vX=8,XC=16,kA=class{constructor(){this.generateTraceId=$C(XC),this.generateSpanId=$C(vX)}};yl.RandomIdGenerator=kA;var Ml=Buffer.allocUnsafe(XC);function $C(r){return function(){for(let t=0;t<r/4;t++)Ml.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(Ml[t]>0);t++)t===r-1&&(Ml[r-1]=1);return Ml.toString("hex",0,r)}}});var WC=a(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.otperformance=void 0;var CX=require("perf_hooks");Ll.otperformance=CX.performance});var wl=a(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.VERSION=void 0;Dl.VERSION="1.8.0"});var kC=a(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.SDK_INFO=void 0;var MX=wl(),Zo=ge();Ul.SDK_INFO={[Zo.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[Zo.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[Zo.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Zo.TelemetrySdkLanguageValues.NODEJS,[Zo.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:MX.VERSION}});var zC=a(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.unrefTimer=void 0;function yX(r){r.unref()}Gl.unrefTimer=yX});var QC=a(pt=>{"use strict";var LX=pt&&pt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ei=pt&&pt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&LX(e,r,t)};Object.defineProperty(pt,"__esModule",{value:!0});ei(HC(),pt);ei(FC(),pt);ei(KC(),pt);ei(YC(),pt);ei(WC(),pt);ei(kC(),pt);ei(zC(),pt)});var zA=a(ti=>{"use strict";var DX=ti&&ti.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wX=ti&&ti.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&DX(e,r,t)};Object.defineProperty(ti,"__esModule",{value:!0});wX(QC(),ti)});var eM=a(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.isTimeInput=pe.isTimeInputHrTime=pe.hrTimeToMicroseconds=pe.hrTimeToMilliseconds=pe.hrTimeToNanoseconds=pe.hrTimeToTimeStamp=pe.hrTimeDuration=pe.timeInputToHrTime=pe.hrTime=void 0;var QA=zA(),ZA=9,Jo=Math.pow(10,ZA);function Bl(r){let e=r/1e3,t=Math.trunc(e),n=Number((e-t).toFixed(ZA))*Jo;return[t,n]}function ZC(){let r=QA.otperformance.timeOrigin;if(typeof r!="number"){let e=QA.otperformance;r=e.timing&&e.timing.fetchStart}return r}function JC(r){let e=Bl(ZC()),t=Bl(typeof r=="number"?r:QA.otperformance.now()),n=e[0]+t[0],i=e[1]+t[1];return i>Jo&&(i-=Jo,n+=1),[n,i]}pe.hrTime=JC;function UX(r){if(JA(r))return r;if(typeof r=="number")return r<ZC()?JC(r):Bl(r);if(r instanceof Date)return Bl(r.getTime());throw TypeError("Invalid input type")}pe.timeInputToHrTime=UX;function GX(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=Jo),[t,n]}pe.hrTimeDuration=GX;function BX(r){let e=ZA,t=`${"0".repeat(e)}${r[1]}Z`,n=t.substr(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",n)}pe.hrTimeToTimeStamp=BX;function qX(r){return r[0]*Jo+r[1]}pe.hrTimeToNanoseconds=qX;function jX(r){return Math.round(r[0]*1e3+r[1]/1e6)}pe.hrTimeToMilliseconds=jX;function VX(r){return Math.round(r[0]*1e6+r[1]/1e3)}pe.hrTimeToMicroseconds=VX;function JA(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}pe.isTimeInputHrTime=JA;function HX(r){return JA(r)||typeof r=="number"||r instanceof Date}pe.isTimeInput=HX});var rM=a(tM=>{"use strict";Object.defineProperty(tM,"__esModule",{value:!0})});var nM=a(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.ExportResultCode=void 0;var FX;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(FX=ea.ExportResultCode||(ea.ExportResultCode={}))});var sM=a(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.CompositePropagator=void 0;var iM=f(),eS=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(e,t,n){for(let i of this._propagators)try{i.inject(e,t,n)}catch(s){iM.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(e,t,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,t,n)}catch(o){iM.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},e)}fields(){return this._fields.slice()}};ql.CompositePropagator=eS});var oM=a(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.validateValue=ls.validateKey=void 0;var tS="[_0-9a-z-*/]",xX=`[a-z]${tS}{0,255}`,KX=`[a-z0-9]${tS}{0,240}@[a-z]${tS}{0,13}`,$X=new RegExp(`^(?:${xX}|${KX})$`),XX=/^[ -~]{0,255}[!-~]$/,YX=/,|=/;function WX(r){return $X.test(r)}ls.validateKey=WX;function kX(r){return XX.test(r)&&!YX.test(r)}ls.validateValue=kX});var rS=a(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.TraceState=void 0;var aM=oM(),uM=32,zX=512,cM=",",_M="=",ta=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+_M+this.get(t)),e),[]).join(cM)}_parse(e){e.length>zX||(this._internalState=e.split(cM).reverse().reduce((t,n)=>{let i=n.trim(),s=i.indexOf(_M);if(s!==-1){let o=i.slice(0,s),u=i.slice(s+1,n.length);(0,aM.validateKey)(o)&&(0,aM.validateValue)(u)&&t.set(o,u)}return t},new Map),this._internalState.size>uM&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,uM))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new ta;return e._internalState=new Map(this._internalState),e}};jl.TraceState=ta});var dM=a($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.W3CTraceContextPropagator=$e.parseTraceParent=$e.TRACE_STATE_HEADER=$e.TRACE_PARENT_HEADER=void 0;var Vl=f(),QX=zo(),ZX=rS();$e.TRACE_PARENT_HEADER="traceparent";$e.TRACE_STATE_HEADER="tracestate";var JX="00",eY="(?!ff)[\\da-f]{2}",tY="(?![0]{32})[\\da-f]{32}",rY="(?![0]{16})[\\da-f]{16}",nY="[\\da-f]{2}",iY=new RegExp(`^\\s?(${eY})-(${tY})-(${rY})-(${nY})(-.*)?\\s?$`);function lM(r){let e=iY.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}$e.parseTraceParent=lM;var nS=class{inject(e,t,n){let i=Vl.trace.getSpanContext(e);if(!i||(0,QX.isTracingSuppressed)(e)||!(0,Vl.isSpanContextValid)(i))return;let s=`${JX}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||Vl.TraceFlags.NONE).toString(16)}`;n.set(t,$e.TRACE_PARENT_HEADER,s),i.traceState&&n.set(t,$e.TRACE_STATE_HEADER,i.traceState.serialize())}extract(e,t,n){let i=n.get(t,$e.TRACE_PARENT_HEADER);if(!i)return e;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;let o=lM(s);if(!o)return e;o.isRemote=!0;let u=n.get(t,$e.TRACE_STATE_HEADER);if(u){let c=Array.isArray(u)?u.join(","):u;o.traceState=new ZX.TraceState(typeof c=="string"?c:void 0)}return Vl.trace.setSpanContext(e,o)}fields(){return[$e.TRACE_PARENT_HEADER,$e.TRACE_STATE_HEADER]}};$e.W3CTraceContextPropagator=nS});var pM=a(EM=>{"use strict";Object.defineProperty(EM,"__esModule",{value:!0})});var fM=a(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.getRPCMetadata=Dt.deleteRPCMetadata=Dt.setRPCMetadata=Dt.RPCType=void 0;var sY=f(),iS=(0,sY.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),oY;(function(r){r.HTTP="http"})(oY=Dt.RPCType||(Dt.RPCType={}));function aY(r,e){return r.setValue(iS,e)}Dt.setRPCMetadata=aY;function uY(r){return r.deleteValue(iS)}Dt.deleteRPCMetadata=uY;function cY(r){return r.getValue(iS)}Dt.getRPCMetadata=cY});var oS=a(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.AlwaysOffSampler=void 0;var _Y=f(),sS=class{shouldSample(){return{decision:_Y.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Hl.AlwaysOffSampler=sS});var uS=a(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.AlwaysOnSampler=void 0;var lY=f(),aS=class{shouldSample(){return{decision:lY.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Fl.AlwaysOnSampler=aS});var AM=a(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.ParentBasedSampler=void 0;var xl=f(),dY=$A(),TM=oS(),cS=uS(),_S=class{constructor(e){var t,n,i,s;this._root=e.root,this._root||((0,dY.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new cS.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new cS.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new TM.AlwaysOffSampler,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new cS.AlwaysOnSampler,this._localParentNotSampled=(s=e.localParentNotSampled)!==null&&s!==void 0?s:new TM.AlwaysOffSampler}shouldSample(e,t,n,i,s,o){let u=xl.trace.getSpanContext(e);return!u||!(0,xl.isSpanContextValid)(u)?this._root.shouldSample(e,t,n,i,s,o):u.isRemote?u.traceFlags&xl.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,s,o):this._remoteParentNotSampled.shouldSample(e,t,n,i,s,o):u.traceFlags&xl.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,s,o):this._localParentNotSampled.shouldSample(e,t,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Kl.ParentBasedSampler=_S});var SM=a($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.TraceIdRatioBasedSampler=void 0;var lS=f(),dS=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,lS.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?lS.SamplingDecision.RECORD_AND_SAMPLED:lS.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=n*8,s=parseInt(e.slice(i,i+8),16);t=(t^s)>>>0}return t}};$l.TraceIdRatioBasedSampler=dS});var RM=a(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.isPlainObject=void 0;var EY="[object Object]",pY="[object Null]",fY="[object Undefined]",TY=Function.prototype,hM=TY.toString,AY=hM.call(Object),SY=hY(Object.getPrototypeOf,Object),gM=Object.prototype,OM=gM.hasOwnProperty,ri=Symbol?Symbol.toStringTag:void 0,mM=gM.toString;function hY(r,e){return function(t){return r(e(t))}}function gY(r){if(!OY(r)||mY(r)!==EY)return!1;let e=SY(r);if(e===null)return!0;let t=OM.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&hM.call(t)===AY}Xl.isPlainObject=gY;function OY(r){return r!=null&&typeof r=="object"}function mY(r){return r==null?r===void 0?fY:pY:ri&&ri in Object(r)?RY(r):PY(r)}function RY(r){let e=OM.call(r,ri),t=r[ri],n=!1;try{r[ri]=void 0,n=!0}catch{}let i=mM.call(r);return n&&(e?r[ri]=t:delete r[ri]),i}function PY(r){return mM.call(r)}});var vM=a(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.merge=void 0;var PM=RM(),NY=20;function IY(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=IM(e,r.shift(),0,t);return e}kl.merge=IY;function ES(r){return Wl(r)?r.slice():r}function IM(r,e,t=0,n){let i;if(!(t>NY)){if(t++,Yl(r)||Yl(e)||bM(e))i=ES(e);else if(Wl(r)){if(i=r.slice(),Wl(e))for(let s=0,o=e.length;s<o;s++)i.push(ES(e[s]));else if(ra(e)){let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o];i[c]=ES(e[c])}}}else if(ra(r))if(ra(e)){if(!bY(r,e))return e;i=Object.assign({},r);let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o],_=e[c];if(Yl(_))typeof _>"u"?delete i[c]:i[c]=_;else{let l=i[c],d=_;if(NM(r,c,n)||NM(e,c,n))delete i[c];else{if(ra(l)&&ra(d)){let p=n.get(l)||[],E=n.get(d)||[];p.push({obj:r,key:c}),E.push({obj:e,key:c}),n.set(l,p),n.set(d,E)}i[c]=IM(i[c],_,t,n)}}}}else i=e;return i}}function NM(r,e,t){let n=t.get(r[e])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===e&&o.obj===r)return!0}return!1}function Wl(r){return Array.isArray(r)}function bM(r){return typeof r=="function"}function ra(r){return!Yl(r)&&!Wl(r)&&!bM(r)&&typeof r=="object"}function Yl(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function bY(r,e){return!(!(0,PM.isPlainObject)(r)||!(0,PM.isPlainObject)(e))}});var MM=a(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.isUrlIgnored=ds.urlMatches=void 0;function CM(r,e){return typeof e=="string"?r===e:!!r.match(e)}ds.urlMatches=CM;function vY(r,e){if(!e)return!1;for(let t of e)if(CM(r,t))return!0;return!1}ds.isUrlIgnored=vY});var yM=a(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.isWrapped=void 0;function CY(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}zl.isWrapped=CY});var LM=a(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.Deferred=void 0;var pS=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};Ql.Deferred=pS});var DM=a(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.BindOnceFuture=void 0;var MY=LM(),fS=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new MY.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};Zl.BindOnceFuture=fS});var UM=a(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl._export=void 0;var wM=f(),yY=zo();function LY(r,e){return new Promise(t=>{wM.context.with((0,yY.suppressTracing)(wM.context.active()),()=>{r.export(e,n=>{t(n)})})})}Jl._export=LY});var Es=a(B=>{"use strict";var DY=B&&B.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Z=B&&B.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&DY(e,r,t)};Object.defineProperty(B,"__esModule",{value:!0});B.internal=B.baggageUtils=void 0;Z(yC(),B);Z(LC(),B);Z(BC(),B);Z($A(),B);Z(KA(),B);Z(eM(),B);Z(rM(),B);Z(nM(),B);Z(wl(),B);B.baggageUtils=jA();Z(zA(),B);Z(sM(),B);Z(dM(),B);Z(pM(),B);Z(fM(),B);Z(oS(),B);Z(uS(),B);Z(AM(),B);Z(SM(),B);Z(zo(),B);Z(rS(),B);Z(WA(),B);Z(vM(),B);Z(XA(),B);Z(MM(),B);Z(yM(),B);Z(DM(),B);Z(wl(),B);var wY=UM();B.internal={_export:wY._export}});var na=a(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.invalidTimeout=gt.configureExporterTimeout=gt.appendRootPathToUrlIfNeeded=gt.appendResourcePathToUrl=gt.parseHeaders=void 0;var TS=f(),GM=Es(),BM=1e4;function UY(r={}){let e={};return Object.entries(r).forEach(([t,n])=>{typeof n<"u"?e[t]=String(n):TS.diag.warn(`Header "${t}" has wrong value and will be ignored`)}),e}gt.parseHeaders=UY;function GY(r,e){return r.endsWith("/")||(r=r+"/"),r+e}gt.appendResourcePathToUrl=GY;function BY(r){try{let e=new URL(r);return e.pathname===""&&(e.pathname=e.pathname+"/"),e.toString()}catch{return TS.diag.warn(`Could not parse export URL: '${r}'`),r}}gt.appendRootPathToUrlIfNeeded=BY;function qY(r){return typeof r=="number"?r<=0?AS(r,BM):r:jY()}gt.configureExporterTimeout=qY;function jY(){var r;let e=Number((r=(0,GM.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&r!==void 0?r:(0,GM.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return e<=0?AS(e,BM):e}function AS(r,e){return TS.diag.warn("Timeout must be greater than 0",r),e}gt.invalidTimeout=AS});var td=a(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.OTLPExporterBase=void 0;var qM=f(),ia=Es(),VY=na(),SS=class{constructor(e={}){this._sendingPromises=[],this.url=this.getDefaultUrl(e),typeof e.hostname=="string"&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new ia.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof e.concurrencyLimit=="number"?e.concurrencyLimit:1/0,this.timeoutMillis=(0,VY.configureExporterTimeout)(e.timeoutMillis),this.onInit(e)}export(e,t){if(this._shutdownOnce.isCalled){t({code:ia.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){t({code:ia.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(e).then(()=>{t({code:ia.ExportResultCode.SUCCESS})}).catch(n=>{t({code:ia.ExportResultCode.FAILED,error:n})})}_export(e){return new Promise((t,n)=>{try{qM.diag.debug("items to be sent",e),this.send(e,t,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return qM.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};ed.OTLPExporterBase=SS});var hS=a(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.CompressionAlgorithm=void 0;var HY;(function(r){r.NONE="none",r.GZIP="gzip"})(HY=sa.CompressionAlgorithm||(sa.CompressionAlgorithm={}))});var nd=a(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.OTLPExporterError=void 0;var gS=class extends Error{constructor(e,t,n){super(e),this.name="OTLPExporterError",this.data=n,this.code=t}};rd.OTLPExporterError=gS});var RS=a(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.configureCompression=Xr.createHttpAgent=Xr.sendWithHttp=void 0;var VM=require("url"),HM=require("http"),FM=require("https"),FY=require("zlib"),xY=require("stream"),mS=f(),id=hS(),jM=Es(),OS=nd();function KY(r,e,t,n,i){let s=r.timeoutMillis,o=new VM.URL(r.url),u,c=Number(process.versions.node.split(".")[0]),_=setTimeout(()=>{u=!0,c>=14?p.destroy():p.abort()},s),l={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":t},r.headers),agent:r.agent},p=(o.protocol==="http:"?HM.request:FM.request)(l,E=>{let O="";E.on("data",R=>O+=R),E.on("aborted",()=>{if(u){let R=new OS.OTLPExporterError("Request Timeout");i(R)}}),E.on("end",()=>{if(!u){if(E.statusCode&&E.statusCode<299)mS.diag.debug(`statusCode: ${E.statusCode}`,O),n();else{let R=new OS.OTLPExporterError(E.statusMessage,E.statusCode,O);i(R)}clearTimeout(_)}})});switch(p.on("error",E=>{if(u){let O=new OS.OTLPExporterError("Request Timeout",E.code);i(O)}else clearTimeout(_),i(E)}),r.compression){case id.CompressionAlgorithm.GZIP:{p.setHeader("Content-Encoding","gzip"),$Y(e).on("error",i).pipe(FY.createGzip()).on("error",i).pipe(p);break}default:p.end(e);break}}Xr.sendWithHttp=KY;function $Y(r){let e=new xY.Readable;return e.push(r),e.push(null),e}function XY(r){if(r.httpAgentOptions&&r.keepAlive===!1){mS.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(r.keepAlive===!1||!r.url))try{let t=new VM.URL(r.url).protocol==="http:"?HM.Agent:FM.Agent;return new t(Object.assign({keepAlive:!0},r.httpAgentOptions))}catch(e){mS.diag.error(`collector exporter failed to create http agent. err: ${e.message}`);return}}Xr.createHttpAgent=XY;function YY(r){return r||(((0,jM.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,jM.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===id.CompressionAlgorithm.GZIP?id.CompressionAlgorithm.GZIP:id.CompressionAlgorithm.NONE)}Xr.configureCompression=YY});var $M=a(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.OTLPExporterNodeBase=void 0;var WY=td(),kY=na(),PS=RS(),xM=f(),KM=Es(),NS=class extends WY.OTLPExporterBase{constructor(e={}){super(e),this.DEFAULT_HEADERS={},e.metadata&&xM.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,kY.parseHeaders)(e.headers),KM.baggageUtils.parseKeyPairsIntoRecord((0,KM.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,PS.createHttpAgent)(e),this.compression=(0,PS.configureCompression)(e.compression)}onInit(e){}send(e,t,n){if(this._shutdownOnce.isCalled){xM.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(e),s=new Promise((u,c)=>{(0,PS.sendWithHttp)(this,JSON.stringify(i),"application/json",u,c)}).then(t,n);this._sendingPromises.push(s);let o=()=>{let u=this._sendingPromises.indexOf(s);this._sendingPromises.splice(u,1)};s.then(o,o)}onShutdown(){}};sd.OTLPExporterNodeBase=NS});var XM=a(ur=>{"use strict";var zY=ur&&ur.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),IS=ur&&ur.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&zY(e,r,t)};Object.defineProperty(ur,"__esModule",{value:!0});IS($M(),ur);IS(RS(),ur);IS(hS(),ur)});var WM=a(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.sendWithXhr=ps.sendWithBeacon=void 0;var YM=f(),bS=nd();function QY(r,e,t,n,i){if(navigator.sendBeacon(e,new Blob([r],t)))YM.diag.debug("sendBeacon - can send",r),n();else{let s=new bS.OTLPExporterError(`sendBeacon - cannot send ${r}`);i(s)}}ps.sendWithBeacon=QY;function ZY(r,e,t,n,i,s){let o,u=setTimeout(()=>{o=!0,c.abort()},n),c=new XMLHttpRequest;c.open("POST",e),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),t)).forEach(([l,d])=>{c.setRequestHeader(l,d)}),c.send(r),c.onreadystatechange=()=>{if(c.readyState===XMLHttpRequest.DONE)if(c.status>=200&&c.status<=299)clearTimeout(u),YM.diag.debug("xhr success",r),i();else if(o){let l=new bS.OTLPExporterError("Request Timeout",c.status);s(l)}else{let l=new bS.OTLPExporterError(`Failed to export with XHR (status: ${c.status})`,c.status);clearTimeout(u),s(l)}}}ps.sendWithXhr=ZY});var QM=a(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.OTLPExporterBrowserBase=void 0;var JY=td(),eW=na(),kM=WM(),tW=f(),zM=Es(),vS=class extends JY.OTLPExporterBase{constructor(e={}){super(e),this._useXHR=!1,this._useXHR=!!e.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,eW.parseHeaders)(e.headers),zM.baggageUtils.parseKeyPairsIntoRecord((0,zM.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(e,t,n){if(this._shutdownOnce.isCalled){tW.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(e),s=JSON.stringify(i),o=new Promise((c,_)=>{this._useXHR?(0,kM.sendWithXhr)(s,this.url,this._headers,this.timeoutMillis,c,_):(0,kM.sendWithBeacon)(s,this.url,{type:"application/json"},c,_)}).then(t,n);this._sendingPromises.push(o);let u=()=>{let c=this._sendingPromises.indexOf(o);this._sendingPromises.splice(c,1)};o.then(u,u)}};od.OTLPExporterBrowserBase=vS});var ZM=a(ni=>{"use strict";var rW=ni&&ni.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nW=ni&&ni.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rW(e,r,t)};Object.defineProperty(ni,"__esModule",{value:!0});nW(QM(),ni)});var JM=a(cr=>{"use strict";var iW=cr&&cr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sW=cr&&cr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&iW(e,r,t)};Object.defineProperty(cr,"__esModule",{value:!0});cr.OTLPExporterBrowserBase=void 0;sW(XM(),cr);var oW=ZM();Object.defineProperty(cr,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return oW.OTLPExporterBrowserBase}})});var CS=a(kt=>{"use strict";var aW=kt&&kt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ad=kt&&kt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&aW(e,r,t)};Object.defineProperty(kt,"__esModule",{value:!0});ad(td(),kt);ad(JM(),kt);ad(nd(),kt);ad(na(),kt)});var ty=a(ey=>{"use strict";Object.defineProperty(ey,"__esModule",{value:!0})});var ny=a(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0})});var sy=a(iy=>{"use strict";Object.defineProperty(iy,"__esModule",{value:!0})});var oy=a(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.ESpanKind=void 0;var uW;(function(r){r[r.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",r[r.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",r[r.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",r[r.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",r[r.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",r[r.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(uW=oa.ESpanKind||(oa.ESpanKind={}))});var ud=a(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.bufToHex=Ot.hexToBuf=Ot.toAnyValue=Ot.toKeyValue=Ot.toAttributes=void 0;function cW(r){return Object.keys(r).map(e=>MS(e,r[e]))}Ot.toAttributes=cW;function MS(r,e){return{key:r,value:yS(e)}}Ot.toKeyValue=MS;function yS(r){let e=typeof r;return e==="string"?{stringValue:r}:e==="number"?Number.isInteger(r)?{intValue:r}:{doubleValue:r}:e==="boolean"?{boolValue:r}:r instanceof Uint8Array?{bytesValue:r}:Array.isArray(r)?{arrayValue:{values:r.map(yS)}}:e==="object"&&r!=null?{kvlistValue:{values:Object.entries(r).map(([t,n])=>MS(t,n))}}:{}}Ot.toAnyValue=yS;function _W(r){var e;let t=(e=r.match(/[\da-f]{2}/gi))===null||e===void 0?void 0:e.map(n=>parseInt(n,16));return t&&new Uint8Array(t)}Ot.hexToBuf=_W;function lW(r){return("0"+r.toString(16)).slice(-2)}function dW(r){if(!(r==null||r.length===0))return Array.from(r).map(lW).join("")}Ot.bufToHex=dW});var cy=a(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.toOtlpSpanEvent=Yr.toOtlpLink=Yr.sdkSpanToOtlpSpan=void 0;var LS=Et(),DS=ud(),aa=Et();function EW(r,e){let t=r.spanContext(),n=r.status,i=e?r.parentSpanId:r.parentSpanId!=null?aa.hexToBase64(r.parentSpanId):void 0;return{traceId:e?t.traceId:aa.hexToBase64(t.traceId),spanId:e?t.spanId:aa.hexToBase64(t.spanId),parentSpanId:i,name:r.name,kind:r.kind==null?0:r.kind+1,startTimeUnixNano:(0,LS.hrTimeToNanoseconds)(r.startTime),endTimeUnixNano:(0,LS.hrTimeToNanoseconds)(r.endTime),attributes:(0,DS.toAttributes)(r.attributes),droppedAttributesCount:0,events:r.events.map(uy),droppedEventsCount:0,status:{code:n.code,message:n.message},links:r.links.map(s=>ay(s,e)),droppedLinksCount:0}}Yr.sdkSpanToOtlpSpan=EW;function ay(r,e){return{attributes:r.attributes?(0,DS.toAttributes)(r.attributes):[],spanId:e?r.context.spanId:aa.hexToBase64(r.context.spanId),traceId:e?r.context.traceId:aa.hexToBase64(r.context.traceId),droppedAttributesCount:0}}Yr.toOtlpLink=ay;function uy(r){return{attributes:r.attributes?(0,DS.toAttributes)(r.attributes):[],name:r.name,timeUnixNano:(0,LS.hrTimeToNanoseconds)(r.time),droppedAttributesCount:0}}Yr.toOtlpSpanEvent=uy});var _y=a(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.createExportTraceServiceRequest=void 0;var pW=ud(),fW=cy();function TW(r,e){return{resourceSpans:SW(r,e)}}cd.createExportTraceServiceRequest=TW;function AW(r){let e=new Map;for(let t of r){let n=e.get(t.resource);n||(n=new Map,e.set(t.resource,n));let i=`${t.instrumentationLibrary.name}@${t.instrumentationLibrary.version||""}:${t.instrumentationLibrary.schemaUrl||""}`,s=n.get(i);s||(s=[],n.set(i,s)),s.push(t)}return e}function SW(r,e){let t=AW(r),n=[],i=t.entries(),s=i.next();for(;!s.done;){let[o,u]=s.value,c=[],_=u.values(),l=_.next();for(;!l.done;){let p=l.value;if(p.length>0){let{name:E,version:O,schemaUrl:R}=p[0].instrumentationLibrary,C=p.map(P=>(0,fW.sdkSpanToOtlpSpan)(P,e));c.push({scope:{name:E,version:O},spans:C,schemaUrl:R})}l=_.next()}let d={resource:{attributes:(0,pW.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:c,schemaUrl:void 0};n.push(d),s=i.next()}return n}});var ca=a(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.AggregationTemporality=void 0;var hW;(function(r){r[r.DELTA=0]="DELTA",r[r.CUMULATIVE=1]="CUMULATIVE"})(hW=ua.AggregationTemporality||(ua.AggregationTemporality={}))});var la=a(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.DataPointType=void 0;var gW;(function(r){r[r.HISTOGRAM=0]="HISTOGRAM",r[r.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",r[r.GAUGE=2]="GAUGE",r[r.SUM=3]="SUM"})(gW=_a.DataPointType||(_a.DataPointType={}))});var _r=a(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.setEquals=fe.FlatMap=fe.isPromiseAllSettledRejectionResult=fe.PromiseAllSettled=fe.callWithTimeout=fe.TimeoutError=fe.instrumentationScopeId=fe.hashAttributes=fe.isNotNullish=void 0;function OW(r){return r!=null}fe.isNotNullish=OW;function mW(r){let e=Object.keys(r);return e.length===0?"":(e=e.sort(),JSON.stringify(e.map(t=>[t,r[t]])))}fe.hashAttributes=mW;function RW(r){var e,t;return`${r.name}:${(e=r.version)!==null&&e!==void 0?e:""}:${(t=r.schemaUrl)!==null&&t!==void 0?t:""}`}fe.instrumentationScopeId=RW;var fs=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,fs.prototype)}};fe.TimeoutError=fs;function PW(r,e){let t,n=new Promise(function(s,o){t=setTimeout(function(){o(new fs("Operation timed out."))},e)});return Promise.race([r,n]).then(i=>(clearTimeout(t),i),i=>{throw clearTimeout(t),i})}fe.callWithTimeout=PW;async function NW(r){return Promise.all(r.map(async e=>{try{return{status:"fulfilled",value:await e}}catch(t){return{status:"rejected",reason:t}}}))}fe.PromiseAllSettled=NW;function IW(r){return r.status==="rejected"}fe.isPromiseAllSettledRejectionResult=IW;function bW(r,e){let t=[];return r.forEach(n=>{t.push(...e(n))}),t}fe.FlatMap=bW;function vW(r,e){if(r.size!==e.size)return!1;for(let t of r)if(!e.has(t))return!1;return!0}fe.setEquals=vW});var Ea=a(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.AggregatorKind=void 0;var CW;(function(r){r[r.DROP=0]="DROP",r[r.SUM=1]="SUM",r[r.LAST_VALUE=2]="LAST_VALUE",r[r.HISTOGRAM=3]="HISTOGRAM"})(CW=da.AggregatorKind||(da.AggregatorKind={}))});var ly=a(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.DropAggregator=void 0;var MW=Ea(),wS=class{constructor(){this.kind=MW.AggregatorKind.DROP}createAccumulation(){}merge(e,t){}diff(e,t){}toMetricData(e,t,n,i){}};_d.DropAggregator=wS});var Wr=a(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.isDescriptorCompatibleWith=wt.createInstrumentDescriptorWithView=wt.createInstrumentDescriptor=wt.InstrumentType=void 0;var yW=f(),LW;(function(r){r.COUNTER="COUNTER",r.HISTOGRAM="HISTOGRAM",r.UP_DOWN_COUNTER="UP_DOWN_COUNTER",r.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",r.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",r.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(LW=wt.InstrumentType||(wt.InstrumentType={}));function DW(r,e,t){var n,i,s;return{name:r,type:e,description:(n=t==null?void 0:t.description)!==null&&n!==void 0?n:"",unit:(i=t==null?void 0:t.unit)!==null&&i!==void 0?i:"",valueType:(s=t==null?void 0:t.valueType)!==null&&s!==void 0?s:yW.ValueType.DOUBLE}}wt.createInstrumentDescriptor=DW;function wW(r,e){var t,n;return{name:(t=r.name)!==null&&t!==void 0?t:e.name,description:(n=r.description)!==null&&n!==void 0?n:e.description,type:e.type,unit:e.unit,valueType:e.valueType}}wt.createInstrumentDescriptorWithView=wW;function UW(r,e){return r.name===e.name&&r.unit===e.unit&&r.type===e.type&&r.valueType===e.valueType}wt.isDescriptorCompatibleWith=UW});var dy=a(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.HistogramAggregator=As.HistogramAccumulation=void 0;var GW=Ea(),BW=la(),US=Wr();function qW(r){let e=r.map(()=>0);return e.push(0),{buckets:{boundaries:r,counts:e},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var Ts=class{constructor(e,t,n=!0,i=qW(t)){this.startTime=e,this._boundaries=t,this._recordMinMax=n,this._current=i}record(e){this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);for(let t=0;t<this._boundaries.length;t++)if(e<this._boundaries[t]){this._current.buckets.counts[t]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};As.HistogramAccumulation=Ts;var GS=class{constructor(e,t){this._boundaries=e,this._recordMinMax=t,this.kind=GW.AggregatorKind.HISTOGRAM}createAccumulation(e){return new Ts(e,this._boundaries,this._recordMinMax)}merge(e,t){let n=e.toPointValue(),i=t.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,u=new Array(s.length);for(let l=0;l<s.length;l++)u[l]=s[l]+o[l];let c=1/0,_=-1/0;return this._recordMinMax&&(n.hasMinMax&&i.hasMinMax?(c=Math.min(n.min,i.min),_=Math.max(n.max,i.max)):n.hasMinMax?(c=n.min,_=n.max):i.hasMinMax&&(c=i.min,_=i.max)),new Ts(e.startTime,n.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:n.buckets.boundaries,counts:u},count:n.count+i.count,sum:n.sum+i.sum,hasMinMax:this._recordMinMax&&(n.hasMinMax||i.hasMinMax),min:c,max:_})}diff(e,t){let n=e.toPointValue(),i=t.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,u=new Array(s.length);for(let c=0;c<s.length;c++)u[c]=o[c]-s[c];return new Ts(t.startTime,n.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:n.buckets.boundaries,counts:u},count:i.count-n.count,sum:i.sum-n.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,t,n,i){return{descriptor:e,aggregationTemporality:t,dataPointType:BW.DataPointType.HISTOGRAM,dataPoints:n.map(([s,o])=>{let u=o.toPointValue(),c=e.type===US.InstrumentType.UP_DOWN_COUNTER||e.type===US.InstrumentType.OBSERVABLE_GAUGE||e.type===US.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:s,startTime:o.startTime,endTime:i,value:{min:u.hasMinMax?u.min:void 0,max:u.hasMinMax?u.max:void 0,sum:c?void 0:u.sum,buckets:u.buckets,count:u.count}}})}}};As.HistogramAggregator=GS});var Ey=a(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.LastValueAggregator=hs.LastValueAccumulation=void 0;var jW=Ea(),pa=Et(),VW=la(),Ss=class{constructor(e,t=0,n=[0,0]){this.startTime=e,this._current=t,this.sampleTime=n}record(e){this._current=e,this.sampleTime=(0,pa.hrTime)()}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};hs.LastValueAccumulation=Ss;var BS=class{constructor(){this.kind=jW.AggregatorKind.LAST_VALUE}createAccumulation(e){return new Ss(e)}merge(e,t){let n=(0,pa.hrTimeToMicroseconds)(t.sampleTime)>=(0,pa.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new Ss(e.startTime,n.toPointValue(),n.sampleTime)}diff(e,t){let n=(0,pa.hrTimeToMicroseconds)(t.sampleTime)>=(0,pa.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new Ss(t.startTime,n.toPointValue(),n.sampleTime)}toMetricData(e,t,n,i){return{descriptor:e,aggregationTemporality:t,dataPointType:VW.DataPointType.GAUGE,dataPoints:n.map(([s,o])=>({attributes:s,startTime:o.startTime,endTime:i,value:o.toPointValue()}))}}};hs.LastValueAggregator=BS});var py=a(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.SumAggregator=gs.SumAccumulation=void 0;var HW=Ea(),FW=la(),kr=class{constructor(e,t,n=0,i=!1){this.startTime=e,this.monotonic=t,this._current=n,this.reset=i}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};gs.SumAccumulation=kr;var qS=class{constructor(e){this.monotonic=e,this.kind=HW.AggregatorKind.SUM}createAccumulation(e){return new kr(e,this.monotonic)}merge(e,t){let n=e.toPointValue(),i=t.toPointValue();return t.reset?new kr(t.startTime,this.monotonic,i,t.reset):new kr(e.startTime,this.monotonic,n+i)}diff(e,t){let n=e.toPointValue(),i=t.toPointValue();return this.monotonic&&n>i?new kr(t.startTime,this.monotonic,i,!0):new kr(t.startTime,this.monotonic,i-n)}toMetricData(e,t,n,i){return{descriptor:e,aggregationTemporality:t,dataPointType:FW.DataPointType.SUM,dataPoints:n.map(([s,o])=>({attributes:s,startTime:o.startTime,endTime:i,value:o.toPointValue()})),isMonotonic:this.monotonic}}};gs.SumAggregator=qS});var fy=a(zt=>{"use strict";var xW=zt&&zt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ld=zt&&zt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&xW(e,r,t)};Object.defineProperty(zt,"__esModule",{value:!0});ld(ly(),zt);ld(dy(),zt);ld(Ey(),zt);ld(py(),zt)});var Ed=a(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.DefaultAggregation=Xe.ExplicitBucketHistogramAggregation=Xe.HistogramAggregation=Xe.LastValueAggregation=Xe.SumAggregation=Xe.DropAggregation=Xe.Aggregation=void 0;var KW=f(),Os=fy(),lr=Wr(),dr=class{static Drop(){return Ty}static Sum(){return Ay}static LastValue(){return Sy}static Histogram(){return hy}static Default(){return $W}};Xe.Aggregation=dr;var ii=class extends dr{createAggregator(e){return ii.DEFAULT_INSTANCE}};Xe.DropAggregation=ii;ii.DEFAULT_INSTANCE=new Os.DropAggregator;var Er=class extends dr{createAggregator(e){switch(e.type){case lr.InstrumentType.COUNTER:case lr.InstrumentType.OBSERVABLE_COUNTER:case lr.InstrumentType.HISTOGRAM:return Er.MONOTONIC_INSTANCE;default:return Er.NON_MONOTONIC_INSTANCE}}};Xe.SumAggregation=Er;Er.MONOTONIC_INSTANCE=new Os.SumAggregator(!0);Er.NON_MONOTONIC_INSTANCE=new Os.SumAggregator(!1);var si=class extends dr{createAggregator(e){return si.DEFAULT_INSTANCE}};Xe.LastValueAggregation=si;si.DEFAULT_INSTANCE=new Os.LastValueAggregator;var oi=class extends dr{createAggregator(e){return oi.DEFAULT_INSTANCE}};Xe.HistogramAggregation=oi;oi.DEFAULT_INSTANCE=new Os.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3],!0);var jS=class extends dr{constructor(e,t=!0){if(super(),this._recordMinMax=t,e===void 0||e.length===0)throw new Error("HistogramAggregator should be created with boundaries.");e=e.concat(),e=e.sort((s,o)=>s-o);let n=e.lastIndexOf(-1/0),i=e.indexOf(1/0);i===-1&&(i=void 0),this._boundaries=e.slice(n+1,i)}createAggregator(e){return new Os.HistogramAggregator(this._boundaries,this._recordMinMax)}};Xe.ExplicitBucketHistogramAggregation=jS;var dd=class extends dr{_resolve(e){switch(e.type){case lr.InstrumentType.COUNTER:case lr.InstrumentType.UP_DOWN_COUNTER:case lr.InstrumentType.OBSERVABLE_COUNTER:case lr.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return Ay;case lr.InstrumentType.OBSERVABLE_GAUGE:return Sy;case lr.InstrumentType.HISTOGRAM:return hy}return KW.diag.warn(`Unable to recognize instrument type: ${e.type}`),Ty}createAggregator(e){return this._resolve(e).createAggregator(e)}};Xe.DefaultAggregation=dd;var Ty=new ii,Ay=new Er,Sy=new si,hy=new oi,$W=new dd});var gy=a(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=ms.DEFAULT_AGGREGATION_SELECTOR=void 0;var XW=Ed(),YW=ca(),WW=r=>XW.Aggregation.Default();ms.DEFAULT_AGGREGATION_SELECTOR=WW;var kW=r=>YW.AggregationTemporality.CUMULATIVE;ms.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=kW});var HS=a(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.MetricReader=void 0;var Oy=f(),my=_r(),Ry=gy(),VS=class{constructor(e){var t,n;this._shutdown=!1,this._aggregationSelector=(t=e==null?void 0:e.aggregationSelector)!==null&&t!==void 0?t:Ry.DEFAULT_AGGREGATION_SELECTOR,this._aggregationTemporalitySelector=(n=e==null?void 0:e.aggregationTemporalitySelector)!==null&&n!==void 0?n:Ry.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}setMetricProducer(e){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}onInitialized(){}async collect(e){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:e==null?void 0:e.timeoutMillis})}async shutdown(e){if(this._shutdown){Oy.diag.error("Cannot call shutdown twice.");return}(e==null?void 0:e.timeoutMillis)==null?await this.onShutdown():await(0,my.callWithTimeout)(this.onShutdown(),e.timeoutMillis),this._shutdown=!0}async forceFlush(e){if(this._shutdown){Oy.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((e==null?void 0:e.timeoutMillis)==null){await this.onForceFlush();return}await(0,my.callWithTimeout)(this.onForceFlush(),e.timeoutMillis)}};pd.MetricReader=VS});var Iy=a(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.PeriodicExportingMetricReader=void 0;var Py=f(),fd=Et(),zW=HS(),Ny=_r(),FS=class extends zW.MetricReader{constructor(e){var t,n,i,s;if(super({aggregationSelector:(t=e.exporter.selectAggregation)===null||t===void 0?void 0:t.bind(e.exporter),aggregationTemporalitySelector:(n=e.exporter.selectAggregationTemporality)===null||n===void 0?void 0:n.bind(e.exporter)}),e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(i=e.exportIntervalMillis)!==null&&i!==void 0?i:6e4,this._exportTimeout=(s=e.exportTimeoutMillis)!==null&&s!==void 0?s:3e4,this._exporter=e.exporter}async _runOnce(){let{resourceMetrics:e,errors:t}=await this.collect({});t.length>0&&Py.diag.error("PeriodicExportingMetricReader: metrics collection errors",...t);let n=await fd.internal._export(this._exporter,e);if(n.code!==fd.ExportResultCode.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${n.error})`)}onInitialized(){this._interval=setInterval(async()=>{try{await(0,Ny.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(e){if(e instanceof Ny.TimeoutError){Py.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,fd.globalErrorHandler)(e)}},this._exportInterval),(0,fd.unrefTimer)(this._interval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}};Td.PeriodicExportingMetricReader=FS});var vy=a(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.InMemoryMetricExporter=void 0;var by=Et(),xS=class{constructor(e){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=e}export(e,t){if(this._shutdown){setTimeout(()=>t({code:by.ExportResultCode.FAILED}),0);return}this._metrics.push(e),setTimeout(()=>t({code:by.ExportResultCode.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}};Ad.InMemoryMetricExporter=xS});var My=a(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.ConsoleMetricExporter=void 0;var Cy=Et(),QW=ca(),fa=class{constructor(){this._shutdown=!1}export(e,t){if(this._shutdown){setImmediate(t,{code:Cy.ExportResultCode.FAILED});return}return fa._sendMetrics(e,t)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return QW.AggregationTemporality.CUMULATIVE}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(e,t){for(let n of e.scopeMetrics)for(let i of n.metrics)console.dir({descriptor:i.descriptor,dataPointType:i.dataPointType,dataPoints:i.dataPoints});t({code:Cy.ExportResultCode.SUCCESS})}};Sd.ConsoleMetricExporter=fa});var yy=a(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.defaultServiceName=void 0;function ZW(){return`unknown_service:${process.argv0}`}hd.defaultServiceName=ZW});var Dy=a(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.detectResources=void 0;var Ly=ai(),KS=f(),JW=require("util"),e8=async(r={})=>{let e=Object.assign(r),t=await Promise.all((e.detectors||[]).map(async n=>{try{let i=await n.detect(e);return KS.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return KS.diag.debug(`${n.constructor.name} failed: ${i.message}`),Ly.Resource.empty()}}));return t8(t),t.reduce((n,i)=>n.merge(i),Ly.Resource.empty())};gd.detectResources=e8;var t8=r=>{r.forEach(e=>{if(Object.keys(e.attributes).length>0){let t=JW.inspect(e.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});KS.diag.verbose(t)}})}});var Gy=a(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.hostDetector=void 0;var wy=ge(),r8=ai(),Uy=require("os"),$S=class{async detect(e){let t={[wy.SemanticResourceAttributes.HOST_NAME]:(0,Uy.hostname)(),[wy.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,Uy.arch)())};return new r8.Resource(t)}_normalizeArch(e){switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}}};Od.hostDetector=new $S});var jy=a(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.osDetector=void 0;var By=ge(),n8=ai(),qy=require("os"),XS=class{async detect(e){let t={[By.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,qy.platform)()),[By.SemanticResourceAttributes.OS_VERSION]:(0,qy.release)()};return new n8.Resource(t)}_normalizeType(e){switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}}};md.osDetector=new XS});var Vy=a(Qt=>{"use strict";var i8=Qt&&Qt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Rd=Qt&&Qt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&i8(e,r,t)};Object.defineProperty(Qt,"__esModule",{value:!0});Rd(yy(),Qt);Rd(Dy(),Qt);Rd(Gy(),Qt);Rd(jy(),Qt)});var YS=a(ui=>{"use strict";var s8=ui&&ui.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),o8=ui&&ui.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&s8(e,r,t)};Object.defineProperty(ui,"__esModule",{value:!0});o8(Vy(),ui)});var ai=a(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.Resource=void 0;var ci=ge(),WS=Et(),a8=YS(),pr=class{constructor(e){this.attributes=e}static empty(){return pr.EMPTY}static default(){return new pr({[ci.SemanticResourceAttributes.SERVICE_NAME]:(0,a8.defaultServiceName)(),[ci.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:WS.SDK_INFO[ci.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[ci.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:WS.SDK_INFO[ci.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[ci.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:WS.SDK_INFO[ci.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;let t=Object.assign({},this.attributes,e.attributes);return new pr(t)}};Pd.Resource=pr;pr.EMPTY=new pr({})});var Fy=a(Hy=>{"use strict";Object.defineProperty(Hy,"__esModule",{value:!0})});var Ky=a(xy=>{"use strict";Object.defineProperty(xy,"__esModule",{value:!0})});var $y=a(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.browserDetector=void 0;var u8=f(),Nd=ge(),kS=QS(),zS=class{async detect(e){if(!(typeof navigator<"u"))return kS.Resource.empty();let n={[Nd.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[Nd.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[Nd.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,e)}_getResourceAttributes(e,t){return e[Nd.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(u8.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),kS.Resource.empty()):new kS.Resource(Object.assign({},e))}};Id.browserDetector=new zS});var Xy=a(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.envDetector=void 0;var c8=f(),_8=Et(),l8=ge(),d8=ai(),ZS=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){let t={},n=(0,_8.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(t,o)}catch(o){c8.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(t[l8.SemanticResourceAttributes.SERVICE_NAME]=s),new d8.Resource(t)}_parseResourceAttributes(e){if(!e)return{};let t={},n=e.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,u]=s;if(o=o.trim(),u=u.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(u))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[o]=decodeURIComponent(u)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}};bd.envDetector=new ZS});var Yy=a(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.processDetector=void 0;var E8=f(),mt=ge(),JS=ai(),eh=class{async detect(e){if(typeof process!="object")return JS.Resource.empty();let t={[mt.SemanticResourceAttributes.PROCESS_PID]:process.pid,[mt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[mt.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[mt.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[mt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[mt.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[mt.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,t){return e[mt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||e[mt.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||e[mt.SemanticResourceAttributes.PROCESS_COMMAND]===""||e[mt.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||e[mt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(E8.diag.debug("ProcessDetector failed: Unable to find required process resources. "),JS.Resource.empty()):new JS.Resource(Object.assign({},e))}};vd.processDetector=new eh});var Wy=a(fr=>{"use strict";var p8=fr&&fr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),th=fr&&fr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&p8(e,r,t)};Object.defineProperty(fr,"__esModule",{value:!0});th($y(),fr);th(Xy(),fr);th(Yy(),fr)});var QS=a(Ut=>{"use strict";var f8=Ut&&Ut.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ta=Ut&&Ut.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&f8(e,r,t)};Object.defineProperty(Ut,"__esModule",{value:!0});Ta(ai(),Ut);Ta(YS(),Ut);Ta(Fy(),Ut);Ta(Ky(),Ut);Ta(Wy(),Ut)});var ky=a(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.ViewRegistry=void 0;var rh=class{constructor(){this._registeredViews=[]}addView(e){this._registeredViews.push(e)}findViews(e,t){return this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,e)&&this._matchMeter(i.meterSelector,t))}_matchInstrument(e,t){return(e.getType()===void 0||t.type===e.getType())&&e.getNameFilter().match(t.name)}_matchMeter(e,t){return e.getNameFilter().match(t.name)&&(t.version===void 0||e.getVersionFilter().match(t.version))&&(t.schemaUrl===void 0||e.getSchemaUrlFilter().match(t.schemaUrl))}};Cd.ViewRegistry=rh});var Md=a(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.isObservableInstrument=Te.ObservableUpDownCounterInstrument=Te.ObservableGaugeInstrument=Te.ObservableCounterInstrument=Te.ObservableInstrument=Te.HistogramInstrument=Te.CounterInstrument=Te.UpDownCounterInstrument=Te.SyncInstrument=void 0;var Aa=f(),T8=Et(),Rs=class{constructor(e,t){this._writableMetricStorage=e,this._descriptor=t}_record(e,t={},n=Aa.context.active()){this._descriptor.valueType===Aa.ValueType.INT&&!Number.isInteger(e)&&(Aa.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e)),this._writableMetricStorage.record(e,t,n,(0,T8.hrTime)())}};Te.SyncInstrument=Rs;var nh=class extends Rs{add(e,t,n){this._record(e,t,n)}};Te.UpDownCounterInstrument=nh;var ih=class extends Rs{add(e,t,n){if(e<0){Aa.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`);return}this._record(e,t,n)}};Te.CounterInstrument=ih;var sh=class extends Rs{record(e,t,n){if(e<0){Aa.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`);return}this._record(e,t,n)}};Te.HistogramInstrument=sh;var _i=class{constructor(e,t,n){this._observableRegistry=n,this._descriptor=e,this._metricStorages=t}addCallback(e){this._observableRegistry.addCallback(e,this)}removeCallback(e){this._observableRegistry.removeCallback(e,this)}};Te.ObservableInstrument=_i;var oh=class extends _i{};Te.ObservableCounterInstrument=oh;var ah=class extends _i{};Te.ObservableGaugeInstrument=ah;var uh=class extends _i{};Te.ObservableUpDownCounterInstrument=uh;function A8(r){return r instanceof _i}Te.isObservableInstrument=A8});var zy=a(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.Meter=void 0;var Rt=Wr(),Ps=Md(),ch=class{constructor(e){this._meterSharedState=e}createHistogram(e,t){let n=(0,Rt.createInstrumentDescriptor)(e,Rt.InstrumentType.HISTOGRAM,t),i=this._meterSharedState.registerMetricStorage(n);return new Ps.HistogramInstrument(i,n)}createCounter(e,t){let n=(0,Rt.createInstrumentDescriptor)(e,Rt.InstrumentType.COUNTER,t),i=this._meterSharedState.registerMetricStorage(n);return new Ps.CounterInstrument(i,n)}createUpDownCounter(e,t){let n=(0,Rt.createInstrumentDescriptor)(e,Rt.InstrumentType.UP_DOWN_COUNTER,t),i=this._meterSharedState.registerMetricStorage(n);return new Ps.UpDownCounterInstrument(i,n)}createObservableGauge(e,t){let n=(0,Rt.createInstrumentDescriptor)(e,Rt.InstrumentType.OBSERVABLE_GAUGE,t),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Ps.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(e,t){let n=(0,Rt.createInstrumentDescriptor)(e,Rt.InstrumentType.OBSERVABLE_COUNTER,t),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Ps.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,t){let n=(0,Rt.createInstrumentDescriptor)(e,Rt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,t),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Ps.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.addBatchCallback(e,t)}removeBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.removeBatchCallback(e,t)}};yd.Meter=ch});var lh=a(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.MetricStorage=void 0;var S8=Wr(),_h=class{constructor(e){this._instrumentDescriptor=e}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=(0,S8.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};Ld.MetricStorage=_h});var Sa=a(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.AttributeHashMap=Ns.HashMap=void 0;var h8=_r(),Dd=class{constructor(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}get(e,t){return t??(t=this._hash(e)),this._valueMap.get(t)}getOrDefault(e,t){let n=this._hash(e);if(this._valueMap.has(n))return this._valueMap.get(n);let i=t();return this._keyMap.has(n)||this._keyMap.set(n,e),this._valueMap.set(n,i),i}set(e,t,n){n??(n=this._hash(e)),this._keyMap.has(n)||this._keyMap.set(n,e),this._valueMap.set(n,t)}has(e,t){return t??(t=this._hash(e)),this._valueMap.has(t)}*keys(){let e=this._keyMap.entries(),t=e.next();for(;t.done!==!0;)yield[t.value[1],t.value[0]],t=e.next()}*entries(){let e=this._valueMap.entries(),t=e.next();for(;t.done!==!0;)yield[this._keyMap.get(t.value[0]),t.value[1],t.value[0]],t=e.next()}get size(){return this._valueMap.size}};Ns.HashMap=Dd;var dh=class extends Dd{constructor(){super(h8.hashAttributes)}};Ns.AttributeHashMap=dh});var fh=a(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.DeltaMetricProcessor=void 0;var Eh=Sa(),ph=class{constructor(e){this._aggregator=e,this._activeCollectionStorage=new Eh.AttributeHashMap,this._cumulativeMemoStorage=new Eh.AttributeHashMap}record(e,t,n,i){let s=this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation(i));s==null||s.record(e)}batchCumulate(e,t){Array.from(e.entries()).forEach(([n,i,s])=>{let o=this._aggregator.createAccumulation(t);o==null||o.record(i);let u=o;if(this._cumulativeMemoStorage.has(n,s)){let c=this._cumulativeMemoStorage.get(n,s);u=this._aggregator.diff(c,o)}this._cumulativeMemoStorage.set(n,o,s),this._activeCollectionStorage.set(n,u,s)})}collect(){let e=this._activeCollectionStorage;return this._activeCollectionStorage=new Eh.AttributeHashMap,e}};wd.DeltaMetricProcessor=ph});var Th=a(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.TemporalMetricProcessor=void 0;var g8=ca(),O8=Sa(),li=class{constructor(e){this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(e,t,n,i,s){this._stashAccumulations(t,i);let o=this._getMergedUnreportedAccumulations(e),u=o,c;if(this._reportHistory.has(e)){let _=this._reportHistory.get(e),l=_.collectionTime;c=_.aggregationTemporality,c===g8.AggregationTemporality.CUMULATIVE?u=li.merge(_.accumulations,o,this._aggregator):u=li.calibrateStartTime(_.accumulations,o,l)}else c=e.selectAggregationTemporality(n.type);return this._reportHistory.set(e,{accumulations:u,collectionTime:s,aggregationTemporality:c}),this._aggregator.toMetricData(n,c,m8(u),s)}_stashAccumulations(e,t){e.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(t)})}_getMergedUnreportedAccumulations(e){let t=new O8.AttributeHashMap,n=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),n===void 0)return t;for(let i of n)t=li.merge(t,i,this._aggregator);return t}static merge(e,t,n){let i=e,s=t.entries(),o=s.next();for(;o.done!==!0;){let[u,c,_]=o.value;if(e.has(u,_)){let l=e.get(u,_),d=n.merge(l,c);i.set(u,d,_)}else i.set(u,c,_);o=s.next()}return i}static calibrateStartTime(e,t,n){for(let[i,s]of e.keys()){let o=t.get(i,s);o==null||o.setStartTime(n)}return t}};Ud.TemporalMetricProcessor=li;function m8(r){return Array.from(r.entries())}});var Qy=a(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.AsyncMetricStorage=void 0;var R8=lh(),P8=fh(),N8=Th(),I8=Sa(),Ah=class extends R8.MetricStorage{constructor(e,t,n){super(e),this._attributesProcessor=n,this._deltaMetricStorage=new P8.DeltaMetricProcessor(t),this._temporalMetricStorage=new N8.TemporalMetricProcessor(t)}record(e,t){let n=new I8.AttributeHashMap;Array.from(e.entries()).forEach(([i,s])=>{n.set(this._attributesProcessor.process(i),s)}),this._deltaMetricStorage.batchCumulate(n,t)}collect(e,t,n){let i=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,t,this._instrumentDescriptor,i,n)}};Gd.AsyncMetricStorage=Ah});var rL=a(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.getConflictResolutionRecipe=nt.getDescriptionResolutionRecipe=nt.getTypeConflictResolutionRecipe=nt.getUnitConflictResolutionRecipe=nt.getValueTypeConflictResolutionRecipe=nt.getIncompatibilityDetails=void 0;function b8(r,e){let t="";return r.unit!==e.unit&&(t+=`	- Unit '${r.unit}' does not match '${e.unit}'
`),r.type!==e.type&&(t+=`	- Type '${r.type}' does not match '${e.type}'
`),r.valueType!==e.valueType&&(t+=`	- Value Type '${r.valueType}' does not match '${e.valueType}'
`),r.description!==e.description&&(t+=`	- Description '${r.description}' does not match '${e.description}'
`),t}nt.getIncompatibilityDetails=b8;function Zy(r,e){return`	- use valueType '${r.valueType}' on instrument creation or use an instrument name other than '${e.name}'`}nt.getValueTypeConflictResolutionRecipe=Zy;function Jy(r,e){return`	- use unit '${r.unit}' on instrument creation or use an instrument name other than '${e.name}'`}nt.getUnitConflictResolutionRecipe=Jy;function eL(r,e){let t={name:e.name,type:e.type},n=JSON.stringify(t);return`	- create a new view with a name other than '${r.name}' and InstrumentSelector '${n}'`}nt.getTypeConflictResolutionRecipe=eL;function tL(r,e){let t={name:e.name,type:e.type},n=JSON.stringify(t);return`	- create a new view with a name other than '${r.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${r.name} and description '${r.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${e.name} and description '${r.description}' and InstrumentSelector ${n}`}nt.getDescriptionResolutionRecipe=tL;function v8(r,e){return r.valueType!==e.valueType?Zy(r,e):r.unit!==e.unit?Jy(r,e):r.type!==e.type?eL(r,e):r.description!==e.description?tL(r,e):""}nt.getConflictResolutionRecipe=v8});var iL=a(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.MetricStorageRegistry=void 0;var C8=Wr(),nL=f(),Bd=rL(),ha=class{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new ha}getStorages(e){let t=[];for(let i of this._sharedRegistry.values())t=t.concat(i);let n=this._perCollectorRegistry.get(e);if(n!=null)for(let i of n.values())t=t.concat(i);return t}register(e){this._registerStorage(e,this._sharedRegistry)}registerForCollector(e,t){let n=this._perCollectorRegistry.get(e);n==null&&(n=new Map,this._perCollectorRegistry.set(e,n)),this._registerStorage(t,n)}findOrUpdateCompatibleStorage(e){let t=this._sharedRegistry.get(e.name);return t===void 0?null:this._findOrUpdateCompatibleStorage(e,t)}findOrUpdateCompatibleCollectorStorage(e,t){if(this._perCollectorRegistry.get(e)===void 0)return null;let i=this._sharedRegistry.get(t.name);return i===void 0?null:this._findOrUpdateCompatibleStorage(t,i)}_registerStorage(e,t){let n=e.getInstrumentDescriptor(),i=t.get(n.name);if(i===void 0){t.set(n.name,[e]);return}i.push(e)}_findOrUpdateCompatibleStorage(e,t){let n=null;for(let i of t){let s=i.getInstrumentDescriptor();(0,C8.isDescriptorCompatibleWith)(s,e)?(s.description!==e.description&&(e.description.length>s.description.length&&i.updateDescription(e.description),nL.diag.warn("A view or instrument with the name ",e.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,Bd.getIncompatibilityDetails)(s,e),`The longer description will be used.
To resolve the conflict:`,(0,Bd.getConflictResolutionRecipe)(s,e))),n=i):nL.diag.warn("A view or instrument with the name ",e.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,Bd.getIncompatibilityDetails)(s,e),`To resolve the conflict:
`,(0,Bd.getConflictResolutionRecipe)(s,e))}return n}};qd.MetricStorageRegistry=ha});var sL=a(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.MultiMetricStorage=void 0;var Sh=class{constructor(e){this._backingStorages=e}record(e,t,n,i){this._backingStorages.forEach(s=>{s.record(e,t,n,i)})}};jd.MultiMetricStorage=Sh});var aL=a(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.BatchObservableResultImpl=Is.ObservableResultImpl=void 0;var Vd=f(),oL=Sa(),M8=Md(),hh=class{constructor(e){this._descriptor=e,this._buffer=new oL.AttributeHashMap}observe(e,t={}){this._descriptor.valueType===Vd.ValueType.INT&&!Number.isInteger(e)&&(Vd.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e)),this._buffer.set(t,e)}};Is.ObservableResultImpl=hh;var gh=class{constructor(){this._buffer=new Map}observe(e,t,n={}){if(!(0,M8.isObservableInstrument)(e))return;let i=this._buffer.get(e);i==null&&(i=new oL.AttributeHashMap,this._buffer.set(e,i)),e._descriptor.valueType===Vd.ValueType.INT&&!Number.isInteger(t)&&(Vd.diag.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),i.set(n,t)}};Is.BatchObservableResultImpl=gh});var _L=a(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.ObservableRegistry=void 0;var y8=f(),uL=Md(),cL=aL(),ga=_r(),Oh=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(e,t){this._findCallback(e,t)>=0||this._callbacks.push({callback:e,instrument:t})}removeCallback(e,t){let n=this._findCallback(e,t);n<0||this._callbacks.splice(n,1)}addBatchCallback(e,t){let n=new Set(t.filter(uL.isObservableInstrument));if(n.size===0){y8.diag.error("BatchObservableCallback is not associated with valid instruments",t);return}this._findBatchCallback(e,n)>=0||this._batchCallbacks.push({callback:e,instruments:n})}removeBatchCallback(e,t){let n=new Set(t.filter(uL.isObservableInstrument)),i=this._findBatchCallback(e,n);i<0||this._batchCallbacks.splice(i,1)}async observe(e,t){let n=this._observeCallbacks(e,t),i=this._observeBatchCallbacks(e,t);return(await(0,ga.PromiseAllSettled)([...n,...i])).filter(ga.isPromiseAllSettledRejectionResult).map(u=>u.reason)}_observeCallbacks(e,t){return this._callbacks.map(async({callback:n,instrument:i})=>{let s=new cL.ObservableResultImpl(i._descriptor),o=Promise.resolve(n(s));t!=null&&(o=(0,ga.callWithTimeout)(o,t)),await o,i._metricStorages.forEach(u=>{u.record(s._buffer,e)})})}_observeBatchCallbacks(e,t){return this._batchCallbacks.map(async({callback:n,instruments:i})=>{let s=new cL.BatchObservableResultImpl,o=Promise.resolve(n(s));t!=null&&(o=(0,ga.callWithTimeout)(o,t)),await o,i.forEach(u=>{let c=s._buffer.get(u);c!=null&&u._metricStorages.forEach(_=>{_.record(c,e)})})})}_findCallback(e,t){return this._callbacks.findIndex(n=>n.callback===e&&n.instrument===t)}_findBatchCallback(e,t){return this._batchCallbacks.findIndex(n=>n.callback===e&&(0,ga.setEquals)(n.instruments,t))}};Hd.ObservableRegistry=Oh});var lL=a(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.SyncMetricStorage=void 0;var L8=lh(),D8=fh(),w8=Th(),mh=class extends L8.MetricStorage{constructor(e,t,n){super(e),this._attributesProcessor=n,this._deltaMetricStorage=new D8.DeltaMetricProcessor(t),this._temporalMetricStorage=new w8.TemporalMetricProcessor(t)}record(e,t,n,i){t=this._attributesProcessor.process(t,n),this._deltaMetricStorage.record(e,t,n,i)}collect(e,t,n){let i=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,t,this._instrumentDescriptor,i,n)}};Fd.SyncMetricStorage=mh});var Ph=a(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.FilteringAttributesProcessor=zr.NoopAttributesProcessor=zr.AttributesProcessor=void 0;var Oa=class{static Noop(){return U8}};zr.AttributesProcessor=Oa;var xd=class extends Oa{process(e,t){return e}};zr.NoopAttributesProcessor=xd;var Rh=class extends Oa{constructor(e){super(),this._allowedAttributeNames=e}process(e,t){let n={};return Object.keys(e).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=e[i]),n}};zr.FilteringAttributesProcessor=Rh;var U8=new xd});var EL=a(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.MeterSharedState=void 0;var G8=Wr(),B8=zy(),dL=_r(),q8=Qy(),j8=iL(),V8=sL(),H8=_L(),F8=lL(),x8=Ph(),Nh=class{constructor(e,t){this._meterProviderSharedState=e,this._instrumentationScope=t,this.metricStorageRegistry=new j8.MetricStorageRegistry,this.observableRegistry=new H8.ObservableRegistry,this.meter=new B8.Meter(this)}registerMetricStorage(e){let t=this._registerMetricStorage(e,F8.SyncMetricStorage);return t.length===1?t[0]:new V8.MultiMetricStorage(t)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,q8.AsyncMetricStorage)}async collect(e,t,n){let i=await this.observableRegistry.observe(t,n==null?void 0:n.timeoutMillis),s=Array.from(this.metricStorageRegistry.getStorages(e)).map(o=>o.collect(e,this._meterProviderSharedState.metricCollectors,t)).filter(dL.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:s.filter(dL.isNotNullish)},errors:i}}_registerMetricStorage(e,t){let i=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map(s=>{let o=(0,G8.createInstrumentDescriptorWithView)(s,e),u=this.metricStorageRegistry.findOrUpdateCompatibleStorage(o);if(u!=null)return u;let c=s.aggregation.createAggregator(o),_=new t(o,c,s.attributesProcessor);return this.metricStorageRegistry.register(_),_});if(i.length===0){let o=this._meterProviderSharedState.selectAggregations(e.type).map(([u,c])=>{let _=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(u,e);if(_!=null)return _;let l=c.createAggregator(e),d=new t(e,l,x8.AttributesProcessor.Noop());return this.metricStorageRegistry.registerForCollector(u,d),d});i=i.concat(o)}return i}};Kd.MeterSharedState=Nh});var pL=a($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.MeterProviderSharedState=void 0;var K8=_r(),$8=ky(),X8=EL(),Ih=class{constructor(e){this.resource=e,this.viewRegistry=new $8.ViewRegistry,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(e){let t=(0,K8.instrumentationScopeId)(e),n=this.meterSharedStates.get(t);return n==null&&(n=new X8.MeterSharedState(this,e),this.meterSharedStates.set(t,n)),n}selectAggregations(e){let t=[];for(let n of this.metricCollectors)t.push([n,n.selectAggregation(e)]);return t}};$d.MeterProviderSharedState=Ih});var fL=a(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.MetricCollector=void 0;var Y8=Et(),W8=_r(),bh=class{constructor(e,t){this._sharedState=e,this._metricReader=t}async collect(e){let t=(0,Y8.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(s=>s.collect(this,t,e)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(s=>s.scopeMetrics)},errors:(0,W8.FlatMap)(i,s=>s.errors)}}async forceFlush(e){await this._metricReader.forceFlush(e)}async shutdown(e){await this._metricReader.shutdown(e)}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}};Xd.MetricCollector=bh});var TL=a(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.MeterProvider=void 0;var Yd=f(),k8=QS(),z8=pL(),Q8=fL(),vh=class{constructor(e){var t;if(this._shutdown=!1,this._sharedState=new z8.MeterProviderSharedState((t=e==null?void 0:e.resource)!==null&&t!==void 0?t:k8.Resource.empty()),(e==null?void 0:e.views)!=null&&e.views.length>0)for(let n of e.views)this._sharedState.viewRegistry.addView(n)}getMeter(e,t="",n={}){return this._shutdown?(Yd.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,Yd.createNoopMeter)()):this._sharedState.getMeterSharedState({name:e,version:t,schemaUrl:n.schemaUrl}).meter}addMetricReader(e){let t=new Q8.MetricCollector(this._sharedState,e);e.setMetricProducer(t),this._sharedState.metricCollectors.push(t)}async shutdown(e){if(this._shutdown){Yd.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(t=>t.shutdown(e)))}async forceFlush(e){if(this._shutdown){Yd.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(t=>t.forceFlush(e)))}};Wd.MeterProvider=vh});var kd=a(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.ExactPredicate=bs.PatternPredicate=void 0;var Z8=/[\^$\\.+?()[\]{}|]/g,ma=class{constructor(e){e==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(ma.escapePattern(e)))}match(e){return this._matchAll?!0:this._regexp.test(e)}static escapePattern(e){return`^${e.replace(Z8,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}};bs.PatternPredicate=ma;var Ch=class{constructor(e){this._matchAll=e===void 0,this._pattern=e}match(e){return!!(this._matchAll||e===this._pattern)}};bs.ExactPredicate=Ch});var AL=a(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.InstrumentSelector=void 0;var J8=kd(),Mh=class{constructor(e){var t;this._nameFilter=new J8.PatternPredicate((t=e==null?void 0:e.name)!==null&&t!==void 0?t:"*"),this._type=e==null?void 0:e.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};zd.InstrumentSelector=Mh});var SL=a(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.MeterSelector=void 0;var yh=kd(),Lh=class{constructor(e){this._nameFilter=new yh.ExactPredicate(e==null?void 0:e.name),this._versionFilter=new yh.ExactPredicate(e==null?void 0:e.version),this._schemaUrlFilter=new yh.ExactPredicate(e==null?void 0:e.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Qd.MeterSelector=Lh});var gL=a(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.View=void 0;var e3=kd(),hL=Ph(),t3=AL(),r3=SL(),n3=Ed();function i3(r){return r.instrumentName==null&&r.instrumentType==null&&r.meterName==null&&r.meterVersion==null&&r.meterSchemaUrl==null}var Dh=class{constructor(e){var t;if(i3(e))throw new Error("Cannot create view with no selector arguments supplied");if(e.name!=null&&((e==null?void 0:e.instrumentName)==null||e3.PatternPredicate.hasWildcard(e.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");e.attributeKeys!=null?this.attributesProcessor=new hL.FilteringAttributesProcessor(e.attributeKeys):this.attributesProcessor=hL.AttributesProcessor.Noop(),this.name=e.name,this.description=e.description,this.aggregation=(t=e.aggregation)!==null&&t!==void 0?t:n3.Aggregation.Default(),this.instrumentSelector=new t3.InstrumentSelector({name:e.instrumentName,type:e.instrumentType}),this.meterSelector=new r3.MeterSelector({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl})}};Zd.View=Dh});var OL=a(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.TimeoutError=q.View=q.Aggregation=q.SumAggregation=q.LastValueAggregation=q.HistogramAggregation=q.DropAggregation=q.ExplicitBucketHistogramAggregation=q.DefaultAggregation=q.MeterProvider=q.InstrumentType=q.ConsoleMetricExporter=q.InMemoryMetricExporter=q.PeriodicExportingMetricReader=q.MetricReader=q.DataPointType=q.AggregationTemporality=void 0;var s3=ca();Object.defineProperty(q,"AggregationTemporality",{enumerable:!0,get:function(){return s3.AggregationTemporality}});var o3=la();Object.defineProperty(q,"DataPointType",{enumerable:!0,get:function(){return o3.DataPointType}});var a3=HS();Object.defineProperty(q,"MetricReader",{enumerable:!0,get:function(){return a3.MetricReader}});var u3=Iy();Object.defineProperty(q,"PeriodicExportingMetricReader",{enumerable:!0,get:function(){return u3.PeriodicExportingMetricReader}});var c3=vy();Object.defineProperty(q,"InMemoryMetricExporter",{enumerable:!0,get:function(){return c3.InMemoryMetricExporter}});var _3=My();Object.defineProperty(q,"ConsoleMetricExporter",{enumerable:!0,get:function(){return _3.ConsoleMetricExporter}});var l3=Wr();Object.defineProperty(q,"InstrumentType",{enumerable:!0,get:function(){return l3.InstrumentType}});var d3=TL();Object.defineProperty(q,"MeterProvider",{enumerable:!0,get:function(){return d3.MeterProvider}});var di=Ed();Object.defineProperty(q,"DefaultAggregation",{enumerable:!0,get:function(){return di.DefaultAggregation}});Object.defineProperty(q,"ExplicitBucketHistogramAggregation",{enumerable:!0,get:function(){return di.ExplicitBucketHistogramAggregation}});Object.defineProperty(q,"DropAggregation",{enumerable:!0,get:function(){return di.DropAggregation}});Object.defineProperty(q,"HistogramAggregation",{enumerable:!0,get:function(){return di.HistogramAggregation}});Object.defineProperty(q,"LastValueAggregation",{enumerable:!0,get:function(){return di.LastValueAggregation}});Object.defineProperty(q,"SumAggregation",{enumerable:!0,get:function(){return di.SumAggregation}});Object.defineProperty(q,"Aggregation",{enumerable:!0,get:function(){return di.Aggregation}});var E3=gL();Object.defineProperty(q,"View",{enumerable:!0,get:function(){return E3.View}});var p3=_r();Object.defineProperty(q,"TimeoutError",{enumerable:!0,get:function(){return p3.TimeoutError}})});var IL=a(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.toMetric=Qr.toScopeMetrics=Qr.toResourceMetrics=void 0;var mL=f(),Jd=Et(),Ra=OL(),wh=ud();function f3(r){return{resource:{attributes:(0,wh.toAttributes)(r.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:PL(r.scopeMetrics)}}Qr.toResourceMetrics=f3;function PL(r){return Array.from(r.map(e=>({scope:{name:e.scope.name,version:e.scope.version},metrics:e.metrics.map(n=>NL(n)),schemaUrl:e.scope.schemaUrl})))}Qr.toScopeMetrics=PL;function NL(r){let e={name:r.descriptor.name,description:r.descriptor.description,unit:r.descriptor.unit},t=S3(r.aggregationTemporality);return r.dataPointType===Ra.DataPointType.SUM?e.sum={aggregationTemporality:t,isMonotonic:r.isMonotonic,dataPoints:RL(r)}:r.dataPointType===Ra.DataPointType.GAUGE?e.gauge={dataPoints:RL(r)}:r.dataPointType===Ra.DataPointType.HISTOGRAM&&(e.histogram={aggregationTemporality:t,dataPoints:A3(r)}),e}Qr.toMetric=NL;function T3(r,e){let t={attributes:(0,wh.toAttributes)(r.attributes),startTimeUnixNano:(0,Jd.hrTimeToNanoseconds)(r.startTime),timeUnixNano:(0,Jd.hrTimeToNanoseconds)(r.endTime)};return e===mL.ValueType.INT?t.asInt=r.value:e===mL.ValueType.DOUBLE&&(t.asDouble=r.value),t}function RL(r){return r.dataPoints.map(e=>T3(e,r.descriptor.valueType))}function A3(r){return r.dataPoints.map(e=>{let t=e.value;return{attributes:(0,wh.toAttributes)(e.attributes),bucketCounts:t.buckets.counts,explicitBounds:t.buckets.boundaries,count:t.count,sum:t.sum,min:t.min,max:t.max,startTimeUnixNano:(0,Jd.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,Jd.hrTimeToNanoseconds)(e.endTime)}})}function S3(r){return r===Ra.AggregationTemporality.DELTA?1:r===Ra.AggregationTemporality.CUMULATIVE?2:0}});var bL=a(eE=>{"use strict";Object.defineProperty(eE,"__esModule",{value:!0});eE.createExportMetricsServiceRequest=void 0;var h3=IL();function g3(r){return{resourceMetrics:r.map(e=>(0,h3.toResourceMetrics)(e))}}eE.createExportMetricsServiceRequest=g3});var vL=a(it=>{"use strict";var O3=it&&it.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),tE=it&&it.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&O3(e,r,t)};Object.defineProperty(it,"__esModule",{value:!0});it.createExportMetricsServiceRequest=it.createExportTraceServiceRequest=void 0;tE(ty(),it);tE(ny(),it);tE(sy(),it);tE(oy(),it);var m3=_y();Object.defineProperty(it,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return m3.createExportTraceServiceRequest}});var R3=bL();Object.defineProperty(it,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return R3.createExportMetricsServiceRequest}})});var yL=a(rE=>{"use strict";Object.defineProperty(rE,"__esModule",{value:!0});rE.OTLPTraceExporter=void 0;var vs=Et(),P3=CS(),CL=CS(),N3=vL(),ML="v1/traces",I3=`http://localhost:4318/${ML}`,Uh=class extends P3.OTLPExporterNodeBase{constructor(e={}){super(e),this.headers=Object.assign(this.headers,vs.baggageUtils.parseKeyPairsIntoRecord((0,vs.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(e){return(0,N3.createExportTraceServiceRequest)(e,!0)}getDefaultUrl(e){return typeof e.url=="string"?e.url:(0,vs.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,CL.appendRootPathToUrlIfNeeded)((0,vs.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,vs.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,CL.appendResourcePathToUrl)((0,vs.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,ML):I3}};rE.OTLPTraceExporter=Uh});var LL=a(Ei=>{"use strict";var b3=Ei&&Ei.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),v3=Ei&&Ei.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&b3(e,r,t)};Object.defineProperty(Ei,"__esModule",{value:!0});v3(yL(),Ei)});var DL=a(pi=>{"use strict";var C3=pi&&pi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),M3=pi&&pi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&C3(e,r,t)};Object.defineProperty(pi,"__esModule",{value:!0});M3(LL(),pi)});var wL=a(fi=>{"use strict";var y3=fi&&fi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),L3=fi&&fi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&y3(e,r,t)};Object.defineProperty(fi,"__esModule",{value:!0});L3(DL(),fi)});var Bh=a(nE=>{"use strict";Object.defineProperty(nE,"__esModule",{value:!0});nE.AbstractAsyncHooksContextManager=void 0;var D3=require("events"),w3=["addListener","on","once","prependListener","prependOnceListener"],Gh=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,t){return t instanceof D3.EventEmitter?this._bindEventEmitter(e,t):typeof t=="function"?this._bindFunction(e,t):t}_bindFunction(e,t){let n=this,i=function(...s){return n.with(e,()=>t.apply(this,s))};return Object.defineProperty(i,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),i}_bindEventEmitter(e,t){return this._getPatchMap(t)!==void 0||(this._createPatchMap(t),w3.forEach(i=>{t[i]!==void 0&&(t[i]=this._patchAddListener(t,t[i],e))}),typeof t.removeListener=="function"&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),typeof t.off=="function"&&(t.off=this._patchRemoveListener(t,t.off)),typeof t.removeAllListeners=="function"&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){let n=this;return function(i,s){var o;let u=(o=n._getPatchMap(e))===null||o===void 0?void 0:o[i];if(u===void 0)return t.call(this,i,s);let c=u.get(s);return t.call(this,i,c||s)}}_patchRemoveAllListeners(e,t){let n=this;return function(i){let s=n._getPatchMap(e);return s!==void 0&&(arguments.length===0?n._createPatchMap(e):s[i]!==void 0&&delete s[i]),t.apply(this,arguments)}}_patchAddListener(e,t,n){let i=this;return function(s,o){if(i._wrapped)return t.call(this,s,o);let u=i._getPatchMap(e);u===void 0&&(u=i._createPatchMap(e));let c=u[s];c===void 0&&(c=new WeakMap,u[s]=c);let _=i.bind(n,o);c.set(o,_),i._wrapped=!0;try{return t.call(this,s,_)}finally{i._wrapped=!1}}}_createPatchMap(e){let t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}};nE.AbstractAsyncHooksContextManager=Gh});var UL=a(iE=>{"use strict";Object.defineProperty(iE,"__esModule",{value:!0});iE.AsyncHooksContextManager=void 0;var U3=f(),G3=require("async_hooks"),B3=Bh(),qh=class extends B3.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=G3.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return(e=this._stack[this._stack.length-1])!==null&&e!==void 0?e:U3.ROOT_CONTEXT}with(e,t,n,...i){this._enterContext(e);try{return t.call(n,...i)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if(t==="TIMERWRAP")return;let n=this._stack[this._stack.length-1];n!==void 0&&this._contexts.set(e,n)}_destroy(e){this._contexts.delete(e)}_before(e){let t=this._contexts.get(e);t!==void 0&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}};iE.AsyncHooksContextManager=qh});var GL=a(sE=>{"use strict";Object.defineProperty(sE,"__esModule",{value:!0});sE.AsyncLocalStorageContextManager=void 0;var q3=f(),j3=require("async_hooks"),V3=Bh(),jh=class extends V3.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new j3.AsyncLocalStorage}active(){var e;return(e=this._asyncLocalStorage.getStore())!==null&&e!==void 0?e:q3.ROOT_CONTEXT}with(e,t,n,...i){let s=n==null?t:t.bind(n);return this._asyncLocalStorage.run(e,s,...i)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};sE.AsyncLocalStorageContextManager=jh});var qL=a(Zr=>{"use strict";var H3=Zr&&Zr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),BL=Zr&&Zr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&H3(e,r,t)};Object.defineProperty(Zr,"__esModule",{value:!0});BL(UL(),Zr);BL(GL(),Zr)});var Vh=a(oE=>{"use strict";Object.defineProperty(oE,"__esModule",{value:!0});oE.B3_DEBUG_FLAG_KEY=void 0;var F3=f();oE.B3_DEBUG_FLAG_KEY=(0,F3.createContextKey)("OpenTelemetry Context Key B3 Debug Flag")});var Pa=a(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.X_B3_FLAGS=st.X_B3_PARENT_SPAN_ID=st.X_B3_SAMPLED=st.X_B3_SPAN_ID=st.X_B3_TRACE_ID=st.B3_CONTEXT_HEADER=void 0;st.B3_CONTEXT_HEADER="b3";st.X_B3_TRACE_ID="x-b3-traceid";st.X_B3_SPAN_ID="x-b3-spanid";st.X_B3_SAMPLED="x-b3-sampled";st.X_B3_PARENT_SPAN_ID="x-b3-parentspanid";st.X_B3_FLAGS="x-b3-flags"});var HL=a(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});uE.B3MultiPropagator=void 0;var Gt=f(),x3=Se(),jL=Vh(),ft=Pa(),K3=new Set([!0,"true","True","1",1]),$3=new Set([!1,"false","False","0",0]);function X3(r){return r===Gt.TraceFlags.SAMPLED||r===Gt.TraceFlags.NONE}function Y3(r){return Array.isArray(r)?r[0]:r}function aE(r,e,t){let n=e.get(r,t);return Y3(n)}function W3(r,e){let t=aE(r,e,ft.X_B3_TRACE_ID);return typeof t=="string"?t.padStart(32,"0"):""}function k3(r,e){let t=aE(r,e,ft.X_B3_SPAN_ID);return typeof t=="string"?t:""}function VL(r,e){return aE(r,e,ft.X_B3_FLAGS)==="1"?"1":void 0}function z3(r,e){let t=aE(r,e,ft.X_B3_SAMPLED);if(VL(r,e)==="1"||K3.has(t))return Gt.TraceFlags.SAMPLED;if(t===void 0||$3.has(t))return Gt.TraceFlags.NONE}var Hh=class{inject(e,t,n){let i=Gt.trace.getSpanContext(e);if(!i||!(0,Gt.isSpanContextValid)(i)||(0,x3.isTracingSuppressed)(e))return;let s=e.getValue(jL.B3_DEBUG_FLAG_KEY);n.set(t,ft.X_B3_TRACE_ID,i.traceId),n.set(t,ft.X_B3_SPAN_ID,i.spanId),s==="1"?n.set(t,ft.X_B3_FLAGS,s):i.traceFlags!==void 0&&n.set(t,ft.X_B3_SAMPLED,(Gt.TraceFlags.SAMPLED&i.traceFlags)===Gt.TraceFlags.SAMPLED?"1":"0")}extract(e,t,n){let i=W3(t,n),s=k3(t,n),o=z3(t,n),u=VL(t,n);return(0,Gt.isValidTraceId)(i)&&(0,Gt.isValidSpanId)(s)&&X3(o)?(e=e.setValue(jL.B3_DEBUG_FLAG_KEY,u),Gt.trace.setSpanContext(e,{traceId:i,spanId:s,isRemote:!0,traceFlags:o})):e}fields(){return[ft.X_B3_TRACE_ID,ft.X_B3_SPAN_ID,ft.X_B3_FLAGS,ft.X_B3_SAMPLED,ft.X_B3_PARENT_SPAN_ID]}};uE.B3MultiPropagator=Hh});var xL=a(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0});cE.B3SinglePropagator=void 0;var Ti=f(),Q3=Se(),FL=Vh(),Fh=Pa(),Z3=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,J3="0".repeat(16),ek=new Set(["d","1"]),tk="d";function rk(r){return r.length===32?r:`${J3}${r}`}function nk(r){return r&&ek.has(r)?Ti.TraceFlags.SAMPLED:Ti.TraceFlags.NONE}var xh=class{inject(e,t,n){let i=Ti.trace.getSpanContext(e);if(!i||!(0,Ti.isSpanContextValid)(i)||(0,Q3.isTracingSuppressed)(e))return;let s=e.getValue(FL.B3_DEBUG_FLAG_KEY)||i.traceFlags&1,o=`${i.traceId}-${i.spanId}-${s}`;n.set(t,Fh.B3_CONTEXT_HEADER,o)}extract(e,t,n){let i=n.get(t,Fh.B3_CONTEXT_HEADER),s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;let o=s.match(Z3);if(!o)return e;let[,u,c,_]=o,l=rk(u);if(!(0,Ti.isValidTraceId)(l)||!(0,Ti.isValidSpanId)(c))return e;let d=nk(_);return _===tk&&(e=e.setValue(FL.B3_DEBUG_FLAG_KEY,_)),Ti.trace.setSpanContext(e,{traceId:l,spanId:c,isRemote:!0,traceFlags:d})}fields(){return[Fh.B3_CONTEXT_HEADER]}};cE.B3SinglePropagator=xh});var Kh=a(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.B3InjectEncoding=void 0;var ik;(function(r){r[r.SINGLE_HEADER=0]="SINGLE_HEADER",r[r.MULTI_HEADER=1]="MULTI_HEADER"})(ik=Na.B3InjectEncoding||(Na.B3InjectEncoding={}))});var KL=a(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0});_E.B3Propagator=void 0;var sk=Se(),ok=HL(),ak=xL(),uk=Pa(),ck=Kh(),$h=class{constructor(e={}){this._b3MultiPropagator=new ok.B3MultiPropagator,this._b3SinglePropagator=new ak.B3SinglePropagator,e.injectEncoding===ck.B3InjectEncoding.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}inject(e,t,n){(0,sk.isTracingSuppressed)(e)||this._inject(e,t,n)}extract(e,t,n){let i=n.get(t,uk.B3_CONTEXT_HEADER);return(Array.isArray(i)?i[0]:i)?this._b3SinglePropagator.extract(e,t,n):this._b3MultiPropagator.extract(e,t,n)}fields(){return this._fields}};_E.B3Propagator=$h});var $L=a(Tr=>{"use strict";var _k=Tr&&Tr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Xh=Tr&&Tr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&_k(e,r,t)};Object.defineProperty(Tr,"__esModule",{value:!0});Xh(KL(),Tr);Xh(Pa(),Tr);Xh(Kh(),Tr)});var XL=a(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.JaegerPropagator=Bt.UBER_BAGGAGE_HEADER_PREFIX=Bt.UBER_TRACE_ID_HEADER=void 0;var Ai=f(),lk=Se();Bt.UBER_TRACE_ID_HEADER="uber-trace-id";Bt.UBER_BAGGAGE_HEADER_PREFIX="uberctx";var Yh=class{constructor(e){typeof e=="string"?(this._jaegerTraceHeader=e,this._jaegerBaggageHeaderPrefix=Bt.UBER_BAGGAGE_HEADER_PREFIX):(this._jaegerTraceHeader=(e==null?void 0:e.customTraceHeader)||Bt.UBER_TRACE_ID_HEADER,this._jaegerBaggageHeaderPrefix=(e==null?void 0:e.customBaggageHeaderPrefix)||Bt.UBER_BAGGAGE_HEADER_PREFIX)}inject(e,t,n){let i=Ai.trace.getSpanContext(e),s=Ai.propagation.getBaggage(e);if(i&&(0,lk.isTracingSuppressed)(e)===!1){let o=`0${(i.traceFlags||Ai.TraceFlags.NONE).toString(16)}`;n.set(t,this._jaegerTraceHeader,`${i.traceId}:${i.spanId}:0:${o}`)}if(s)for(let[o,u]of s.getAllEntries())n.set(t,`${this._jaegerBaggageHeaderPrefix}-${o}`,encodeURIComponent(u.value))}extract(e,t,n){var i;let s=n.get(t,this._jaegerTraceHeader),o=Array.isArray(s)?s[0]:s,u=n.keys(t).filter(l=>l.startsWith(`${this._jaegerBaggageHeaderPrefix}-`)).map(l=>{let d=n.get(t,l);return{key:l.substring(this._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(d)?d[0]:d}}),c=e;if(typeof o=="string"){let l=dk(o);l&&(c=Ai.trace.setSpanContext(c,l))}if(u.length===0)return c;let _=(i=Ai.propagation.getBaggage(e))!==null&&i!==void 0?i:Ai.propagation.createBaggage();for(let l of u)l.value!==void 0&&(_=_.setEntry(l.key,{value:decodeURIComponent(l.value)}));return c=Ai.propagation.setBaggage(c,_),c}fields(){return[this._jaegerTraceHeader]}};Bt.JaegerPropagator=Yh;function dk(r){let e=decodeURIComponent(r).split(":");if(e.length!==4)return null;let[t,n,,i]=e,s=t.padStart(32,"0"),o=n.padStart(16,"0"),u=i.match(/^[0-9a-f]{1,2}$/i)?parseInt(i,16)&1:1;return{traceId:s,spanId:o,isRemote:!0,traceFlags:u}}});var YL=a(Si=>{"use strict";var Ek=Si&&Si.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pk=Si&&Si.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ek(e,r,t)};Object.defineProperty(Si,"__esModule",{value:!0});pk(XL(),Si)});var zL=a(EE=>{"use strict";Object.defineProperty(EE,"__esModule",{value:!0});EE.NodeTracerProvider=void 0;var WL=qL(),lE=$L(),kL=Ho(),fk=go(),Tk=YL(),dE=class extends kL.BasicTracerProvider{constructor(e={}){super(e)}register(e={}){if(e.contextManager===void 0){let t=fk.gte(process.version,"14.8.0")?WL.AsyncLocalStorageContextManager:WL.AsyncHooksContextManager;e.contextManager=new t,e.contextManager.enable()}super.register(e)}};EE.NodeTracerProvider=dE;dE._registeredPropagators=new Map([...kL.BasicTracerProvider._registeredPropagators,["b3",()=>new lE.B3Propagator({injectEncoding:lE.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new lE.B3Propagator({injectEncoding:lE.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new Tk.JaegerPropagator]])});var ZL=a(Jr=>{"use strict";var Ak=Jr&&Jr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),QL=Jr&&Jr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ak(e,r,t)};Object.defineProperty(Jr,"__esModule",{value:!0});QL(zL(),Jr);QL(Ho(),Jr)});var Wh=a(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=L.NOOP_OBSERVABLE_GAUGE_METRIC=L.NOOP_OBSERVABLE_COUNTER_METRIC=L.NOOP_UP_DOWN_COUNTER_METRIC=L.NOOP_HISTOGRAM_METRIC=L.NOOP_COUNTER_METRIC=L.NOOP_METER=L.NoopObservableUpDownCounterMetric=L.NoopObservableGaugeMetric=L.NoopObservableCounterMetric=L.NoopObservableMetric=L.NoopHistogramMetric=L.NoopUpDownCounterMetric=L.NoopCounterMetric=L.NoopMetric=L.NoopMeter=void 0;var pE=class{constructor(){}createHistogram(e,t){return L.NOOP_HISTOGRAM_METRIC}createCounter(e,t){return L.NOOP_COUNTER_METRIC}createUpDownCounter(e,t){return L.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,t){return L.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,t){return L.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,t){return L.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}};L.NoopMeter=pE;var Cs=class{};L.NoopMetric=Cs;var fE=class extends Cs{add(e,t){}};L.NoopCounterMetric=fE;var TE=class extends Cs{add(e,t){}};L.NoopUpDownCounterMetric=TE;var AE=class extends Cs{record(e,t){}};L.NoopHistogramMetric=AE;var Ms=class{addCallback(e){}removeCallback(e){}};L.NoopObservableMetric=Ms;var SE=class extends Ms{};L.NoopObservableCounterMetric=SE;var hE=class extends Ms{};L.NoopObservableGaugeMetric=hE;var gE=class extends Ms{};L.NoopObservableUpDownCounterMetric=gE;L.NOOP_METER=new pE;L.NOOP_COUNTER_METRIC=new fE;L.NOOP_HISTOGRAM_METRIC=new AE;L.NOOP_UP_DOWN_COUNTER_METRIC=new TE;L.NOOP_OBSERVABLE_COUNTER_METRIC=new SE;L.NOOP_OBSERVABLE_GAUGE_METRIC=new hE;L.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new gE});var kh=a(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.NOOP_METER_PROVIDER=ys.NoopMeterProvider=void 0;var Sk=Wh(),OE=class{getMeter(e,t,n){return Sk.NOOP_METER}};ys.NoopMeterProvider=OE;ys.NOOP_METER_PROVIDER=new OE});var eD=a(JL=>{"use strict";Object.defineProperty(JL,"__esModule",{value:!0})});var rD=a(tD=>{"use strict";Object.defineProperty(tD,"__esModule",{value:!0})});var nD=a(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.ValueType=void 0;var hk;(function(r){r[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"})(hk=Ia.ValueType||(Ia.ValueType={}))});var sD=a(iD=>{"use strict";Object.defineProperty(iD,"__esModule",{value:!0})});var oD=a(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0});mE._globalThis=void 0;mE._globalThis=typeof globalThis=="object"?globalThis:global});var aD=a(hi=>{"use strict";var gk=hi&&hi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ok=hi&&hi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&gk(e,r,t)};Object.defineProperty(hi,"__esModule",{value:!0});Ok(oD(),hi)});var uD=a(gi=>{"use strict";var mk=gi&&gi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Rk=gi&&gi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&mk(e,r,t)};Object.defineProperty(gi,"__esModule",{value:!0});Rk(aD(),gi)});var cD=a(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.API_BACKWARDS_COMPATIBILITY_VERSION=Zt.makeGetter=Zt._global=Zt.GLOBAL_METRICS_API_KEY=void 0;var Pk=uD();Zt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");Zt._global=Pk._globalThis;function Nk(r,e,t){return n=>n===r?e:t}Zt.makeGetter=Nk;Zt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var lD=a(RE=>{"use strict";Object.defineProperty(RE,"__esModule",{value:!0});RE.MetricsAPI=void 0;var _D=kh(),Pt=cD(),ba=class{constructor(){}static getInstance(){return this._instance||(this._instance=new ba),this._instance}setGlobalMeterProvider(e){return Pt._global[Pt.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(Pt._global[Pt.GLOBAL_METRICS_API_KEY]=(0,Pt.makeGetter)(Pt.API_BACKWARDS_COMPATIBILITY_VERSION,e,_D.NOOP_METER_PROVIDER),e)}getMeterProvider(){var e,t;return(t=(e=Pt._global[Pt.GLOBAL_METRICS_API_KEY])===null||e===void 0?void 0:e.call(Pt._global,Pt.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&t!==void 0?t:_D.NOOP_METER_PROVIDER}getMeter(e,t,n){return this.getMeterProvider().getMeter(e,t,n)}disable(){delete Pt._global[Pt.GLOBAL_METRICS_API_KEY]}};RE.MetricsAPI=ba});var zh=a(ot=>{"use strict";var Ik=ot&&ot.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ls=ot&&ot.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ik(e,r,t)};Object.defineProperty(ot,"__esModule",{value:!0});ot.metrics=void 0;Ls(Wh(),ot);Ls(kh(),ot);Ls(eD(),ot);Ls(rD(),ot);Ls(nD(),ot);Ls(sD(),ot);var bk=lD();ot.metrics=bk.MetricsAPI.getInstance()});var ED=a(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.disableInstrumentations=en.enableInstrumentations=en.parseInstrumentationOptions=void 0;function dD(r=[]){let e=[];for(let t=0,n=r.length;t<n;t++){let i=r[t];if(Array.isArray(i)){let s=dD(i);e=e.concat(s.instrumentations)}else typeof i=="function"?e.push(new i):i.instrumentationName&&e.push(i)}return{instrumentations:e}}en.parseInstrumentationOptions=dD;function vk(r,e,t){for(let n=0,i=r.length;n<i;n++){let s=r[n];e&&s.setTracerProvider(e),t&&s.setMeterProvider(t),s.getConfig().enabled||s.enable()}}en.enableInstrumentations=vk;function Ck(r){r.forEach(e=>e.disable())}en.disableInstrumentations=Ck});var pD=a(PE=>{"use strict";Object.defineProperty(PE,"__esModule",{value:!0});PE.registerInstrumentations=void 0;var Mk=f(),yk=zh(),Qh=ED();function Lk(r){let{instrumentations:e}=(0,Qh.parseInstrumentationOptions)(r.instrumentations),t=r.tracerProvider||Mk.trace.getTracerProvider(),n=r.meterProvider||yk.metrics.getMeterProvider();return(0,Qh.enableInstrumentations)(e,t,n),()=>{(0,Qh.disableInstrumentations)(e)}}PE.registerInstrumentations=Lk});var TD=a(IE=>{"use strict";Object.defineProperty(IE,"__esModule",{value:!0});IE.InstrumentationAbstract=void 0;var fD=f(),Dk=zh(),NE=Of(),Zh=class{constructor(e,t,n={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=NE.wrap,this._unwrap=NE.unwrap,this._massWrap=NE.massWrap,this._massUnwrap=NE.massUnwrap,this._config=Object.assign({enabled:!0},n),this._diag=fD.diag.createComponentLogger({namespace:e}),this._tracer=fD.trace.getTracer(e,t),this._meter=Dk.metrics.getMeter(e,t)}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion)}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}};IE.InstrumentationAbstract=Zh});var hD=a(bE=>{"use strict";Object.defineProperty(bE,"__esModule",{value:!0});bE.InstrumentationBase=void 0;var wk=require("path"),Uk=Uf(),Gk=go(),Bk=TD(),AD=f(),Jh=class extends Bk.InstrumentationAbstract{constructor(e,t,n={}){super(e,t,n),this._hooks=[],this._enabled=!1;let i=this.init();i&&!Array.isArray(i)&&(i=[i]),this._modules=i||[],this._modules.length===0&&AD.diag.warn("No modules instrumentation has been defined, nothing will be patched"),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let n=require.resolve(t);require.cache[n]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=require(wk.join(e,"package.json")).version;return typeof t=="string"?t:void 0}catch{AD.diag.warn("Failed extracting version",e)}}_onRequire(e,t,n,i){var s;if(!i)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t):t;let o=this._extractPackageVersion(i);return e.moduleVersion=o,e.name===n?SD(e.supportedVersions,o,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t,e.moduleVersion):t:((s=e.files)!==null&&s!==void 0?s:[]).filter(_=>_.name===n).filter(_=>SD(_.supportedVersions,o,e.includePrerelease)).reduce((_,l)=>(l.moduleExports=_,this._enabled?l.patch(_,e.moduleVersion):_),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&e.patch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.patch(t.moduleExports,e.moduleVersion)}return}this._warnOnPreloadedModules();for(let e of this._modules)this._hooks.push(Uk([e.name],{internals:!0},(t,n,i)=>this._onRequire(e,t,n,i)))}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&e.unpatch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.unpatch(t.moduleExports,e.moduleVersion)}}}isEnabled(){return this._enabled}};bE.InstrumentationBase=Jh;function SD(r,e,t){return typeof e>"u"?r.includes("*"):r.some(n=>(0,Gk.satisfies)(e,n,{includePrerelease:t}))}});var gD=a(vE=>{"use strict";Object.defineProperty(vE,"__esModule",{value:!0});vE.InstrumentationNodeModuleDefinition=void 0;var eg=class{constructor(e,t,n,i,s){this.name=e,this.supportedVersions=t,this.patch=n,this.unpatch=i,this.files=s||[]}};vE.InstrumentationNodeModuleDefinition=eg});var OD=a(CE=>{"use strict";Object.defineProperty(CE,"__esModule",{value:!0});CE.InstrumentationNodeModuleFile=void 0;var qk=require("path"),tg=class{constructor(e,t,n,i){this.supportedVersions=t,this.patch=n,this.unpatch=i,this.name=(0,qk.normalize)(e)}};CE.InstrumentationNodeModuleFile=tg});var RD=a(mD=>{"use strict";Object.defineProperty(mD,"__esModule",{value:!0})});var PD=a(Jt=>{"use strict";var jk=Jt&&Jt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ME=Jt&&Jt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&jk(e,r,t)};Object.defineProperty(Jt,"__esModule",{value:!0});ME(hD(),Jt);ME(gD(),Jt);ME(OD(),Jt);ME(RD(),Jt)});var ND=a(Oi=>{"use strict";var Vk=Oi&&Oi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Hk=Oi&&Oi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Vk(e,r,t)};Object.defineProperty(Oi,"__esModule",{value:!0});Hk(PD(),Oi)});var bD=a(ID=>{"use strict";Object.defineProperty(ID,"__esModule",{value:!0})});var CD=a(vD=>{"use strict";Object.defineProperty(vD,"__esModule",{value:!0})});var MD=a(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.isWrapped=tn.safeExecuteInTheMiddleAsync=tn.safeExecuteInTheMiddle=void 0;function Fk(r,e,t){let n,i;try{i=r()}catch(s){n=s}finally{if(e(n,i),n&&!t)throw n;return i}}tn.safeExecuteInTheMiddle=Fk;async function xk(r,e,t){let n,i;try{i=await r()}catch(s){n=s}finally{if(e(n,i),n&&!t)throw n;return i}}tn.safeExecuteInTheMiddleAsync=xk;function Kk(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}tn.isWrapped=Kk});var yD=a(qt=>{"use strict";var $k=qt&&qt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),va=qt&&qt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$k(e,r,t)};Object.defineProperty(qt,"__esModule",{value:!0});va(pD(),qt);va(ND(),qt);va(bD(),qt);va(CD(),qt);va(MD(),qt)});var qD=a(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.AWSXRayPropagator=Ar.AWSXRAY_TRACE_ID_HEADER=void 0;var ce=f();Ar.AWSXRAY_TRACE_ID_HEADER="x-amzn-trace-id";var Xk=";",Yk="=",Wk="Root",LD=35,kk="1",DD="-",wD=1,rg=10,UD=8,zk="Parent",Qk="Sampled",GD="1",BD="0",mi=class{inject(e,t,n){var i;let s=(i=ce.trace.getSpan(e))===null||i===void 0?void 0:i.spanContext();if(!s||!ce.isSpanContextValid(s))return;let o=s.traceId,u=o.substring(0,UD),c=o.substring(UD),_=s.spanId,l=(ce.TraceFlags.SAMPLED&s.traceFlags)===ce.TraceFlags.SAMPLED?GD:BD,d=`Root=1-${u}-${c};Parent=${_};Sampled=${l}`;n.set(t,Ar.AWSXRAY_TRACE_ID_HEADER,d)}extract(e,t,n){let i=this.getSpanContextFromHeader(t,n);return ce.isSpanContextValid(i)?ce.trace.setSpan(e,ce.trace.wrapSpanContext(i)):e}fields(){return[Ar.AWSXRAY_TRACE_ID_HEADER]}getSpanContextFromHeader(e,t){let n=t.get(e,Ar.AWSXRAY_TRACE_ID_HEADER);if(!n||typeof n!="string")return ce.INVALID_SPAN_CONTEXT;let i=0,s,o=ce.INVALID_TRACEID,u=ce.INVALID_SPANID,c=null;for(;i<n.length;){let l=n.indexOf(Xk,i);l>=0?(s=n.substring(i,l).trim(),i=l+1):(s=n.substring(i).trim(),i=n.length);let d=s.indexOf(Yk),p=s.substring(d+1);s.startsWith(Wk)?o=mi._parseTraceId(p):s.startsWith(zk)?u=mi._parseSpanId(p):s.startsWith(Qk)&&(c=mi._parseTraceFlag(p))}if(c===null)return ce.INVALID_SPAN_CONTEXT;let _={traceId:o,spanId:u,traceFlags:c,isRemote:!0};return ce.isSpanContextValid(_)?_:ce.INVALID_SPAN_CONTEXT}static _parseTraceId(e){if(e.length!==LD||!e.startsWith(kk)||e.charAt(wD)!==DD||e.charAt(rg)!==DD)return ce.INVALID_TRACEID;let t=e.substring(wD+1,rg),n=e.substring(rg+1,LD),i=t+n;return ce.isValidTraceId(i)?i:ce.INVALID_TRACEID}static _parseSpanId(e){return ce.isValidSpanId(e)?e:ce.INVALID_SPANID}static _parseTraceFlag(e){return e===BD?ce.TraceFlags.NONE:e===GD?ce.TraceFlags.SAMPLED:null}};Ar.AWSXRayPropagator=mi});var jD=a(Ri=>{"use strict";var Zk=Ri&&Ri.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jk=Ri&&Ri.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zk(e,r,t)};Object.defineProperty(Ri,"__esModule",{value:!0});Jk(qD(),Ri)});var VD=a(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0});yE.VERSION=void 0;yE.VERSION="0.34.0"});var KD=a(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.AwsLambdaInstrumentation=Ni.traceContextEnvironmentKey=void 0;var HD=require("path"),rn=yD(),_e=f(),xD=jD(),ng=ge(),e6=VD(),t6=new xD.AWSXRayPropagator,FD={keys(r){return Object.keys(r)},get(r,e){return r[e]}};Ni.traceContextEnvironmentKey="_X_AMZN_TRACE_ID";var Pi=class extends rn.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-aws-lambda",e6.VERSION,e),this._config=e}setConfig(e={}){this._config=e}init(){let e=process.env.LAMBDA_TASK_ROOT,t=process.env._HANDLER;if(!e||!t)return[];let n=HD.basename(t),i=t.substr(0,t.length-n.length),[s,o]=n.split(".",2),u=HD.resolve(e,i,s);return u.endsWith(".js")||(u+=".js"),[new rn.InstrumentationNodeModuleDefinition(u,["*"],void 0,void 0,[new rn.InstrumentationNodeModuleFile(s,["*"],c=>(_e.diag.debug("Applying patch for lambda handler"),rn.isWrapped(c[o])&&this._unwrap(c,o),this._wrap(c,o,this._getHandler()),c),c=>{c!=null&&(_e.diag.debug("Removing patch for lambda handler"),this._unwrap(c,o))})])]}_getHandler(){return e=>this._getPatchHandler(e)}_getPatchHandler(e){_e.diag.debug("patch handler function");let t=this;return function(i,s,o){let u=t._config,c=Pi._determineParent(i,s,u.disableAwsContextPropagation===!0,u.eventContextExtractor||Pi._defaultEventContextExtractor),_=s.functionName,l=t.tracer.startSpan(_,{kind:_e.SpanKind.SERVER,attributes:{[ng.SemanticAttributes.FAAS_EXECUTION]:s.awsRequestId,[ng.SemanticResourceAttributes.FAAS_ID]:s.invokedFunctionArn,[ng.SemanticResourceAttributes.CLOUD_ACCOUNT_ID]:Pi._extractAccountId(s.invokedFunctionArn)}},c);return u.requestHook&&rn.safeExecuteInTheMiddle(()=>u.requestHook(l,{event:i,context:s}),d=>{d&&_e.diag.error("aws-lambda instrumentation: requestHook error",d)},!0),_e.context.with(_e.trace.setSpan(c,l),()=>{let d=t._wrapCallback(o,l),p=rn.safeExecuteInTheMiddle(()=>e.apply(this,[i,s,d]),E=>{E!=null&&(t._applyResponseHook(l,E),t._endSpan(l,E,()=>{}))});return typeof(p==null?void 0:p.then)=="function"?p.then(E=>(t._applyResponseHook(l,null,E),new Promise(O=>t._endSpan(l,void 0,()=>O(E)))),E=>(t._applyResponseHook(l,E),new Promise((O,R)=>t._endSpan(l,E,()=>R(E))))):p})}}setTracerProvider(e){super.setTracerProvider(e),this._forceFlush=this._getForceFlush(e)}_getForceFlush(e){if(!e)return;let t=e;if(typeof t.getDelegate=="function"&&(t=t.getDelegate()),typeof t.forceFlush=="function")return t.forceFlush.bind(t)}_wrapCallback(e,t){let n=this;return function(s,o){_e.diag.debug("executing wrapped lookup callback function"),n._applyResponseHook(t,s,o),n._endSpan(t,s,()=>(_e.diag.debug("executing original lookup callback function"),e.apply(this,[s,o])))}}_endSpan(e,t,n){t&&e.recordException(t);let i;typeof t=="string"?i=t:t&&(i=t.message),i&&e.setStatus({code:_e.SpanStatusCode.ERROR,message:i}),e.end(),this._forceFlush?this._forceFlush().then(()=>n(),()=>n()):(_e.diag.error("Spans may not be exported for the lambda function because we are not force flushing before callback."),n())}_applyResponseHook(e,t,n){var i;!((i=this._config)===null||i===void 0)&&i.responseHook&&rn.safeExecuteInTheMiddle(()=>this._config.responseHook(e,{err:t,res:n}),s=>{s&&_e.diag.error("aws-lambda instrumentation: responseHook error",s)},!0)}static _extractAccountId(e){let t=e.split(":");if(t.length>=5)return t[4]}static _defaultEventContextExtractor(e){let t=e.headers||{};return _e.propagation.extract(_e.context.active(),t,FD)}static _determineParent(e,t,n,i){var s,o;let u;if(!n){let _=process.env[Ni.traceContextEnvironmentKey];if(_&&(u=t6.extract(_e.context.active(),{[xD.AWSXRAY_TRACE_ID_HEADER]:_},FD)),u){let l=(s=_e.trace.getSpan(u))===null||s===void 0?void 0:s.spanContext();if(l&&(l.traceFlags&_e.TraceFlags.SAMPLED)===_e.TraceFlags.SAMPLED)return u}}let c=rn.safeExecuteInTheMiddle(()=>i(e,t),_=>{_&&_e.diag.error("aws-lambda instrumentation: eventContextExtractor error",_)},!0);return!((o=_e.trace.getSpan(c))===null||o===void 0)&&o.spanContext()?c:u||_e.ROOT_CONTEXT}};Ni.AwsLambdaInstrumentation=Pi});var XD=a($D=>{"use strict";Object.defineProperty($D,"__esModule",{value:!0})});var WD=a(nn=>{"use strict";var r6=nn&&nn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),YD=nn&&nn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&r6(e,r,t)};Object.defineProperty(nn,"__esModule",{value:!0});YD(KD(),nn);YD(XD(),nn)});var ig=a(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.AttributeNames=void 0;var n6;(function(r){r.AWS_ERROR="aws.error",r.AWS_OPERATION="aws.operation",r.AWS_REGION="aws.region",r.AWS_SERVICE_API="aws.service.api",r.AWS_SERVICE_NAME="aws.service.name",r.AWS_SERVICE_IDENTIFIER="aws.service.identifier",r.AWS_REQUEST_ID="aws.request.id",r.AWS_REQUEST_EXTENDED_ID="aws.request.extended_id",r.AWS_SIGNATURE_VERSION="aws.signature.version"})(n6=Ca.AttributeNames||(Ca.AttributeNames={}))});var QD=a(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});var ws=f(),Ma=Symbol("opentelemetry.pubsub-propagation.start_span"),Ds=Symbol("opentelemetry.pubsub-propagation.end_span"),i6=(r,e,t)=>{let n=r.filter;Object.defineProperty(r,"filter",{enumerable:!1,value:function(...s){let o=n.apply(this,s);return sg(o,e,t),o}})};function kD(r){var e;return typeof((e=r)===null||e===void 0?void 0:e.then)=="function"}var zD=(r,e,t,n)=>{let i=r[e];Object.defineProperty(r,e,{enumerable:!1,value:function(...o){let u=o[0],c=function(...l){var d;let p=l[0],E=(d=p==null?void 0:p[Ma])===null||d===void 0?void 0:d.call(p);if(!E)return u.apply(this,l);let O=ws.context.with(ws.trace.setSpan(n,E),()=>{var R;let C;try{if(C=u.apply(this,l),kD(C)){let P=()=>{var ae;return(ae=p[Ds])===null||ae===void 0?void 0:ae.call(p)};C.then(P,P)}return C}finally{kD(C)||(R=p[Ds])===null||R===void 0||R.call(p)}});if(typeof O=="object"){let R=Object.getOwnPropertyDescriptor(p,Ma);R&&Object.defineProperty(O,Ma,R);let C=Object.getOwnPropertyDescriptor(p,Ds);C&&Object.defineProperty(O,Ds,C)}return O};o[0]=c;let _=i.apply(this,o);return Array.isArray(_)&&sg(_,t,n),_}})},sg=(r,e,t=ws.context.active())=>{zD(r,"forEach",e,t),zD(r,"map",e,t),i6(r,e,t)},s6=(r,e,t,n,i,s,o)=>{let u=[],c=ws.trace.getSpanContext(i);c&&u.push({context:c});let _=`${e} process`,l=s.startSpan(_,{kind:ws.SpanKind.CONSUMER,attributes:Object.assign(Object.assign({},t),{["messaging.operation"]:"process"}),links:u},n);Object.defineProperty(r,Ma,{enumerable:!1,writable:!0,value:()=>l}),Object.defineProperty(r,Ds,{enumerable:!1,writable:!0,value:()=>{l.end(),Object.defineProperty(r,Ds,{enumerable:!1,writable:!0,value:()=>{}})}});try{o==null||o(l,r)}catch(d){ws.diag.error("opentelemetry-pubsub-propagation: process hook error",d)}return l},o6=({messages:r,tracer:e,parentContext:t,messageToSpanDetails:n,processHook:i})=>{r.forEach(s=>{let{attributes:o,name:u,parentContext:c}=n(s);Object.defineProperty(s,Ma,{enumerable:!1,writable:!0,value:()=>s6(s,u,o,t,c,e,i)})})};og.default={patchMessagesArrayToStartProcessSpans:o6,patchArrayForProcessSpans:sg}});var ZD=a(LE=>{"use strict";Object.defineProperty(LE,"__esModule",{value:!0});LE.pubsubPropagation=void 0;var a6=QD();Object.defineProperty(LE,"pubsubPropagation",{enumerable:!0,get:function(){return a6.default}})});var cg=a(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.addPropagationFieldsToAttributeNames=Ye.extractPropagationContext=Ye.injectPropagationContext=Ye.contextGetter=Ye.contextSetter=Ye.MAX_MESSAGE_ATTRIBUTES=void 0;var Us=f();Ye.MAX_MESSAGE_ATTRIBUTES=10;var ag=class{set(e,t,n){e[t]={DataType:"String",StringValue:n}}};Ye.contextSetter=new ag;var ug=class{keys(e){return Object.keys(e)}get(e,t){var n,i;return((n=e==null?void 0:e[t])===null||n===void 0?void 0:n.StringValue)||((i=e==null?void 0:e[t])===null||i===void 0?void 0:i.Value)}};Ye.contextGetter=new ug;var u6=r=>{let e=r??{};return Object.keys(e).length+Us.propagation.fields().length<=Ye.MAX_MESSAGE_ATTRIBUTES?Us.propagation.inject(Us.context.active(),e,Ye.contextSetter):Us.diag.warn("aws-sdk instrumentation: cannot set context propagation on SQS/SNS message due to maximum amount of MessageAttributes"),e};Ye.injectPropagationContext=u6;var c6=(r,e)=>{let t=Us.propagation.fields();if(Object.keys(r.MessageAttributes||[]).some(i=>t.includes(i)))return r.MessageAttributes;if(e&&r.Body)try{return JSON.parse(r.Body).MessageAttributes}catch{Us.diag.debug("failed to parse SQS payload to extract context propagation, trace might be incomplete.")}};Ye.extractPropagationContext=c6;var _6=(r=[],e)=>r.length?Array.from(new Set([...r,...e])):e;Ye.addPropagationFieldsToAttributeNames=_6});var e0=a(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0});DE.SqsServiceExtension=void 0;var Sr=f(),JD=ZD(),We=ge(),ya=cg(),_g=class{constructor(){this.requestPostSpanHook=e=>{var t,n,i;switch(e.commandName){case"SendMessage":{let s=(t=e.commandInput.MessageAttributes)!==null&&t!==void 0?t:{};s&&(e.commandInput.MessageAttributes=ya.injectPropagationContext(s))}break;case"SendMessageBatch":(i=(n=e.commandInput)===null||n===void 0?void 0:n.Entries)===null||i===void 0||i.forEach(s=>{var o;s.MessageAttributes=ya.injectPropagationContext((o=s.MessageAttributes)!==null&&o!==void 0?o:{})});break}},this.responseHook=(e,t,n,i)=>{var s,o;switch(e.request.commandName){case"SendMessage":t.setAttribute(We.SemanticAttributes.MESSAGING_MESSAGE_ID,(s=e==null?void 0:e.data)===null||s===void 0?void 0:s.MessageId);break;case"SendMessageBatch":break;case"ReceiveMessage":{let u=(o=e==null?void 0:e.data)===null||o===void 0?void 0:o.Messages;if(u){let c=this.extractQueueUrl(e.request.commandInput),_=this.extractQueueNameFromUrl(c);JD.pubsubPropagation.patchMessagesArrayToStartProcessSpans({messages:u,parentContext:Sr.trace.setSpan(Sr.context.active(),t),tracer:n,messageToSpanDetails:l=>({name:_??"unknown",parentContext:Sr.propagation.extract(Sr.ROOT_CONTEXT,ya.extractPropagationContext(l,i.sqsExtractContextPropagationFromPayload),ya.contextGetter),attributes:{[We.SemanticAttributes.MESSAGING_SYSTEM]:"aws.sqs",[We.SemanticAttributes.MESSAGING_DESTINATION]:_,[We.SemanticAttributes.MESSAGING_DESTINATION_KIND]:We.MessagingDestinationKindValues.QUEUE,[We.SemanticAttributes.MESSAGING_MESSAGE_ID]:l.MessageId,[We.SemanticAttributes.MESSAGING_URL]:c,[We.SemanticAttributes.MESSAGING_OPERATION]:We.MessagingOperationValues.PROCESS}}),processHook:(l,d)=>{var p;return(p=i.sqsProcessHook)===null||p===void 0?void 0:p.call(i,l,{message:d})}}),JD.pubsubPropagation.patchArrayForProcessSpans(u,n,Sr.context.active())}break}}},this.extractQueueUrl=e=>e==null?void 0:e.QueueUrl,this.extractQueueNameFromUrl=e=>{if(!e)return;let t=e.split("/");if(t.length!==0)return t[t.length-1]}}requestPreSpanHook(e){let t=this.extractQueueUrl(e.commandInput),n=this.extractQueueNameFromUrl(t),i=Sr.SpanKind.CLIENT,s,o={[We.SemanticAttributes.MESSAGING_SYSTEM]:"aws.sqs",[We.SemanticAttributes.MESSAGING_DESTINATION_KIND]:We.MessagingDestinationKindValues.QUEUE,[We.SemanticAttributes.MESSAGING_DESTINATION]:n,[We.SemanticAttributes.MESSAGING_URL]:t},u=!1;switch(e.commandName){case"ReceiveMessage":u=!0,i=Sr.SpanKind.CONSUMER,s=`${n} receive`,o[We.SemanticAttributes.MESSAGING_OPERATION]=We.MessagingOperationValues.RECEIVE,e.commandInput.MessageAttributeNames=ya.addPropagationFieldsToAttributeNames(e.commandInput.MessageAttributeNames,Sr.propagation.fields());break;case"SendMessage":case"SendMessageBatch":i=Sr.SpanKind.PRODUCER,s=`${n} send`;break}return{isIncoming:u,spanAttributes:o,spanKind:i,spanName:s}}};DE.SqsServiceExtension=_g});var t0=a(wE=>{"use strict";Object.defineProperty(wE,"__esModule",{value:!0});wE.DynamodbServiceExtension=void 0;var l6=f(),Ii=ge(),lg=class{requestPreSpanHook(e){var t;let n=l6.SpanKind.CLIENT,i,s=!1,o=e.commandName,u={[Ii.SemanticAttributes.DB_SYSTEM]:Ii.DbSystemValues.DYNAMODB,[Ii.SemanticAttributes.DB_NAME]:(t=e.commandInput)===null||t===void 0?void 0:t.TableName,[Ii.SemanticAttributes.DB_OPERATION]:o,[Ii.SemanticAttributes.DB_STATEMENT]:JSON.stringify(e.commandInput)};return o=="BatchGetItem"&&(u[Ii.SemanticAttributes.AWS_DYNAMODB_TABLE_NAMES]=Object.keys(e.commandInput.RequestItems)),{isIncoming:s,spanAttributes:u,spanKind:n,spanName:i}}responseHook(e,t,n,i){var s;e.request.commandName==="BatchGetItem"&&Array.isArray((s=e.data)===null||s===void 0?void 0:s.ConsumedCapacity)&&t.setAttribute(Ii.SemanticAttributes.AWS_DYNAMODB_CONSUMED_CAPACITY,e.data.ConsumedCapacity.map(u=>JSON.stringify(u)))}};wE.DynamodbServiceExtension=lg});var n0=a(UE=>{"use strict";Object.defineProperty(UE,"__esModule",{value:!0});UE.SnsServiceExtension=void 0;var r0=f(),La=ge(),d6=cg(),dg=class{requestPreSpanHook(e){let t=r0.SpanKind.CLIENT,n=`SNS ${e.commandName}`,i={[La.SemanticAttributes.MESSAGING_SYSTEM]:"aws.sns"};if(e.commandName==="Publish"){t=r0.SpanKind.PRODUCER,i[La.SemanticAttributes.MESSAGING_DESTINATION_KIND]=La.MessagingDestinationKindValues.TOPIC;let{TopicArn:s,TargetArn:o,PhoneNumber:u}=e.commandInput;i[La.SemanticAttributes.MESSAGING_DESTINATION]=this.extractDestinationName(s,o,u),n=`${u?"phone_number":i[La.SemanticAttributes.MESSAGING_DESTINATION]} send`}return{isIncoming:!1,spanAttributes:i,spanKind:t,spanName:n}}requestPostSpanHook(e){var t;if(e.commandName==="Publish"){let n=(t=e.commandInput.MessageAttributes)!==null&&t!==void 0?t:{};n&&(e.commandInput.MessageAttributes=d6.injectPropagationContext(n))}}responseHook(e,t,n,i){}extractDestinationName(e,t,n){if(e||t){let i=e??t;try{return i.substr(i.lastIndexOf(":")+1)}catch{return i}}else return n||"unknown"}};UE.SnsServiceExtension=dg});var s0=a(BE=>{"use strict";Object.defineProperty(BE,"__esModule",{value:!0});BE.LambdaServiceExtension=void 0;var Eg=f(),GE=ge(),i0=f(),Gs=class{};Gs.Invoke="Invoke";var pg=class{constructor(){this.requestPostSpanHook=e=>{switch(e.commandName){case Gs.Invoke:e.commandInput&&(e.commandInput.ClientContext=E6(e.commandInput.ClientContext));break}},this.extractFunctionName=e=>e==null?void 0:e.FunctionName}requestPreSpanHook(e){let t=this.extractFunctionName(e.commandInput),n={},i;switch(e.commandName){case"Invoke":n={[GE.SemanticAttributes.FAAS_INVOKED_NAME]:t,[GE.SemanticAttributes.FAAS_INVOKED_PROVIDER]:"aws"},e.region&&(n[GE.SemanticAttributes.FAAS_INVOKED_REGION]=e.region),i=`${t} ${Gs.Invoke}`;break}return{isIncoming:!1,spanAttributes:n,spanKind:Eg.SpanKind.CLIENT,spanName:i}}responseHook(e,t,n,i){switch(e.request.commandName){case Gs.Invoke:t.setAttribute(GE.SemanticAttributes.FAAS_EXECUTION,e.requestId);break}}};BE.LambdaServiceExtension=pg;var E6=r=>{try{let e={};i0.propagation.inject(i0.context.active(),e);let t=r?JSON.parse(Buffer.from(r,"base64").toString("utf8")):{},n=Object.assign(Object.assign({},t),{Custom:Object.assign(Object.assign({},t.Custom),e)}),i=Buffer.from(JSON.stringify(n)).toString("base64");return i.length>3583?(Eg.diag.warn("lambda instrumentation: cannot set context propagation on lambda invoke parameters due to ClientContext length limitations."),r):i}catch(e){return Eg.diag.debug("lambda instrumentation: failed to set context propagation on ClientContext",e),r}}});var o0=a(qE=>{"use strict";Object.defineProperty(qE,"__esModule",{value:!0});qE.ServicesExtensions=void 0;var p6=e0(),f6=t0(),T6=n0(),A6=s0(),fg=class{constructor(){this.services=new Map,this.services.set("SQS",new p6.SqsServiceExtension),this.services.set("SNS",new T6.SnsServiceExtension),this.services.set("DynamoDB",new f6.DynamodbServiceExtension),this.services.set("Lambda",new A6.LambdaServiceExtension)}requestPreSpanHook(e){let t=this.services.get(e.serviceName);return t?t.requestPreSpanHook(e):{isIncoming:!1}}requestPostSpanHook(e){let t=this.services.get(e.serviceName);if(t!=null&&t.requestPostSpanHook)return t.requestPostSpanHook(e)}responseHook(e,t,n,i){var s;let o=this.services.get(e.request.serviceName);(s=o==null?void 0:o.responseHook)===null||s===void 0||s.call(o,e,t,n,i)}};qE.ServicesExtensions=fg});var a0=a(jE=>{"use strict";Object.defineProperty(jE,"__esModule",{value:!0});jE.ServicesExtensions=void 0;var S6=o0();Object.defineProperty(jE,"ServicesExtensions",{enumerable:!0,get:function(){return S6.ServicesExtensions}})});var u0=a(VE=>{"use strict";Object.defineProperty(VE,"__esModule",{value:!0});VE.VERSION=void 0;VE.VERSION="0.33.0"});var _0=a(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.bindPromise=at.extractAttributesFromNormalizedRequest=at.normalizeV3Request=at.normalizeV2Request=at.removeSuffixFromStringIfExists=void 0;var c0=f(),Tg=ge(),h6=ig(),g6=r=>typeof r=="string"?r.charAt(0).toUpperCase()+r.slice(1):r,O6=(r,e)=>{let t=e.length;return(r==null?void 0:r.slice(-t))===e?r.slice(0,r.length-t):r};at.removeSuffixFromStringIfExists=O6;var m6=r=>{var e,t,n;let i=r==null?void 0:r.service;return{serviceName:(t=(e=i==null?void 0:i.api)===null||e===void 0?void 0:e.serviceId)===null||t===void 0?void 0:t.replace(/\s+/g,""),commandName:g6(r==null?void 0:r.operation),commandInput:r.params,region:(n=i==null?void 0:i.config)===null||n===void 0?void 0:n.region}};at.normalizeV2Request=m6;var R6=(r,e,t,n)=>({serviceName:r==null?void 0:r.replace(/\s+/g,""),commandName:at.removeSuffixFromStringIfExists(e,"Command"),commandInput:t,region:n});at.normalizeV3Request=R6;var P6=r=>({[Tg.SemanticAttributes.RPC_SYSTEM]:"aws-api",[Tg.SemanticAttributes.RPC_METHOD]:r.commandName,[Tg.SemanticAttributes.RPC_SERVICE]:r.serviceName,[h6.AttributeNames.AWS_REGION]:r.region});at.extractAttributesFromNormalizedRequest=P6;var N6=(r,e,t=1)=>{let n=r.then;return r.then=function(i,s){let o=c0.context.bind(e,i),u=c0.context.bind(e,s),c=n.call(this,o,u);return t>1?at.bindPromise(c,e,t-1):c},r};at.bindPromise=N6});var E0=a(HE=>{"use strict";Object.defineProperty(HE,"__esModule",{value:!0});HE.AwsInstrumentation=void 0;var oe=f(),I6=Se(),Nt=ig(),b6=a0(),v6=u0(),It=Dc(),sn=_0(),l0=ge(),d0=Symbol("opentelemetry.instrumentation.aws-sdk.client.config"),Bs=Symbol("opentelemetry.instrumentation.aws-sdk.span"),hr=class extends It.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-aws-sdk",v6.VERSION,Object.assign({},e)),this.servicesExtensions=new b6.ServicesExtensions}setConfig(e={}){this._config=Object.assign({},e)}init(){let e=new It.InstrumentationNodeModuleFile("@aws-sdk/middleware-stack/dist/cjs/MiddlewareStack.js",[">=3.1.0 <3.35.0"],this.patchV3ConstructStack.bind(this),this.unpatchV3ConstructStack.bind(this)),t=new It.InstrumentationNodeModuleFile("@aws-sdk/middleware-stack/dist-cjs/MiddlewareStack.js",[">=3.35.0"],this.patchV3ConstructStack.bind(this),this.unpatchV3ConstructStack.bind(this)),n=new It.InstrumentationNodeModuleDefinition("@aws-sdk/middleware-stack",["^3.1.0"],void 0,void 0,[e,t]),i=new It.InstrumentationNodeModuleDefinition("@aws-sdk/smithy-client",["^3.1.0"],this.patchV3SmithyClient.bind(this),this.unpatchV3SmithyClient.bind(this)),s=new It.InstrumentationNodeModuleFile("aws-sdk/lib/core.js",["^2.308.0"],this.patchV2.bind(this),this.unpatchV2.bind(this));return[new It.InstrumentationNodeModuleDefinition("aws-sdk",["^2.308.0"],void 0,void 0,[s]),n,i]}patchV3ConstructStack(e,t){return oe.diag.debug("aws-sdk instrumentation: applying patch to aws-sdk v3 constructStack"),this._wrap(e,"constructStack",this._getV3ConstructStackPatch.bind(this,t)),e}unpatchV3ConstructStack(e){return oe.diag.debug("aws-sdk instrumentation: applying unpatch to aws-sdk v3 constructStack"),this._unwrap(e,"constructStack"),e}patchV3SmithyClient(e){return oe.diag.debug("aws-sdk instrumentation: applying patch to aws-sdk v3 client send"),this._wrap(e.Client.prototype,"send",this._getV3SmithyClientSendPatch.bind(this)),e}unpatchV3SmithyClient(e){return oe.diag.debug("aws-sdk instrumentation: applying patch to aws-sdk v3 constructStack"),this._unwrap(e.Client.prototype,"send"),e}patchV2(e,t){return oe.diag.debug(`aws-sdk instrumentation: applying patch to ${hr.component}`),this.unpatchV2(e),this._wrap(e==null?void 0:e.Request.prototype,"send",this._getRequestSendPatch.bind(this,t)),this._wrap(e==null?void 0:e.Request.prototype,"promise",this._getRequestPromisePatch.bind(this,t)),e}unpatchV2(e){It.isWrapped(e==null?void 0:e.Request.prototype.send)&&this._unwrap(e.Request.prototype,"send"),It.isWrapped(e==null?void 0:e.Request.prototype.promise)&&this._unwrap(e.Request.prototype,"promise")}_startAwsV3Span(e,t){var n,i;let s=(n=t.spanName)!==null&&n!==void 0?n:`${e.serviceName}.${e.commandName}`;return this.tracer.startSpan(s,{kind:(i=t.spanKind)!==null&&i!==void 0?i:oe.SpanKind.CLIENT,attributes:Object.assign(Object.assign({},sn.extractAttributesFromNormalizedRequest(e)),t.spanAttributes)})}_startAwsV2Span(e,t,n){var i,s,o,u,c;let _=e.operation,l=e.service,d=l==null?void 0:l.serviceIdentifier,p=(i=t.spanName)!==null&&i!==void 0?i:`${n.serviceName}.${n.commandName}`;return this.tracer.startSpan(p,{kind:(s=t.spanKind)!==null&&s!==void 0?s:oe.SpanKind.CLIENT,attributes:Object.assign(Object.assign({[Nt.AttributeNames.AWS_OPERATION]:_,[Nt.AttributeNames.AWS_SIGNATURE_VERSION]:(o=l==null?void 0:l.config)===null||o===void 0?void 0:o.signatureVersion,[Nt.AttributeNames.AWS_SERVICE_API]:(u=l==null?void 0:l.api)===null||u===void 0?void 0:u.className,[Nt.AttributeNames.AWS_SERVICE_IDENTIFIER]:d,[Nt.AttributeNames.AWS_SERVICE_NAME]:(c=l==null?void 0:l.api)===null||c===void 0?void 0:c.abbreviation},sn.extractAttributesFromNormalizedRequest(n)),t.spanAttributes)})}_callUserPreRequestHook(e,t,n){var i;if(!((i=this._config)===null||i===void 0)&&i.preRequestHook){let s={moduleVersion:n,request:t};It.safeExecuteInTheMiddle(()=>this._config.preRequestHook(e,s),o=>{o&&oe.diag.error(`${hr.component} instrumentation: preRequestHook error`,o)},!0)}}_callUserResponseHook(e,t){var n;let i=(n=this._config)===null||n===void 0?void 0:n.responseHook;if(!i)return;let s={response:t};It.safeExecuteInTheMiddle(()=>i(e,s),o=>{o&&oe.diag.error(`${hr.component} instrumentation: responseHook error`,o)},!0)}_registerV2CompletedEvent(e,t,n,i){let s=this;t.on("complete",o=>{oe.context.with(i,()=>{var u;if(!t[Bs])return;delete t[Bs];let c=o.requestId,_={data:o.data,request:n,requestId:c};s._callUserResponseHook(e,_),o.error?e.setAttribute(Nt.AttributeNames.AWS_ERROR,o.error):this.servicesExtensions.responseHook(_,e,s.tracer,s._config),e.setAttribute(Nt.AttributeNames.AWS_REQUEST_ID,c);let l=(u=o.httpResponse)===null||u===void 0?void 0:u.statusCode;l&&e.setAttribute(l0.SemanticAttributes.HTTP_STATUS_CODE,l),e.end()})})}_getV3ConstructStackPatch(e,t){let n=this;return function(...s){let o=t.apply(this,s);return n.patchV3MiddlewareStack(e,o),o}}_getV3SmithyClientSendPatch(e){return function(n,...i){return n[d0]=this.config,e.apply(this,[n,...i])}}patchV3MiddlewareStack(e,t){It.isWrapped(t.resolve)||this._wrap(t,"resolve",this._getV3MiddlewareStackResolvePatch.bind(this,e)),this._wrap(t,"clone",this._getV3MiddlewareStackClonePatch.bind(this,e)),this._wrap(t,"concat",this._getV3MiddlewareStackClonePatch.bind(this,e))}_getV3MiddlewareStackClonePatch(e,t){let n=this;return function(...i){let s=t.apply(this,i);return n.patchV3MiddlewareStack(e,s),s}}_getV3MiddlewareStackResolvePatch(e,t){let n=this;return function(i,s){let o=t.call(this,i,s);return function(c){var _,l,d,p;let E=c[d0],O=(_=E==null?void 0:E.region)===null||_===void 0?void 0:_.call(E),R=(l=E==null?void 0:E.serviceId)!==null&&l!==void 0?l:sn.removeSuffixFromStringIfExists(s.clientName,"Client"),C=(d=s.commandName)!==null&&d!==void 0?d:(p=c.constructor)===null||p===void 0?void 0:p.name,P=sn.normalizeV3Request(R,C,c.input,void 0),ae=n.servicesExtensions.requestPreSpanHook(P),b=n._startAwsV3Span(P,ae),V=oe.trace.setSpan(oe.context.active(),b),ke=new Promise((Y,N)=>{Promise.resolve(O).then(j=>{P.region=j,b.setAttribute(Nt.AttributeNames.AWS_REGION,j)}).catch(j=>{oe.diag.debug(`${hr.component} instrumentation: failed to extract region from async function`,j)}).finally(()=>{n._callUserPreRequestHook(b,P,e),oe.context.with(V,()=>(n.servicesExtensions.requestPostSpanHook(P),n._callOriginalFunction(()=>o.call(this,c)))).then(F=>{var S,v,te,D,J,Ce;let re=(v=(S=F.output)===null||S===void 0?void 0:S.$metadata)===null||v===void 0?void 0:v.requestId;re&&b.setAttribute(Nt.AttributeNames.AWS_REQUEST_ID,re);let ne=(D=(te=F.output)===null||te===void 0?void 0:te.$metadata)===null||D===void 0?void 0:D.httpStatusCode;ne&&b.setAttribute(l0.SemanticAttributes.HTTP_STATUS_CODE,ne);let me=(Ce=(J=F.output)===null||J===void 0?void 0:J.$metadata)===null||Ce===void 0?void 0:Ce.extendedRequestId;me&&b.setAttribute(Nt.AttributeNames.AWS_REQUEST_EXTENDED_ID,me);let Tt={data:F.output,request:P,requestId:re};return n.servicesExtensions.responseHook(Tt,b,n.tracer,n._config),n._callUserResponseHook(b,Tt),F}).catch(F=>{let S=F==null?void 0:F.RequestId;S&&b.setAttribute(Nt.AttributeNames.AWS_REQUEST_ID,S);let v=F==null?void 0:F.extendedRequestId;throw v&&b.setAttribute(Nt.AttributeNames.AWS_REQUEST_EXTENDED_ID,v),b.setStatus({code:oe.SpanStatusCode.ERROR,message:F.message}),b.recordException(F),F}).finally(()=>{b.end()}).then(F=>{Y(F)}).catch(F=>N(F))})});return ae.isIncoming?sn.bindPromise(ke,V,2):ke}}}_getRequestSendPatch(e,t){let n=this;return function(i){if(this[Bs])return t.call(this,i);let s=sn.normalizeV2Request(this),o=n.servicesExtensions.requestPreSpanHook(s),u=n._startAwsV2Span(this,o,s);this[Bs]=u;let c=oe.trace.setSpan(oe.context.active(),u),_=oe.context.bind(c,i);return n._callUserPreRequestHook(u,s,e),n._registerV2CompletedEvent(u,this,s,c),oe.context.with(c,()=>(n.servicesExtensions.requestPostSpanHook(s),n._callOriginalFunction(()=>t.call(this,_))))}}_getRequestPromisePatch(e,t){let n=this;return function(...i){if(this[Bs])return t.apply(this,i);let s=sn.normalizeV2Request(this),o=n.servicesExtensions.requestPreSpanHook(s),u=n._startAwsV2Span(this,o,s);this[Bs]=u;let c=oe.trace.setSpan(oe.context.active(),u);n._callUserPreRequestHook(u,s,e),n._registerV2CompletedEvent(u,this,s,c);let _=oe.context.with(c,()=>(n.servicesExtensions.requestPostSpanHook(s),n._callOriginalFunction(()=>t.call(this,arguments))));return o.isIncoming?sn.bindPromise(_,c):_}}_callOriginalFunction(e){var t;return!((t=this._config)===null||t===void 0)&&t.suppressInternalInstrumentation?oe.context.with(I6.suppressTracing(oe.context.active()),e):e()}};HE.AwsInstrumentation=hr;hr.component="aws-sdk"});var f0=a(p0=>{"use strict";Object.defineProperty(p0,"__esModule",{value:!0})});var A0=a(on=>{"use strict";var C6=on&&on.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),T0=on&&on.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&C6(e,r,t)};Object.defineProperty(on,"__esModule",{value:!0});T0(E0(),on);T0(f0(),on)});var h0=hg(eI()),g0=hg(g_());function Bo(r,e="",t={}){if(e&&typeof r=="object"&&r!==null&&Object.keys(r).length===0)return t[e]=Array.isArray(r)?[]:{},t;e=e?`${e}.`:"";for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(typeof r[n]=="object"&&r[n]!==null?Bo(r[n],e+n,t):t[e+n]=r[n]);return t}var gr=f(),{BatchSpanProcessor:M6}=Ho(),{OTLPTraceExporter:y6}=wL(),{NodeTracerProvider:L6}=ZL(),{registerInstrumentations:D6}=Dc(),{AwsLambdaInstrumentation:w6}=WD(),{AwsInstrumentation:U6}=A0();process.env.OTEL_LOG_LEVEL==="debug"&&(console.log("debug logging enabled"),gr.diag.setLogger(new gr.DiagConsoleLogger,gr.DiagLogLevel.ALL));var O0=new L6({resource:new g0.Resource({"service.name":process.env.BASELIME_NAMESPACE})}),G6=new M6(new y6({url:process.env.COLLECTOR_URL||"https://otel.baselime.io/v1",headers:{"x-api-key":process.env.BASELIME_OTEL_KEY}}));O0.addSpanProcessor(G6);O0.register();function B6(r){var e,t;return(e=r.requestContext)!=null&&e.apiId?"api":r.Records&&((t=r.Records[0])==null?void 0:t.EventSource)==="aws:sns"?"sns":"unknown"}var S0={keys(r){return Object.keys(r)},get(r,e){return r[e]}},q6={keys(r){return Object.keys(r)},get(r,e){var t;return console.log(r,e),(t=r[e])==null?void 0:t.Value}};D6({instrumentations:[new U6({suppressInternalInstrumentation:!0,responseHook:(r,{response:e})=>{e&&r.setAttributes(Bo({request:e.request,response:e.data}))}}),new h0.HttpInstrumentation({}),new w6({disableAwsContextPropagation:!0,requestHook:(r,{event:e,context:t})=>{r.setAttribute("name",t.functionName),r.setAttributes(Bo(e,"event"))},responseHook:(r,{err:e,res:t})=>{e instanceof Error&&(r.setAttribute("error.message",e.message),r.setAttribute("error.name",e.name),r.setAttribute("error.stack",e.stack)),t&&r.setAttributes(Bo(t,"response"))},eventContextExtractor:r=>{switch(B6(r)){case"api":let e=r.headers||{};return gr.propagation.extract(gr.context.active(),e,S0);case"sns":return gr.propagation.extract(gr.context.active(),r.Records[0].Sns.MessageAttributes,q6)}return gr.propagation.extract(gr.context.active(),{},S0)}})]});
